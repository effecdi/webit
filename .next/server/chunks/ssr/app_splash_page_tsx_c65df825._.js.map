{"version":3,"sources":["../../../../app/splash/page.tsx"],"sourcesContent":["\"use client\"\n\nimport { useEffect, useState } from \"react\"\nimport { useRouter } from \"next/navigation\"\nimport { useAuth } from \"@/hooks/use-auth\"\n\nexport default function SplashPage() {\n  const router = useRouter()\n  const { isAuthenticated, isLoading, user } = useAuth()\n  const [showLogo, setShowLogo] = useState(false)\n  const [fadeOut, setFadeOut] = useState(false)\n\n  useEffect(() => {\n    const logoTimer = setTimeout(() => setShowLogo(true), 300)\n    return () => clearTimeout(logoTimer)\n  }, [])\n\n  useEffect(() => {\n    if (isLoading) return\n\n    const fadeTimer = setTimeout(() => setFadeOut(true), 1500)\n    \n    const navigateTimer = setTimeout(() => {\n      if (!isAuthenticated) {\n        router.push(\"/login\")\n        return\n      }\n\n      const hasCompletedSurvey = localStorage.getItem(\"survey_myName\")\n      const selectedMode = localStorage.getItem(\"selected_mode\")\n\n      if (user?.firstName && !hasCompletedSurvey) {\n        localStorage.setItem(\"survey_myName\", user.firstName)\n      }\n\n      if (hasCompletedSurvey && selectedMode) {\n        if (selectedMode === \"dating\") {\n          router.push(\"/dating\")\n        } else if (selectedMode === \"wedding\") {\n          router.push(\"/wedding\")\n        } else if (selectedMode === \"family\") {\n          router.push(\"/family\")\n        } else {\n          router.push(\"/dating\")\n        }\n      } else if (hasCompletedSurvey) {\n        router.push(\"/dating\")\n      } else {\n        router.push(\"/survey/step1\")\n      }\n    }, 2000)\n\n    return () => {\n      clearTimeout(fadeTimer)\n      clearTimeout(navigateTimer)\n    }\n  }, [isLoading, isAuthenticated, user, router])\n\n  return (\n    <main \n      className={`min-h-dvh bg-white flex items-center justify-center transition-opacity duration-500 ${\n        fadeOut ? \"opacity-0\" : \"opacity-100\"\n      }`}\n    >\n      <div \n        className={`text-center transition-all duration-1000 ${\n          showLogo ? \"opacity-100 scale-100\" : \"opacity-0 scale-90\"\n        }`}\n      >\n        <h1 className=\"text-5xl font-bold text-blue-500 tracking-tight\">\n          WE:VE\n        </h1>\n        <p className=\"mt-3 text-[15px] text-[#8B95A1]\">\n          Our Every Moment Together\n        </p>\n        \n        <div className=\"mt-8 flex justify-center\">\n          <div className=\"w-8 h-8 border-3 border-blue-500 border-t-transparent rounded-full animate-spin\" />\n        </div>\n      </div>\n    </main>\n  )\n}\n"],"names":[],"mappings":"wDAEA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,MACA,EAAA,EAAA,CAAA,CAAA,OAEe,SAAS,IACtB,IAAM,EAAS,CAAA,EAAA,EAAA,SAAA,AAAS,IAClB,iBAAE,CAAe,WAAE,CAAS,MAAE,CAAI,CAAE,CAAG,CAAA,EAAA,EAAA,OAAA,AAAO,IAC9C,CAAC,EAAU,EAAY,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GACnC,CAAC,EAAS,EAAW,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GAgDvC,MA9CA,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACR,IAAM,EAAY,WAAW,IAAM,GAAY,GAAO,KACtD,MAAO,IAAM,aAAa,EAC5B,EAAG,EAAE,EAEL,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACR,GAAI,EAAW,OAEf,IAAM,EAAY,WAAW,IAAM,GAAW,GAAO,MAE/C,EAAgB,WAAW,KAC/B,GAAI,CAAC,EAAiB,YACpB,EAAO,IAAI,CAAC,UAId,IAAM,EAAqB,aAAa,OAAO,CAAC,iBAC1C,EAAe,aAAa,OAAO,CAAC,iBAEtC,GAAM,WAAa,CAAC,GACtB,aAAa,IAD6B,GACtB,CAAC,gBAAiB,EAAK,SAAS,EAGlD,GAAsB,EACH,UAAU,CAA3B,CADkC,CAEpC,EAAO,IAAI,CAAC,WACH,AAAiB,WAAW,GACrC,EAAO,IAAI,CAAC,YACc,UAAU,CAA3B,EACT,EAAO,IAAI,CAAC,WAEZ,EAAO,IAAI,CAAC,WAEL,EACT,EAAO,IAAI,CAAC,WADiB,AAG7B,EAAO,IAAI,CAAC,gBAEhB,EAAG,KAEH,MAAO,KACL,aAAa,GACb,aAAa,EACf,CACF,EAAG,CAAC,EAAW,EAAiB,EAAM,EAAO,EAG3C,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CACC,UAAW,CAAC,oFAAoF,EAC9F,EAAU,YAAc,cAAA,CACxB,UAEF,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CACC,UAAW,CAAC,yCAAyC,EACnD,EAAW,wBAA0B,qBAAA,CACrC,WAEF,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,2DAAkD,UAGhE,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAU,2CAAkC,8BAI/C,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,oCACb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,0FAKzB"}