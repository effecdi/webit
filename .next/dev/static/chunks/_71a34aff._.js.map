{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/components/dating/gallery-view.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport {\n  Plus,\n  X,\n  ChevronLeft,\n  ChevronRight,\n  Heart,\n  Upload,\n  Check,\n  MoreHorizontal,\n  Share2,\n  Trash2,\n  FolderPlus,\n} from \"lucide-react\";\nimport { ImageIcon } from \"lucide-react\";\nimport Link from \"next/link\";\n\ninterface Album {\n  id: number;\n  title: string;\n  thumbnail: string | null;\n  eventDate: string | null;\n  photoCount: number;\n}\n\ninterface Photo {\n  id: number;\n  url: string;\n  caption: string | null;\n  liked: boolean;\n  createdAt: string;\n  albumId?: number | null;\n}\n\nexport function GalleryView() {\n  const [albums, setAlbums] = useState<Album[]>([]);\n  const [photos, setPhotos] = useState<Photo[]>([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [selectedPhotoIndex, setSelectedPhotoIndex] = useState<number | null>(\n    null,\n  );\n  const [showAddAlbumModal, setShowAddAlbumModal] = useState(false);\n  const [showAddPhotoModal, setShowAddPhotoModal] = useState(false);\n  const [newAlbumTitle, setNewAlbumTitle] = useState(\"\");\n  const [uploading, setUploading] = useState(false);\n  const [newPhotoCaption, setNewPhotoCaption] = useState(\"\");\n  const [selectedFile, setSelectedFile] = useState<File | null>(null);\n  const [previewUrl, setPreviewUrl] = useState<string | null>(null);\n\n  // Multi-select mode\n  const [isSelectMode, setIsSelectMode] = useState(false);\n  const [selectedPhotos, setSelectedPhotos] = useState<Set<number>>(new Set());\n  const [showMoreMenu, setShowMoreMenu] = useState(false);\n  const [showAlbumSheet, setShowAlbumSheet] = useState(false);\n\n  useEffect(() => {\n    fetchData();\n  }, []);\n\n  // Prevent body scroll when any modal is open\n  useEffect(() => {\n    const isAnyModalOpen =\n      showMoreMenu ||\n      showAlbumSheet ||\n      showAddAlbumModal ||\n      showAddPhotoModal ||\n      selectedPhotoIndex !== null;\n    if (isAnyModalOpen) {\n      document.body.style.overflow = \"hidden\";\n    } else {\n      document.body.style.overflow = \"\";\n    }\n    return () => {\n      document.body.style.overflow = \"\";\n    };\n  }, [\n    showMoreMenu,\n    showAlbumSheet,\n    showAddAlbumModal,\n    showAddPhotoModal,\n    selectedPhotoIndex,\n  ]);\n\n  const fetchData = async () => {\n    setIsLoading(true);\n    try {\n      const [albumsRes, photosRes] = await Promise.all([\n        fetch(\"/api/albums?mode=dating\"),\n        fetch(\"/api/photos?mode=dating\"),\n      ]);\n      const albumsData = await albumsRes.json();\n      const photosData = await photosRes.json();\n      setAlbums(albumsData);\n      setPhotos(photosData);\n    } catch (error) {\n      console.error(\"Error fetching data:\", error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handlePrev = () => {\n    if (selectedPhotoIndex !== null && selectedPhotoIndex > 0) {\n      setSelectedPhotoIndex(selectedPhotoIndex - 1);\n    }\n  };\n\n  const handleNext = () => {\n    if (selectedPhotoIndex !== null && selectedPhotoIndex < photos.length - 1) {\n      setSelectedPhotoIndex(selectedPhotoIndex + 1);\n    }\n  };\n\n  const toggleLike = async (id: number) => {\n    const photo = photos.find((p) => p.id === id);\n    if (!photo) return;\n\n    try {\n      await fetch(\"/api/photos\", {\n        method: \"PATCH\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ id, liked: !photo.liked }),\n      });\n      setPhotos(\n        photos.map((p) => (p.id === id ? { ...p, liked: !p.liked } : p)),\n      );\n    } catch (error) {\n      console.error(\"Error toggling like:\", error);\n    }\n  };\n\n  const createAlbum = async () => {\n    if (!newAlbumTitle.trim()) return;\n\n    try {\n      const res = await fetch(\"/api/albums\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          title: newAlbumTitle,\n          mode: \"dating\",\n        }),\n      });\n      const newAlbum = await res.json();\n      setAlbums([newAlbum, ...albums]);\n      setNewAlbumTitle(\"\");\n      setShowAddAlbumModal(false);\n    } catch (error) {\n      console.error(\"Error creating album:\", error);\n    }\n  };\n\n  const handleFileSelect = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const file = e.target.files?.[0];\n    if (file) {\n      setSelectedFile(file);\n      const reader = new FileReader();\n      reader.onloadend = () => {\n        setPreviewUrl(reader.result as string);\n      };\n      reader.readAsDataURL(file);\n    }\n  };\n\n  const uploadPhoto = async () => {\n    if (!selectedFile) return;\n\n    setUploading(true);\n    try {\n      const formData = new FormData();\n      formData.append(\"file\", selectedFile);\n\n      const uploadRes = await fetch(\"/api/upload\", {\n        method: \"POST\",\n        body: formData,\n      });\n      const { url } = await uploadRes.json();\n\n      const photoRes = await fetch(\"/api/photos\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          url,\n          caption: newPhotoCaption || null,\n          mode: \"dating\",\n        }),\n      });\n      const newPhoto = await photoRes.json();\n      setPhotos([newPhoto, ...photos]);\n\n      setShowAddPhotoModal(false);\n      setSelectedFile(null);\n      setPreviewUrl(null);\n      setNewPhotoCaption(\"\");\n    } catch (error) {\n      console.error(\"Error uploading photo:\", error);\n    } finally {\n      setUploading(false);\n    }\n  };\n\n  const closePhotoModal = () => {\n    setShowAddPhotoModal(false);\n    setSelectedFile(null);\n    setPreviewUrl(null);\n    setNewPhotoCaption(\"\");\n  };\n\n  const formatDate = (dateStr: string) => {\n    const date = new Date(dateStr);\n    return `${date.getFullYear()}.${String(date.getMonth() + 1).padStart(2, \"0\")}.${String(date.getDate()).padStart(2, \"0\")}`;\n  };\n\n  // Multi-select functions\n  const toggleSelectMode = () => {\n    setIsSelectMode(!isSelectMode);\n    setSelectedPhotos(new Set());\n    setShowMoreMenu(false);\n  };\n\n  const togglePhotoSelection = (photoId: number) => {\n    const newSelected = new Set(selectedPhotos);\n    if (newSelected.has(photoId)) {\n      newSelected.delete(photoId);\n    } else {\n      newSelected.add(photoId);\n    }\n    setSelectedPhotos(newSelected);\n  };\n\n  const handlePhotoClick = (photo: Photo, index: number) => {\n    if (isSelectMode) {\n      togglePhotoSelection(photo.id);\n    } else {\n      setSelectedPhotoIndex(index);\n    }\n  };\n\n  const movePhotosToAlbum = async (albumId: number) => {\n    if (selectedPhotos.size === 0) return;\n\n    try {\n      const promises = Array.from(selectedPhotos).map((photoId) =>\n        fetch(\"/api/photos\", {\n          method: \"PATCH\",\n          headers: { \"Content-Type\": \"application/json\" },\n          body: JSON.stringify({ id: photoId, albumId }),\n        }),\n      );\n      await Promise.all(promises);\n\n      // Update local state\n      setPhotos(\n        photos.map((p) => (selectedPhotos.has(p.id) ? { ...p, albumId } : p)),\n      );\n\n      // Update album photo counts\n      await fetchData();\n\n      setShowAlbumSheet(false);\n      setShowMoreMenu(false);\n      setIsSelectMode(false);\n      setSelectedPhotos(new Set());\n    } catch (error) {\n      console.error(\"Error moving photos:\", error);\n    }\n  };\n\n  const deleteSelectedPhotos = async () => {\n    if (selectedPhotos.size === 0) return;\n\n    if (!confirm(`${selectedPhotos.size}장의 사진을 삭제하시겠습니까?`)) return;\n\n    try {\n      const promises = Array.from(selectedPhotos).map((photoId) =>\n        fetch(\"/api/photos\", {\n          method: \"DELETE\",\n          headers: { \"Content-Type\": \"application/json\" },\n          body: JSON.stringify({ id: photoId }),\n        }),\n      );\n      await Promise.all(promises);\n\n      setPhotos(photos.filter((p) => !selectedPhotos.has(p.id)));\n      setIsSelectMode(false);\n      setSelectedPhotos(new Set());\n    } catch (error) {\n      console.error(\"Error deleting photos:\", error);\n    }\n  };\n\n  return (\n    <>\n      <header className=\"sticky top-0 z-50 bg-white/80 backdrop-blur-md border-b border-[#E5E8EB]\">\n        <div className=\"flex items-center justify-between px-5 h-14 max-w-md mx-auto\">\n          {isSelectMode ? (\n            <>\n              <button\n                onClick={toggleSelectMode}\n                className=\"text-[15px] text-[#8B95A1]\"\n                data-testid=\"button-cancel-select\"\n              >\n                취소\n              </button>\n              <h1 className=\"text-[17px] font-bold text-[#191F28]\">\n                {selectedPhotos.size > 0\n                  ? `${selectedPhotos.size}장 선택됨`\n                  : \"항목 선택\"}\n              </h1>\n              <button\n                onClick={() => setShowMoreMenu(true)}\n                className=\"p-2 -mr-2 rounded-full hover:bg-[#F2F4F6]\"\n                data-testid=\"button-more-menu\"\n                disabled={selectedPhotos.size === 0}\n              >\n                <MoreHorizontal\n                  className={`w-6 h-6 ${selectedPhotos.size > 0 ? \"text-[#191F28]\" : \"text-[#D1D6DB]\"}`}\n                />\n              </button>\n            </>\n          ) : (\n            <>\n              <Link\n                href=\"/dating\"\n                className=\"p-2 -ml-2 rounded-full hover:bg-[#F2F4F6]\"\n                data-testid=\"button-back\"\n              >\n                <ChevronLeft className=\"w-6 h-6 text-[#191F28]\" />\n              </Link>\n              <h1 className=\"text-[17px] font-bold text-[#191F28]\">갤러리</h1>\n              <button\n                onClick={toggleSelectMode}\n                className=\"text-[15px] text-pink-500 font-medium\"\n                data-testid=\"button-select-mode\"\n              >\n                선택\n              </button>\n            </>\n          )}\n        </div>\n      </header>\n\n      <div className=\"px-5 py-5 max-w-md mx-auto pb-36\">\n        <div className=\"mb-6\">\n          <div className=\"flex items-center justify-between mb-3\">\n            <h3 className=\"text-[17px] font-bold text-[#191F28]\">앨범</h3>\n          </div>\n          <div className=\"flex gap-3 overflow-x-auto scrollbar-hide pb-2 -mx-5 px-5\">\n            <button\n              onClick={() => setShowAddAlbumModal(true)}\n              className=\"flex-shrink-0 w-28 h-36 bg-[#F2F4F6] rounded-[16px] flex flex-col items-center justify-center gap-2 hover:bg-[#E5E8EB] transition-colors\"\n              data-testid=\"button-add-album\"\n            >\n              <div className=\"w-10 h-10 rounded-full bg-[#D1D6DB] flex items-center justify-center\">\n                <Plus className=\"w-5 h-5 text-white\" />\n              </div>\n              <span className=\"text-[12px] text-[#8B95A1]\">앨범 추가</span>\n            </button>\n\n            {isLoading ? (\n              <div className=\"flex-shrink-0 w-28 h-36 bg-[#F2F4F6] rounded-[16px] animate-pulse\" />\n            ) : albums.length === 0 ? (\n              <div className=\"flex-shrink-0 w-full py-4 text-center text-[#8B95A1] text-[13px]\">\n                앨범을 추가해보세요\n              </div>\n            ) : (\n              albums.map((album) => (\n                <Link\n                  key={album.id}\n                  href={`/dating/gallery/album/${album.id}`}\n                  className=\"flex-shrink-0 w-28 rounded-[16px] overflow-hidden shadow-sm cursor-pointer hover:shadow-md transition-shadow\"\n                  data-testid={`album-card-${album.id}`}\n                >\n                  <div className=\"relative h-24 bg-gradient-to-br from-pink-100 to-purple-100\">\n                    {album.thumbnail ? (\n                      <img\n                        src={album.thumbnail}\n                        alt={album.title}\n                        className=\"w-full h-full object-cover\"\n                      />\n                    ) : (\n                      <div className=\"w-full h-full flex items-center justify-center\">\n                        <ImageIcon className=\"w-8 h-8 text-pink-300\" />\n                      </div>\n                    )}\n                  </div>\n                  <div className=\"bg-white p-2\">\n                    <p className=\"text-[13px] font-medium text-[#191F28] truncate\">\n                      {album.title}\n                    </p>\n                    <p className=\"text-[11px] text-[#8B95A1]\">\n                      {album.photoCount}장\n                    </p>\n                  </div>\n                </Link>\n              ))\n            )}\n          </div>\n        </div>\n\n        <div>\n          <div className=\"flex items-center justify-between mb-3\">\n            <h3 className=\"text-[17px] font-bold text-[#191F28]\">모든 사진</h3>\n            <span className=\"text-[13px] text-[#8B95A1]\">\n              {photos.length}장\n            </span>\n          </div>\n\n          {isLoading ? (\n            <div className=\"grid grid-cols-3 gap-1\">\n              {[1, 2, 3, 4, 5, 6].map((i) => (\n                <div\n                  key={i}\n                  className=\"aspect-square bg-[#F2F4F6] rounded-[4px] animate-pulse\"\n                />\n              ))}\n            </div>\n          ) : photos.length === 0 ? (\n            <div className=\"py-12 text-center\">\n              <div className=\"w-16 h-16 mx-auto mb-4 rounded-full bg-pink-50 flex items-center justify-center\">\n                <ImageIcon className=\"w-8 h-8 text-pink-300\" />\n              </div>\n              <p className=\"text-[#8B95A1] text-[14px]\">아직 사진이 없어요</p>\n              <p className=\"text-[#B0B8C1] text-[12px] mt-1\">\n                사진을 추가해서 추억을 남겨보세요\n              </p>\n              <button\n                onClick={() => setShowAddPhotoModal(true)}\n                className=\"mt-4 px-6 py-3 bg-pink-500 text-white rounded-full text-[14px] font-medium flex items-center gap-2 mx-auto hover:bg-pink-600 transition-colors\"\n                data-testid=\"button-add-photo-empty\"\n              >\n                <Upload className=\"w-4 h-4\" />\n                사진 추가하기\n              </button>\n            </div>\n          ) : (\n            <div className=\"grid grid-cols-3 gap-1\">\n              {photos.map((photo, index) => (\n                <button\n                  key={photo.id}\n                  onClick={() => handlePhotoClick(photo, index)}\n                  className=\"relative aspect-square overflow-hidden rounded-[4px] group\"\n                  data-testid={`photo-item-${photo.id}`}\n                >\n                  <img\n                    src={photo.url}\n                    alt=\"\"\n                    className=\"w-full h-full object-cover transition-transform group-hover:scale-105\"\n                  />\n                  {isSelectMode && (\n                    <div\n                      className={`absolute inset-0 ${selectedPhotos.has(photo.id) ? \"bg-black/20\" : \"\"}`}\n                    >\n                      <div\n                        className={`absolute bottom-2 right-2 w-6 h-6 rounded-full border-2 flex items-center justify-center transition-colors ${\n                          selectedPhotos.has(photo.id)\n                            ? \"bg-pink-500 border-pink-500\"\n                            : \"bg-white/80 border-white\"\n                        }`}\n                      >\n                        {selectedPhotos.has(photo.id) && (\n                          <Check className=\"w-4 h-4 text-white\" />\n                        )}\n                      </div>\n                    </div>\n                  )}\n                  {!isSelectMode && photo.liked && (\n                    <div className=\"absolute top-1 right-1\">\n                      <Heart className=\"w-4 h-4 text-pink-500\" fill=\"#ec4899\" />\n                    </div>\n                  )}\n                </button>\n              ))}\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* Selection Mode Bottom Bar */}\n      {isSelectMode && selectedPhotos.size > 0 && (\n        <div className=\"fixed bottom-16 left-0 right-0 bg-white border-t border-[#E5E8EB] z-40\">\n          <div className=\"flex justify-around items-center h-16 max-w-md mx-auto px-5\">\n            <button\n              onClick={() => alert(\"공유 기능은 준비 중입니다\")}\n              className=\"flex flex-col items-center gap-1 text-[#B0B8C1]\"\n              data-testid=\"button-share-photos\"\n            >\n              <Share2 className=\"w-6 h-6\" />\n              <span className=\"text-[10px]\">공유</span>\n            </button>\n            <div className=\"flex-1 text-center\">\n              <span className=\"text-[14px] font-medium text-[#191F28]\">\n                {selectedPhotos.size}장의 사진이 선택됨\n              </span>\n            </div>\n            <button\n              onClick={deleteSelectedPhotos}\n              className=\"flex flex-col items-center gap-1 text-red-500\"\n              data-testid=\"button-delete-photos\"\n            >\n              <Trash2 className=\"w-6 h-6\" />\n              <span className=\"text-[10px]\">삭제</span>\n            </button>\n          </div>\n        </div>\n      )}\n\n      {/* FAB - Add Photo Button */}\n      {!isSelectMode && photos.length > 0 && (\n        <button\n          onClick={() => setShowAddPhotoModal(true)}\n          className=\"fixed bottom-24 right-5 w-14 h-14 bg-pink-500 hover:bg-pink-600 rounded-full shadow-lg flex items-center justify-center z-40 transition-colors\"\n          data-testid=\"button-add-photo-fab\"\n        >\n          <Plus className=\"w-7 h-7 text-white\" />\n        </button>\n      )}\n\n      {/* Photo Viewer */}\n      {selectedPhotoIndex !== null && photos[selectedPhotoIndex] && (\n        <div className=\"fixed inset-0 z-50 bg-black flex items-center justify-center\">\n          <button\n            onClick={() => setSelectedPhotoIndex(null)}\n            className=\"absolute top-4 right-4 z-10 p-2 rounded-full bg-white/10 hover:bg-white/20\"\n            data-testid=\"button-close-viewer\"\n          >\n            <X className=\"w-6 h-6 text-white\" />\n          </button>\n\n          {selectedPhotoIndex > 0 && (\n            <button\n              onClick={handlePrev}\n              className=\"absolute left-4 z-10 p-2 rounded-full bg-white/10 hover:bg-white/20\"\n              data-testid=\"button-prev-photo\"\n            >\n              <ChevronLeft className=\"w-6 h-6 text-white\" />\n            </button>\n          )}\n\n          {selectedPhotoIndex < photos.length - 1 && (\n            <button\n              onClick={handleNext}\n              className=\"absolute right-4 z-10 p-2 rounded-full bg-white/10 hover:bg-white/20\"\n              data-testid=\"button-next-photo\"\n            >\n              <ChevronRight className=\"w-6 h-6 text-white\" />\n            </button>\n          )}\n\n          <img\n            src={photos[selectedPhotoIndex].url}\n            alt=\"\"\n            className=\"max-w-full max-h-full object-contain\"\n          />\n\n          <div className=\"absolute bottom-0 left-0 right-0 p-4 bg-gradient-to-t from-black/50 to-transparent\">\n            <div className=\"flex items-center justify-between max-w-md mx-auto\">\n              <span className=\"text-white text-[13px]\">\n                {formatDate(photos[selectedPhotoIndex].createdAt)}\n              </span>\n              <button\n                onClick={() => toggleLike(photos[selectedPhotoIndex].id)}\n                className=\"p-2 rounded-full hover:bg-white/10\"\n                data-testid=\"button-toggle-like\"\n              >\n                <Heart\n                  className={`w-6 h-6 ${photos[selectedPhotoIndex].liked ? \"text-pink-500\" : \"text-white\"}`}\n                  fill={photos[selectedPhotoIndex].liked ? \"#ec4899\" : \"none\"}\n                />\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* More Menu Modal */}\n      {showMoreMenu && (\n        <div\n          className=\"fixed inset-0 z-50 bg-black/50 flex items-end justify-center\"\n          onClick={() => setShowMoreMenu(false)}\n        >\n          <div\n            className=\"bg-white w-full max-w-md rounded-t-[24px] overflow-hidden\"\n            onClick={(e) => e.stopPropagation()}\n          >\n            <div className=\"w-10 h-1 bg-[#D1D6DB] rounded-full mx-auto mt-3\" />\n            <div className=\"py-4\">\n              <button\n                onClick={() => {\n                  setShowMoreMenu(false);\n                  setShowAlbumSheet(true);\n                }}\n                className=\"w-full px-5 py-4 flex items-center gap-4 hover:bg-[#F2F4F6] transition-colors\"\n                data-testid=\"button-add-to-album\"\n              >\n                <div className=\"w-10 h-10 rounded-full bg-pink-50 flex items-center justify-center\">\n                  <FolderPlus className=\"w-5 h-5 text-pink-500\" />\n                </div>\n                <span className=\"text-[15px] text-[#191F28]\">앨범에 추가</span>\n              </button>\n              <button\n                onClick={() => alert(\"공유 기능은 준비 중입니다\")}\n                className=\"w-full px-5 py-4 flex items-center gap-4 hover:bg-[#F2F4F6] transition-colors\"\n                data-testid=\"button-share-menu\"\n              >\n                <div className=\"w-10 h-10 rounded-full bg-gray-100 flex items-center justify-center\">\n                  <Share2 className=\"w-5 h-5 text-[#B0B8C1]\" />\n                </div>\n                <span className=\"text-[15px] text-[#B0B8C1]\">\n                  공유하기 (준비중)\n                </span>\n              </button>\n              <button\n                onClick={() => {\n                  setShowMoreMenu(false);\n                  deleteSelectedPhotos();\n                }}\n                className=\"w-full px-5 py-4 flex items-center gap-4 hover:bg-[#F2F4F6] transition-colors\"\n                data-testid=\"button-delete-menu\"\n              >\n                <div className=\"w-10 h-10 rounded-full bg-red-50 flex items-center justify-center\">\n                  <Trash2 className=\"w-5 h-5 text-red-500\" />\n                </div>\n                <span className=\"text-[15px] text-red-500\">삭제하기</span>\n              </button>\n            </div>\n            <button\n              onClick={() => setShowMoreMenu(false)}\n              className=\"w-full py-4 text-[15px] text-[#8B95A1] border-t border-[#E5E8EB]\"\n              data-testid=\"button-close-more-menu\"\n            >\n              취소\n            </button>\n          </div>\n        </div>\n      )}\n\n      {/* Album Selection Bottom Sheet */}\n      {showAlbumSheet && (\n        <div\n          className=\"fixed inset-0 z-[60] bg-black/50 flex items-end justify-center\"\n          onClick={() => setShowAlbumSheet(false)}\n        >\n          <div\n            className=\"bg-[#1C1C1E] w-full max-w-md rounded-t-[24px] overflow-hidden\"\n            onClick={(e) => e.stopPropagation()}\n          >\n            <div className=\"flex items-center justify-between px-5 py-4 border-b border-[#38383A]\">\n              <button\n                onClick={() => setShowAlbumSheet(false)}\n                className=\"w-8 h-8 flex items-center justify-center\"\n                data-testid=\"button-close-album-sheet\"\n              >\n                <X className=\"w-5 h-5 text-white\" />\n              </button>\n              <span className=\"text-[17px] font-bold text-white\">\n                앨범에 추가\n              </span>\n              <button\n                onClick={() => {\n                  setShowAlbumSheet(false);\n                  setShowAddAlbumModal(true);\n                }}\n                className=\"w-8 h-8 flex items-center justify-center\"\n                data-testid=\"button-create-album-sheet\"\n              >\n                <Plus className=\"w-5 h-5 text-white\" />\n              </button>\n            </div>\n\n            <div className=\"p-4 max-h-[60vh] overflow-y-auto\">\n              {albums.length === 0 ? (\n                <div className=\"py-8 text-center\">\n                  <p className=\"text-[#8B8B8D] text-[14px]\">앨범이 없습니다</p>\n                  <button\n                    onClick={() => {\n                      setShowAlbumSheet(false);\n                      setShowAddAlbumModal(true);\n                    }}\n                    className=\"mt-4 px-6 py-3 bg-pink-500 text-white rounded-full text-[14px] font-medium\"\n                    data-testid=\"button-create-first-album\"\n                  >\n                    첫 앨범 만들기\n                  </button>\n                </div>\n              ) : (\n                <div className=\"grid grid-cols-3 gap-3\">\n                  {albums.map((album) => (\n                    <button\n                      key={album.id}\n                      onClick={() => movePhotosToAlbum(album.id)}\n                      className=\"flex flex-col items-start\"\n                      data-testid={`album-select-${album.id}`}\n                    >\n                      <div className=\"w-full aspect-square rounded-[12px] bg-[#38383A] overflow-hidden mb-2\">\n                        {album.thumbnail ? (\n                          <img\n                            src={album.thumbnail}\n                            alt={album.title}\n                            className=\"w-full h-full object-cover\"\n                          />\n                        ) : (\n                          <div className=\"w-full h-full flex items-center justify-center\">\n                            <ImageIcon className=\"w-8 h-8 text-[#8B8B8D]\" />\n                          </div>\n                        )}\n                      </div>\n                      <p className=\"text-[13px] text-white truncate w-full\">\n                        {album.title}\n                      </p>\n                    </button>\n                  ))}\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Add Album Modal */}\n      {showAddAlbumModal && (\n        <div\n          className=\"fixed inset-0 z-50 bg-black/50 flex items-center justify-center px-5\"\n          onClick={() => setShowAddAlbumModal(false)}\n        >\n          <div\n            className=\"bg-white rounded-[24px] w-full max-w-sm p-5\"\n            onClick={(e) => e.stopPropagation()}\n          >\n            <h3 className=\"text-[17px] font-bold text-[#191F28] mb-4\">\n              새 앨범 만들기\n            </h3>\n            <input\n              type=\"text\"\n              value={newAlbumTitle}\n              onChange={(e) => setNewAlbumTitle(e.target.value)}\n              placeholder=\"앨범 이름\"\n              className=\"w-full px-4 py-3 bg-[#F2F4F6] rounded-[12px] text-[15px] focus:outline-none focus:ring-2 focus:ring-pink-300 mb-4\"\n              data-testid=\"input-album-title\"\n            />\n            <div className=\"flex gap-3\">\n              <button\n                onClick={() => setShowAddAlbumModal(false)}\n                className=\"flex-1 py-3 bg-[#F2F4F6] text-[#4E5968] font-medium rounded-[12px]\"\n                data-testid=\"button-cancel-album\"\n              >\n                취소\n              </button>\n              <button\n                onClick={createAlbum}\n                disabled={!newAlbumTitle.trim()}\n                className=\"flex-1 py-3 bg-pink-500 disabled:bg-[#E5E8EB] text-white font-medium rounded-[12px]\"\n                data-testid=\"button-create-album\"\n              >\n                만들기\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Add Photo Modal */}\n      {showAddPhotoModal && (\n        <div\n          className=\"fixed inset-0 z-50 bg-black/50 flex items-center justify-center px-5\"\n          onClick={closePhotoModal}\n        >\n          <div\n            className=\"bg-white rounded-[24px] w-full max-w-sm p-5\"\n            onClick={(e) => e.stopPropagation()}\n          >\n            <h3 className=\"text-[17px] font-bold text-[#191F28] mb-4\">\n              사진 추가하기\n            </h3>\n\n            {!previewUrl ? (\n              <label className=\"flex flex-col items-center justify-center w-full h-48 bg-[#F2F4F6] rounded-[16px] cursor-pointer hover:bg-[#E5E8EB] transition-colors mb-4\">\n                <div className=\"w-14 h-14 rounded-full bg-pink-100 flex items-center justify-center mb-3\">\n                  <Upload className=\"w-7 h-7 text-pink-500\" />\n                </div>\n                <p className=\"text-[14px] text-[#4E5968] font-medium\">\n                  사진 선택하기\n                </p>\n                <p className=\"text-[12px] text-[#8B95A1] mt-1\">\n                  탭하여 갤러리에서 선택\n                </p>\n                <input\n                  type=\"file\"\n                  accept=\"image/*\"\n                  className=\"hidden\"\n                  onChange={handleFileSelect}\n                  data-testid=\"input-photo-file\"\n                />\n              </label>\n            ) : (\n              <div className=\"relative mb-4\">\n                <img\n                  src={previewUrl}\n                  alt=\"Preview\"\n                  className=\"w-full h-48 object-cover rounded-[16px]\"\n                />\n                <button\n                  onClick={() => {\n                    setSelectedFile(null);\n                    setPreviewUrl(null);\n                  }}\n                  className=\"absolute top-2 right-2 w-8 h-8 bg-black/50 rounded-full flex items-center justify-center\"\n                  data-testid=\"button-remove-preview\"\n                >\n                  <X className=\"w-4 h-4 text-white\" />\n                </button>\n              </div>\n            )}\n\n            <input\n              type=\"text\"\n              value={newPhotoCaption}\n              onChange={(e) => setNewPhotoCaption(e.target.value)}\n              placeholder=\"사진 설명 (선택사항)\"\n              className=\"w-full px-4 py-3 bg-[#F2F4F6] rounded-[12px] text-[15px] focus:outline-none focus:ring-2 focus:ring-pink-300 mb-4\"\n              data-testid=\"input-photo-caption\"\n            />\n\n            <div className=\"flex gap-3\">\n              <button\n                onClick={closePhotoModal}\n                className=\"flex-1 py-3 bg-[#F2F4F6] text-[#4E5968] font-medium rounded-[12px]\"\n                data-testid=\"button-cancel-photo-upload\"\n              >\n                취소\n              </button>\n              <button\n                onClick={uploadPhoto}\n                disabled={!selectedFile || uploading}\n                className=\"flex-1 py-3 bg-pink-500 disabled:bg-[#E5E8EB] text-white font-medium rounded-[12px] flex items-center justify-center gap-2\"\n                data-testid=\"button-confirm-photo-upload\"\n              >\n                {uploading ? (\n                  <>\n                    <div className=\"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin\" />\n                    업로드 중...\n                  </>\n                ) : (\n                  \"업로드\"\n                )}\n              </button>\n            </div>\n          </div>\n        </div>\n      )}\n\n      <div className=\"h-20\" />\n    </>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1475, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/components/dating/dating-bottom-nav.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState, useEffect } from \"react\"\nimport Link from \"next/link\"\nimport { usePathname } from \"next/navigation\"\nimport { useTheme } from \"next-themes\"\nimport { Home, Calendar, ImageIcon, User, MessageSquare } from \"lucide-react\"\n\nconst navItems = [\n  { icon: Home, label: \"홈\", href: \"/dating\" },\n  { icon: Calendar, label: \"캘린더\", href: \"/dating/calendar\" },\n  { icon: MessageSquare, label: \"커뮤니티\", href: \"/dating/community\" },\n  { icon: ImageIcon, label: \"갤러리\", href: \"/dating/gallery\" },\n  { icon: User, label: \"프로필\", href: \"/dating/profile\" },\n]\n\nexport function DatingBottomNav() {\n  const pathname = usePathname()\n  const { resolvedTheme } = useTheme()\n  const [mounted, setMounted] = useState(false)\n  useEffect(() => { setMounted(true) }, [])\n  const isDark = mounted && resolvedTheme === \"dark\"\n\n  return (\n    <div className=\"fixed bottom-[30px] left-3 right-3 z-50 max-w-md mx-auto\">\n      <nav\n        className=\"relative rounded-[50px] shadow-lg\"\n        style={{\n          background: isDark ? \"rgba(26, 26, 26, 0.85)\" : \"rgba(249, 250, 251, 0.82)\",\n          backdropFilter: \"blur(20px) saturate(180%)\",\n          WebkitBackdropFilter: \"blur(20px) saturate(180%)\",\n          borderWidth: 1,\n          borderColor: isDark ? \"rgba(255,255,255,0.08)\" : \"rgba(209,213,219,0.4)\",\n        }}\n      >\n        <div className=\"flex items-end justify-around h-16 px-1\">\n          {navItems.map((item) => {\n            const Icon = item.icon\n            const isActive = pathname === item.href || (item.href !== \"/dating\" && pathname?.startsWith(item.href))\n\n            return (\n              <Link\n                key={item.href}\n                href={item.href}\n                data-testid={`nav-dating-${item.label}`}\n                className=\"flex flex-col items-center justify-end pb-2 w-16 relative transition-transform duration-150 ease-out active:scale-[0.85]\"\n              >\n                {isActive ? (\n                  <div className=\"flex flex-col items-center -mt-4\">\n                    <div\n                      className=\"w-12 h-12 rounded-full flex items-center justify-center mb-0.5 transition-all duration-300\"\n                      style={{\n                        background: \"linear-gradient(135deg, #EC4899, #F472B6)\",\n                        boxShadow: \"0 4px 16px rgba(236, 72, 153, 0.45)\",\n                      }}\n                    >\n                      <Icon className=\"w-[22px] h-[22px] text-white\" strokeWidth={2} />\n                    </div>\n                    <span className=\"text-[10px] font-bold\" style={{ color: \"#EC4899\" }}>\n                      {item.label}\n                    </span>\n                  </div>\n                ) : (\n                  <div className=\"flex flex-col items-center\">\n                    <Icon className=\"w-[22px] h-[22px] mb-1\" style={{ color: isDark ? \"#666666\" : \"#ADB5BD\" }} strokeWidth={1.5} />\n                    <span className=\"text-[10px] font-medium\" style={{ color: isDark ? \"#666666\" : \"#ADB5BD\" }}>\n                      {item.label}\n                    </span>\n                  </div>\n                )}\n              </Link>\n            )\n          })}\n        </div>\n        <div style={{ height: \"env(safe-area-inset-bottom)\" }} />\n      </nav>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;;;AANA;;;;;;AAQA,MAAM,WAAW;IACf;QAAE,MAAM,kSAAI;QAAE,OAAO;QAAK,MAAM;IAAU;IAC1C;QAAE,MAAM,6SAAQ;QAAE,OAAO;QAAO,MAAM;IAAmB;IACzD;QAAE,MAAM,gUAAa;QAAE,OAAO;QAAQ,MAAM;IAAoB;IAChE;QAAE,MAAM,4SAAS;QAAE,OAAO;QAAO,MAAM;IAAkB;IACzD;QAAE,MAAM,iSAAI;QAAE,OAAO;QAAO,MAAM;IAAkB;CACrD;AAEM,SAAS;;IACd,MAAM,WAAW,IAAA,oRAAW;IAC5B,MAAM,EAAE,aAAa,EAAE,GAAG,IAAA,uSAAQ;IAClC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,ySAAQ,EAAC;IACvC,IAAA,0SAAS;qCAAC;YAAQ,WAAW;QAAM;oCAAG,EAAE;IACxC,MAAM,SAAS,WAAW,kBAAkB;IAE5C,qBACE,6TAAC;QAAI,WAAU;kBACb,cAAA,6TAAC;YACC,WAAU;YACV,OAAO;gBACL,YAAY,SAAS,2BAA2B;gBAChD,gBAAgB;gBAChB,sBAAsB;gBACtB,aAAa;gBACb,aAAa,SAAS,2BAA2B;YACnD;;8BAEA,6TAAC;oBAAI,WAAU;8BACZ,SAAS,GAAG,CAAC,CAAC;wBACb,MAAM,OAAO,KAAK,IAAI;wBACtB,MAAM,WAAW,aAAa,KAAK,IAAI,IAAK,KAAK,IAAI,KAAK,aAAa,UAAU,WAAW,KAAK,IAAI;wBAErG,qBACE,6TAAC,0SAAI;4BAEH,MAAM,KAAK,IAAI;4BACf,eAAa,CAAC,WAAW,EAAE,KAAK,KAAK,EAAE;4BACvC,WAAU;sCAET,yBACC,6TAAC;gCAAI,WAAU;;kDACb,6TAAC;wCACC,WAAU;wCACV,OAAO;4CACL,YAAY;4CACZ,WAAW;wCACb;kDAEA,cAAA,6TAAC;4CAAK,WAAU;4CAA+B,aAAa;;;;;;;;;;;kDAE9D,6TAAC;wCAAK,WAAU;wCAAwB,OAAO;4CAAE,OAAO;wCAAU;kDAC/D,KAAK,KAAK;;;;;;;;;;;qDAIf,6TAAC;gCAAI,WAAU;;kDACb,6TAAC;wCAAK,WAAU;wCAAyB,OAAO;4CAAE,OAAO,SAAS,YAAY;wCAAU;wCAAG,aAAa;;;;;;kDACxG,6TAAC;wCAAK,WAAU;wCAA0B,OAAO;4CAAE,OAAO,SAAS,YAAY;wCAAU;kDACtF,KAAK,KAAK;;;;;;;;;;;;2BAxBZ,KAAK,IAAI;;;;;oBA8BpB;;;;;;8BAEF,6TAAC;oBAAI,OAAO;wBAAE,QAAQ;oBAA8B;;;;;;;;;;;;;;;;;AAI5D;GA9DgB;;QACG,oRAAW;QACF,uSAAQ;;;KAFpB"}},
    {"offset": {"line": 1673, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/app/dating/gallery/page.tsx"],"sourcesContent":["\"use client\"\n\nimport { GalleryView } from \"@/components/dating/gallery-view\"\nimport { DatingBottomNav } from \"@/components/dating/dating-bottom-nav\"\n\nexport default function GalleryPage() {\n  return (\n    <div className=\"min-h-screen bg-[#F7F8FA] pb-20\">\n      <GalleryView />\n      <DatingBottomNav />\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAHA;;;;AAKe,SAAS;IACtB,qBACE,6TAAC;QAAI,WAAU;;0BACb,6TAAC,0JAAW;;;;;0BACZ,6TAAC,sKAAe;;;;;;;;;;;AAGtB;KAPwB"}}]
}