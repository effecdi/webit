{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/components/wedding/rsvp-form.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState } from \"react\"\nimport { Check } from \"lucide-react\"\n\ninterface RsvpData {\n  name: string\n  attendance: \"confirmed\" | \"declined\"\n  mealType: \"adult\" | \"child\" | \"none\"\n  side: \"groom\" | \"bride\"\n  phone: string\n  memo: string\n}\n\nexport function RsvpFormSection() {\n  const [formData, setFormData] = useState<RsvpData>({\n    name: \"\",\n    attendance: \"confirmed\",\n    mealType: \"adult\",\n    side: \"groom\",\n    phone: \"\",\n    memo: \"\"\n  })\n  const [isSubmitted, setIsSubmitted] = useState(false)\n  const [isSubmitting, setIsSubmitting] = useState(false)\n\n  const handleSubmit = async () => {\n    if (!formData.name.trim()) {\n      alert(\"성함을 입력해주세요.\")\n      return\n    }\n\n    setIsSubmitting(true)\n    try {\n      const res = await fetch(\"/api/guests\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({\n          userId: \"default\",\n          name: formData.name.trim(),\n          side: formData.side,\n          attendance: formData.attendance,\n          mealType: formData.mealType,\n          phone: formData.phone.trim() || null,\n          memo: formData.memo.trim() || null,\n          relationship: \"청첩장\",\n          giftAmount: 0,\n          invitationSent: true,\n        }),\n      })\n\n      if (res.ok) {\n        setIsSubmitted(true)\n      } else {\n        alert(\"오류가 발생했습니다. 다시 시도해주세요.\")\n      }\n    } catch (error) {\n      console.error(\"RSVP submission failed:\", error)\n      alert(\"오류가 발생했습니다. 다시 시도해주세요.\")\n    } finally {\n      setIsSubmitting(false)\n    }\n  }\n\n  if (isSubmitted) {\n    return (\n      <div className=\"bg-[#faf9f7] rounded-[20px] p-8 text-center my-10 mx-4\">\n        <div className=\"w-12 h-12 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-4\">\n          <Check className=\"w-6 h-6 text-white\" />\n        </div>\n        <h3 className=\"text-[18px] font-bold text-[#191F28] mb-2\">참석 의사가 전달되었어요</h3>\n        <p className=\"text-[14px] text-[#8B95A1] leading-relaxed\">\n          소중한 시간 내어주셔서 감사합니다.\n          <br />\n          {formData.attendance === \"confirmed\"\n            ? \"예식일에 뵙겠습니다.\"\n            : \"마음은 잘 전달되었습니다.\"}\n        </p>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"bg-white rounded-[24px] shadow-sm border border-[#f0ebe3] p-6 my-10 mx-4\">\n      <h3 className=\"text-[20px] font-bold text-[#3d3d3d] text-center mb-2\" data-testid=\"text-rsvp-title\">\n        참석 의사 전달하기\n      </h3>\n      <p className=\"text-[13px] text-[#8b7355] text-center mb-6\">\n        축하하는 마음을 미리 전해주세요.\n        <br />\n        원활한 예식 진행에 큰 도움이 됩니다.\n      </p>\n\n      <div className=\"space-y-4\">\n        <div className=\"flex bg-[#F2F4F6] rounded-[12px] p-1\">\n          <button\n            onClick={() => setFormData({...formData, side: \"groom\"})}\n            className={`flex-1 py-3 rounded-[10px] text-[14px] font-medium transition-all ${\n              formData.side === \"groom\" ? \"bg-white text-blue-500 shadow-sm\" : \"text-[#8B95A1]\"\n            }`}\n            data-testid=\"rsvp-side-groom\"\n          >\n            신랑측 손님\n          </button>\n          <button\n            onClick={() => setFormData({...formData, side: \"bride\"})}\n            className={`flex-1 py-3 rounded-[10px] text-[14px] font-medium transition-all ${\n              formData.side === \"bride\" ? \"bg-white text-pink-500 shadow-sm\" : \"text-[#8B95A1]\"\n            }`}\n            data-testid=\"rsvp-side-bride\"\n          >\n            신부측 손님\n          </button>\n        </div>\n\n        <div className=\"flex gap-2\">\n          <button\n            onClick={() => setFormData({...formData, attendance: \"confirmed\"})}\n            className={`flex-1 py-3.5 rounded-[12px] border transition-all font-medium text-[14px] ${\n              formData.attendance === \"confirmed\"\n                ? \"border-blue-500 bg-blue-50 text-blue-600\"\n                : \"border-[#E5E8EB] bg-white text-[#4E5968]\"\n            }`}\n            data-testid=\"rsvp-attend-yes\"\n          >\n            참석할게요\n          </button>\n          <button\n            onClick={() => setFormData({...formData, attendance: \"declined\"})}\n            className={`flex-1 py-3.5 rounded-[12px] border transition-all font-medium text-[14px] ${\n              formData.attendance === \"declined\"\n                ? \"border-[#FF6B6B] bg-red-50 text-[#FF6B6B]\"\n                : \"border-[#E5E8EB] bg-white text-[#4E5968]\"\n            }`}\n            data-testid=\"rsvp-attend-no\"\n          >\n            마음만 보낼게요\n          </button>\n        </div>\n\n        <div>\n          <label className=\"text-[13px] text-[#8B95A1] mb-1.5 block ml-1\">성함</label>\n          <input\n            type=\"text\"\n            placeholder=\"성함을 입력해주세요\"\n            value={formData.name}\n            onChange={(e) => setFormData({...formData, name: e.target.value})}\n            className=\"w-full px-4 py-3.5 bg-[#F2F4F6] rounded-[14px] text-[15px] text-[#191F28] placeholder:text-[#B0B8C1] outline-none focus:ring-2 focus:ring-[#c9a86c]\"\n            data-testid=\"input-rsvp-name\"\n          />\n        </div>\n\n        {formData.attendance === \"confirmed\" && (\n          <div>\n            <label className=\"text-[13px] text-[#8B95A1] mb-1.5 block ml-1\">식사 여부</label>\n            <div className=\"flex gap-2\">\n              {([\n                { value: \"adult\", label: \"식사 (어른)\" },\n                { value: \"child\", label: \"식사 (아동)\" },\n                { value: \"none\", label: \"식사 안함\" },\n              ] as const).map(opt => (\n                <button\n                  key={opt.value}\n                  onClick={() => setFormData({...formData, mealType: opt.value})}\n                  className={`flex-1 py-2.5 rounded-[10px] border text-[13px] font-medium transition-all ${\n                    formData.mealType === opt.value\n                      ? \"border-[#c9a86c] bg-[#faf5eb] text-[#8b7355]\"\n                      : \"border-[#E5E8EB] bg-white text-[#8B95A1]\"\n                  }`}\n                  data-testid={`rsvp-meal-${opt.value}`}\n                >\n                  {opt.label}\n                </button>\n              ))}\n            </div>\n          </div>\n        )}\n\n        <div>\n          <label className=\"text-[13px] text-[#8B95A1] mb-1.5 block ml-1\">연락처 (선택)</label>\n          <input\n            type=\"tel\"\n            placeholder=\"010-0000-0000\"\n            value={formData.phone}\n            onChange={(e) => setFormData({...formData, phone: e.target.value})}\n            className=\"w-full px-4 py-3.5 bg-[#F2F4F6] rounded-[14px] text-[15px] text-[#191F28] placeholder:text-[#B0B8C1] outline-none focus:ring-2 focus:ring-[#c9a86c]\"\n            data-testid=\"input-rsvp-phone\"\n          />\n        </div>\n\n        <div>\n          <label className=\"text-[13px] text-[#8B95A1] mb-1.5 block ml-1\">축하 메시지 (선택)</label>\n          <textarea\n            placeholder=\"신랑신부에게 전할 축하 메시지를 남겨주세요\"\n            rows={3}\n            value={formData.memo}\n            onChange={(e) => setFormData({...formData, memo: e.target.value})}\n            className=\"w-full px-4 py-3.5 bg-[#F2F4F6] rounded-[14px] text-[15px] text-[#191F28] placeholder:text-[#B0B8C1] outline-none focus:ring-2 focus:ring-[#c9a86c] resize-none\"\n            data-testid=\"input-rsvp-memo\"\n          />\n        </div>\n\n        <button\n          onClick={handleSubmit}\n          disabled={isSubmitting}\n          className=\"w-full py-4 bg-[#3d3d3d] text-white font-bold rounded-[14px] text-[16px] mt-2 hover:bg-[#191F28] transition-colors disabled:opacity-50\"\n          data-testid=\"button-rsvp-submit\"\n        >\n          {isSubmitting ? \"전송 중...\" : \"참석 의사 전달하기\"}\n        </button>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}}]
}