{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 50, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/db/schema.ts"],"sourcesContent":["import { pgTable, serial, text, varchar, boolean, timestamp, numeric, jsonb, integer } from 'drizzle-orm/pg-core';\nimport { sql } from 'drizzle-orm';\n\nexport const users = pgTable('users', {\n  id: varchar('id').primaryKey().default(sql`gen_random_uuid()`),\n  email: varchar('email'),\n  firstName: varchar('first_name'),\n  lastName: varchar('last_name'),\n  profileImageUrl: varchar('profile_image_url'),\n  provider: varchar('provider').default('replit'),\n  providerId: varchar('provider_id'),\n  stripeCustomerId: varchar('stripe_customer_id'),\n  stripeSubscriptionId: varchar('stripe_subscription_id'),\n  subscriptionPlan: varchar('subscription_plan').default('free'),\n  subscriptionStatus: varchar('subscription_status').default('inactive'),\n  createdAt: timestamp('created_at').defaultNow(),\n  updatedAt: timestamp('updated_at').defaultNow(),\n});\n\nexport const profiles = pgTable('profiles', {\n  id: serial('id').primaryKey(),\n  userId: text('user_id').notNull(),\n  username: text('username'),\n  partnerName: text('partner_name'),\n  firstMeetDate: timestamp('first_meet_date'),\n  coupleIntro: text('couple_intro'),\n  isMembershipActive: boolean('is_membership_active').default(false),\n  membershipTier: text('membership_tier').default('free'),\n  currentMode: text('current_mode').default('love'),\n  myMood: text('my_mood').default('heart'),\n  partnerMood: text('partner_mood').default('heart'),\n  stripeCustomerId: varchar('stripe_customer_id'),\n  stripeSubscriptionId: varchar('stripe_subscription_id'),\n  subscriptionPlan: varchar('subscription_plan').default('free'),\n  subscriptionStatus: varchar('subscription_status').default('inactive'),\n  createdAt: timestamp('created_at').defaultNow(),\n});\n\nexport const events = pgTable('events', {\n  id: serial('id').primaryKey(),\n  userId: text('user_id').notNull(),\n  title: text('title').notNull(),\n  description: text('description'),\n  date: timestamp('date').notNull(),\n  time: text('time'),\n  location: text('location'),\n  category: text('category'),\n  mode: text('mode').notNull(),\n  createdAt: timestamp('created_at').defaultNow(),\n});\n\nexport const todos = pgTable('todos', {\n  id: serial('id').primaryKey(),\n  userId: text('user_id').notNull(),\n  text: text('text').notNull(),\n  completed: boolean('completed').default(false),\n  assignee: text('assignee').default('we'),\n  mode: text('mode').notNull(),\n  createdAt: timestamp('created_at').defaultNow(),\n});\n\nexport const todoComments = pgTable('todo_comments', {\n  id: serial('id').primaryKey(),\n  todoId: integer('todo_id').notNull(),\n  author: text('author').notNull(),\n  text: text('text').notNull(),\n  createdAt: timestamp('created_at').defaultNow(),\n});\n\nexport const photos = pgTable('photos', {\n  id: serial('id').primaryKey(),\n  userId: text('user_id').notNull(),\n  url: text('url').notNull(),\n  caption: text('caption'),\n  albumId: integer('album_id'),\n  liked: boolean('liked').default(false),\n  mode: text('mode').notNull(),\n  createdAt: timestamp('created_at').defaultNow(),\n});\n\nexport const albums = pgTable('albums', {\n  id: serial('id').primaryKey(),\n  userId: text('user_id').notNull(),\n  title: text('title').notNull(),\n  thumbnail: text('thumbnail'),\n  eventDate: timestamp('event_date'),\n  mode: text('mode').notNull(),\n  createdAt: timestamp('created_at').defaultNow(),\n});\n\nexport const notifications = pgTable('notifications', {\n  id: serial('id').primaryKey(),\n  userId: text('user_id').notNull(),\n  type: text('type').notNull(),\n  title: text('title').notNull(),\n  message: text('message').notNull(),\n  isRead: boolean('is_read').default(false),\n  mode: text('mode').notNull(),\n  createdAt: timestamp('created_at').defaultNow(),\n});\n\nexport const expenses = pgTable('expenses', {\n  id: serial('id').primaryKey(),\n  userId: text('user_id').notNull(),\n  title: text('title').notNull(),\n  amount: numeric('amount').notNull(),\n  category: text('category').notNull(),\n  isPaid: boolean('is_paid').default(false),\n  memo: text('memo'),\n  date: timestamp('date').notNull(),\n  mode: text('mode').notNull(),\n  createdAt: timestamp('created_at').defaultNow(),\n});\n\nexport const checklistItems = pgTable('checklist_items', {\n  id: serial('id').primaryKey(),\n  userId: text('user_id').notNull(),\n  category: text('category').notNull(),\n  title: text('title').notNull(),\n  completed: boolean('completed').default(false),\n  dueDate: timestamp('due_date'),\n  priority: text('priority').default('medium'),\n  mode: text('mode').notNull(),\n  createdAt: timestamp('created_at').defaultNow(),\n});\n\nexport const travels = pgTable('travels', {\n  id: serial('id').primaryKey(),\n  userId: text('user_id').notNull(),\n  title: text('title').notNull(),\n  destination: text('destination').notNull(),\n  startDate: timestamp('start_date').notNull(),\n  endDate: timestamp('end_date').notNull(),\n  thumbnail: text('thumbnail'),\n  createdAt: timestamp('created_at').defaultNow(),\n});\n\nexport const travelSchedules = pgTable('travel_schedules', {\n  id: serial('id').primaryKey(),\n  travelId: integer('travel_id').notNull(),\n  day: integer('day').notNull(),\n  time: text('time'),\n  title: text('title').notNull(),\n  location: text('location'),\n  memo: text('memo'),\n  createdAt: timestamp('created_at').defaultNow(),\n});\n\nexport const widgets = pgTable('widgets', {\n  id: serial('id').primaryKey(),\n  userId: text('user_id').notNull(),\n  type: text('type').notNull(),\n  isEnabled: boolean('is_enabled').default(true),\n  settings: text('settings'),\n});\n\nexport const weddingInfo = pgTable('wedding_info', {\n  id: serial('id').primaryKey(),\n  userId: text('user_id').notNull(),\n  weddingDate: text('wedding_date'),\n  weddingTime: text('wedding_time'),\n  venue: text('venue'),\n  expectedGuests: integer('expected_guests'),\n  groomGuests: integer('groom_guests').default(0),\n  brideGuests: integer('bride_guests').default(0),\n  mealCostAdult: integer('meal_cost_adult').default(0),\n  mealCostChild: integer('meal_cost_child').default(0),\n  invitationCount: integer('invitation_count').default(0),\n  physicalInvitationCount: integer('physical_invitation_count').default(0),\n  invitationData: jsonb('invitation_data'),\n  createdAt: timestamp('created_at').defaultNow(),\n});\n\nexport const guests = pgTable('guests', {\n  id: serial('id').primaryKey(),\n  userId: text('user_id').notNull(),\n  name: text('name').notNull(),\n  side: text('side').notNull(),\n  relationship: text('relationship'),\n  attendance: text('attendance').default('pending'),\n  invitationSent: boolean('invitation_sent').default(false),\n  mealType: text('meal_type').default('adult'),\n  giftAmount: integer('gift_amount').default(0),\n  memo: text('memo'),\n  phone: text('phone'),\n  createdAt: timestamp('created_at').defaultNow(),\n});\n\nexport const sessions = pgTable('sessions', {\n  sid: varchar('sid').primaryKey(),\n  sess: jsonb('sess').notNull(),\n  expire: timestamp('expire').notNull(),\n});\n\nexport type User = typeof users.$inferSelect;\nexport type Profile = typeof profiles.$inferSelect;\nexport type Event = typeof events.$inferSelect;\nexport type Todo = typeof todos.$inferSelect;\nexport type TodoComment = typeof todoComments.$inferSelect;\nexport type Photo = typeof photos.$inferSelect;\nexport type Album = typeof albums.$inferSelect;\nexport type Notification = typeof notifications.$inferSelect;\nexport type Expense = typeof expenses.$inferSelect;\nexport type ChecklistItem = typeof checklistItems.$inferSelect;\nexport type Travel = typeof travels.$inferSelect;\nexport type TravelSchedule = typeof travelSchedules.$inferSelect;\nexport type Widget = typeof widgets.$inferSelect;\nexport type WeddingInfo = typeof weddingInfo.$inferSelect;\nexport type Guest = typeof guests.$inferSelect;\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 277, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/db/index.ts"],"sourcesContent":["import { drizzle } from 'drizzle-orm/node-postgres';\nimport pg from 'pg';\nimport * as schema from './schema';\n\nconst { Pool } = pg;\n\nconst pool = new Pool({\n  connectionString: process.env.DATABASE_URL,\n});\n\nexport const db = drizzle(pool, { schema });\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;;;;;;;;;AAEA,MAAM,EAAE,IAAI,EAAE,GAAG,+GAAE;AAEnB,MAAM,OAAO,IAAI,KAAK;IACpB,kBAAkB,QAAQ,GAAG,CAAC,YAAY;AAC5C;AAEO,MAAM,KAAK,IAAA,yKAAO,EAAC,MAAM;IAAE,QAAA;AAAO"}},
    {"offset": {"line": 318, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/lib/social-auth.ts"],"sourcesContent":["import { db } from \"@/db\";\nimport { users, sessions } from \"@/db/schema\";\nimport { eq, and } from \"drizzle-orm\";\nimport { cookies } from \"next/headers\";\nimport crypto from \"crypto\";\n\nconst SESSION_COOKIE_NAME = \"weve_session\";\n\nfunction getBaseUrl(): string {\n  const domain = process.env.REPLIT_DOMAINS?.split(\",\")[0] || process.env.REPLIT_DEV_DOMAIN;\n  if (domain) return `https://${domain}`;\n  return \"http://localhost:5000\";\n}\n\nexport function getKakaoConfig() {\n  return {\n    clientId: process.env.KAKAO_CLIENT_ID || \"\",\n    clientSecret: process.env.KAKAO_CLIENT_SECRET || \"\",\n    authUrl: \"https://kauth.kakao.com/oauth/authorize\",\n    tokenUrl: \"https://kauth.kakao.com/oauth/token\",\n    userInfoUrl: \"https://kapi.kakao.com/v2/user/me\",\n    redirectUri: `${getBaseUrl()}/api/auth/kakao/callback`,\n  };\n}\n\nexport function getGoogleConfig() {\n  return {\n    clientId: process.env.GOOGLE_CLIENT_ID || \"\",\n    clientSecret: process.env.GOOGLE_CLIENT_SECRET || \"\",\n    authUrl: \"https://accounts.google.com/o/oauth2/v2/auth\",\n    tokenUrl: \"https://oauth2.googleapis.com/token\",\n    userInfoUrl: \"https://www.googleapis.com/oauth2/v2/userinfo\",\n    redirectUri: `${getBaseUrl()}/api/auth/google/callback`,\n  };\n}\n\nexport function getAppleConfig() {\n  return {\n    clientId: process.env.APPLE_CLIENT_ID || \"\",\n    teamId: process.env.APPLE_TEAM_ID || \"\",\n    keyId: process.env.APPLE_KEY_ID || \"\",\n    privateKey: process.env.APPLE_PRIVATE_KEY || \"\",\n    authUrl: \"https://appleid.apple.com/auth/authorize\",\n    tokenUrl: \"https://appleid.apple.com/auth/token\",\n    redirectUri: `${getBaseUrl()}/api/auth/apple/callback`,\n  };\n}\n\nexport async function startKakaoLogin(): Promise<string> {\n  const config = getKakaoConfig();\n  const state = crypto.randomBytes(16).toString(\"hex\");\n\n  const cookieStore = await cookies();\n  cookieStore.set(\"oauth_state\", state, {\n    httpOnly: true,\n    secure: true,\n    maxAge: 600,\n    path: \"/\",\n    sameSite: \"lax\",\n  });\n\n  const params = new URLSearchParams({\n    client_id: config.clientId,\n    redirect_uri: config.redirectUri,\n    response_type: \"code\",\n    state,\n    scope: \"profile_nickname profile_image account_email\",\n  });\n\n  return `${config.authUrl}?${params.toString()}`;\n}\n\nexport async function handleKakaoCallback(code: string, state: string): Promise<{ success: boolean; error?: string }> {\n  try {\n    const cookieStore = await cookies();\n    const savedState = cookieStore.get(\"oauth_state\")?.value;\n    if (!savedState || savedState !== state) {\n      return { success: false, error: \"Invalid state\" };\n    }\n\n    const config = getKakaoConfig();\n\n    const tokenRes = await fetch(config.tokenUrl, {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/x-www-form-urlencoded\" },\n      body: new URLSearchParams({\n        grant_type: \"authorization_code\",\n        client_id: config.clientId,\n        client_secret: config.clientSecret,\n        redirect_uri: config.redirectUri,\n        code,\n      }),\n    });\n\n    if (!tokenRes.ok) {\n      const err = await tokenRes.text();\n      console.error(\"Kakao token error:\", err);\n      return { success: false, error: \"Failed to get Kakao token\" };\n    }\n\n    const tokenData = await tokenRes.json();\n\n    const userRes = await fetch(config.userInfoUrl, {\n      headers: {\n        Authorization: `Bearer ${tokenData.access_token}`,\n        \"Content-Type\": \"application/x-www-form-urlencoded;charset=utf-8\",\n      },\n    });\n\n    if (!userRes.ok) {\n      return { success: false, error: \"Failed to get Kakao user info\" };\n    }\n\n    const kakaoUser = await userRes.json();\n    const kakaoAccount = kakaoUser.kakao_account || {};\n    const profile = kakaoAccount.profile || {};\n\n    const providerId = String(kakaoUser.id);\n    const email = kakaoAccount.email || null;\n    const nickname = profile.nickname || null;\n    const profileImage = profile.profile_image_url || null;\n\n    return await createOrUpdateUser({\n      provider: \"kakao\",\n      providerId,\n      email,\n      firstName: nickname,\n      lastName: null,\n      profileImageUrl: profileImage,\n    });\n  } catch (error) {\n    console.error(\"Kakao callback error:\", error);\n    return { success: false, error: String(error) };\n  }\n}\n\nfunction generateCodeVerifier(): string {\n  return crypto.randomBytes(32).toString(\"base64url\");\n}\n\nasync function generateCodeChallenge(verifier: string): Promise<string> {\n  const hash = crypto.createHash(\"sha256\").update(verifier).digest();\n  return hash.toString(\"base64url\");\n}\n\nexport async function startGoogleLogin(): Promise<string> {\n  const config = getGoogleConfig();\n  const state = crypto.randomBytes(16).toString(\"hex\");\n  const codeVerifier = generateCodeVerifier();\n  const codeChallenge = await generateCodeChallenge(codeVerifier);\n\n  const cookieStore = await cookies();\n  cookieStore.set(\"oauth_state\", state, {\n    httpOnly: true,\n    secure: true,\n    maxAge: 600,\n    path: \"/\",\n    sameSite: \"lax\",\n  });\n  cookieStore.set(\"google_code_verifier\", codeVerifier, {\n    httpOnly: true,\n    secure: true,\n    maxAge: 600,\n    path: \"/\",\n    sameSite: \"lax\",\n  });\n\n  const params = new URLSearchParams({\n    client_id: config.clientId,\n    redirect_uri: config.redirectUri,\n    response_type: \"code\",\n    state,\n    scope: \"openid email profile\",\n    access_type: \"offline\",\n    prompt: \"consent\",\n    code_challenge: codeChallenge,\n    code_challenge_method: \"S256\",\n  });\n\n  return `${config.authUrl}?${params.toString()}`;\n}\n\nexport async function handleGoogleCallback(code: string, state: string): Promise<{ success: boolean; error?: string }> {\n  try {\n    const cookieStore = await cookies();\n    const savedState = cookieStore.get(\"oauth_state\")?.value;\n    const codeVerifier = cookieStore.get(\"google_code_verifier\")?.value;\n    if (!savedState || savedState !== state) {\n      return { success: false, error: \"Invalid state\" };\n    }\n    if (!codeVerifier) {\n      return { success: false, error: \"Missing PKCE code verifier\" };\n    }\n\n    const config = getGoogleConfig();\n\n    const tokenParams: Record<string, string> = {\n      grant_type: \"authorization_code\",\n      client_id: config.clientId,\n      client_secret: config.clientSecret,\n      redirect_uri: config.redirectUri,\n      code,\n      code_verifier: codeVerifier,\n    };\n\n    const tokenRes = await fetch(config.tokenUrl, {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/x-www-form-urlencoded\" },\n      body: new URLSearchParams(tokenParams),\n    });\n\n    if (!tokenRes.ok) {\n      const err = await tokenRes.text();\n      console.error(\"Google token error:\", err);\n      return { success: false, error: \"Failed to get Google token\" };\n    }\n\n    const tokenData = await tokenRes.json();\n\n    const userRes = await fetch(config.userInfoUrl, {\n      headers: { Authorization: `Bearer ${tokenData.access_token}` },\n    });\n\n    if (!userRes.ok) {\n      return { success: false, error: \"Failed to get Google user info\" };\n    }\n\n    const googleUser = await userRes.json();\n\n    return await createOrUpdateUser({\n      provider: \"google\",\n      providerId: googleUser.id,\n      email: googleUser.email || null,\n      firstName: googleUser.given_name || googleUser.name || null,\n      lastName: googleUser.family_name || null,\n      profileImageUrl: googleUser.picture || null,\n    });\n  } catch (error) {\n    console.error(\"Google callback error:\", error);\n    return { success: false, error: String(error) };\n  }\n}\n\nexport async function startAppleLogin(): Promise<string> {\n  const config = getAppleConfig();\n  const state = crypto.randomBytes(16).toString(\"hex\");\n  const nonce = crypto.randomBytes(16).toString(\"hex\");\n\n  const cookieStore = await cookies();\n  cookieStore.set(\"oauth_state\", state, {\n    httpOnly: true,\n    secure: true,\n    maxAge: 600,\n    path: \"/\",\n    sameSite: \"lax\",\n  });\n  cookieStore.set(\"apple_nonce\", nonce, {\n    httpOnly: true,\n    secure: true,\n    maxAge: 600,\n    path: \"/\",\n    sameSite: \"lax\",\n  });\n\n  const params = new URLSearchParams({\n    client_id: config.clientId,\n    redirect_uri: config.redirectUri,\n    response_type: \"code id_token\",\n    state,\n    nonce,\n    scope: \"name email\",\n    response_mode: \"form_post\",\n  });\n\n  return `${config.authUrl}?${params.toString()}`;\n}\n\nfunction base64UrlEncode(str: string): string {\n  return Buffer.from(str).toString(\"base64url\");\n}\n\nfunction generateAppleClientSecret(): string {\n  const config = getAppleConfig();\n  const now = Math.floor(Date.now() / 1000);\n\n  const header = base64UrlEncode(JSON.stringify({\n    alg: \"ES256\",\n    kid: config.keyId,\n    typ: \"JWT\",\n  }));\n\n  const payload = base64UrlEncode(JSON.stringify({\n    iss: config.teamId,\n    iat: now,\n    exp: now + 15777000,\n    aud: \"https://appleid.apple.com\",\n    sub: config.clientId,\n  }));\n\n  const privateKey = config.privateKey.replace(/\\\\n/g, \"\\n\");\n  const sign = crypto.createSign(\"SHA256\");\n  sign.update(`${header}.${payload}`);\n  const signature = sign.sign(privateKey, \"base64url\");\n\n  return `${header}.${payload}.${signature}`;\n}\n\nexport async function handleAppleCallback(formData: FormData): Promise<{ success: boolean; error?: string }> {\n  try {\n    const cookieStore = await cookies();\n    const savedState = cookieStore.get(\"oauth_state\")?.value;\n    const state = formData.get(\"state\") as string;\n    const code = formData.get(\"code\") as string;\n    const idToken = formData.get(\"id_token\") as string;\n    const userStr = formData.get(\"user\") as string;\n\n    if (!savedState || savedState !== state) {\n      return { success: false, error: \"Invalid state\" };\n    }\n\n    if (!code) {\n      return { success: false, error: \"No authorization code\" };\n    }\n\n    const config = getAppleConfig();\n    let clientSecret: string;\n    try {\n      clientSecret = generateAppleClientSecret();\n    } catch (e) {\n      console.error(\"Apple client secret generation failed:\", e);\n      return { success: false, error: \"Apple auth configuration error\" };\n    }\n\n    const tokenRes = await fetch(config.tokenUrl, {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/x-www-form-urlencoded\" },\n      body: new URLSearchParams({\n        grant_type: \"authorization_code\",\n        client_id: config.clientId,\n        client_secret: clientSecret,\n        redirect_uri: config.redirectUri,\n        code,\n      }),\n    });\n\n    if (!tokenRes.ok) {\n      const err = await tokenRes.text();\n      console.error(\"Apple token error:\", err);\n      return { success: false, error: \"Failed to get Apple token\" };\n    }\n\n    const tokenData = await tokenRes.json();\n    const appleIdToken = tokenData.id_token || idToken;\n\n    if (!appleIdToken) {\n      return { success: false, error: \"No Apple ID token\" };\n    }\n\n    const parts = appleIdToken.split(\".\");\n    const payloadStr = Buffer.from(parts[1], \"base64url\").toString(\"utf-8\");\n    const claims = JSON.parse(payloadStr);\n\n    if (claims.iss !== \"https://appleid.apple.com\") {\n      return { success: false, error: \"Invalid Apple token issuer\" };\n    }\n    if (claims.aud !== config.clientId) {\n      return { success: false, error: \"Invalid Apple token audience\" };\n    }\n    const savedNonce = cookieStore.get(\"apple_nonce\")?.value;\n    if (savedNonce && claims.nonce !== savedNonce) {\n      return { success: false, error: \"Invalid Apple token nonce\" };\n    }\n    if (claims.exp && claims.exp * 1000 < Date.now()) {\n      return { success: false, error: \"Apple token expired\" };\n    }\n\n    let firstName = null;\n    let lastName = null;\n    if (userStr) {\n      try {\n        const userData = JSON.parse(userStr);\n        firstName = userData.name?.firstName || null;\n        lastName = userData.name?.lastName || null;\n      } catch {}\n    }\n\n    return await createOrUpdateUser({\n      provider: \"apple\",\n      providerId: claims.sub,\n      email: claims.email || null,\n      firstName,\n      lastName,\n      profileImageUrl: null,\n    });\n  } catch (error) {\n    console.error(\"Apple callback error:\", error);\n    return { success: false, error: String(error) };\n  }\n}\n\nasync function createOrUpdateUser(data: {\n  provider: string;\n  providerId: string;\n  email: string | null;\n  firstName: string | null;\n  lastName: string | null;\n  profileImageUrl: string | null;\n}): Promise<{ success: boolean; error?: string }> {\n  try {\n    const existingUsers = await db\n      .select()\n      .from(users)\n      .where(and(eq(users.provider, data.provider), eq(users.providerId, data.providerId)))\n      .limit(1);\n\n    let userId: string;\n\n    if (existingUsers.length > 0) {\n      userId = existingUsers[0].id;\n      await db\n        .update(users)\n        .set({\n          email: data.email || existingUsers[0].email,\n          firstName: data.firstName || existingUsers[0].firstName,\n          lastName: data.lastName || existingUsers[0].lastName,\n          profileImageUrl: data.profileImageUrl || existingUsers[0].profileImageUrl,\n          updatedAt: new Date(),\n        })\n        .where(eq(users.id, userId));\n    } else {\n      if (data.email) {\n        const emailUsers = await db\n          .select()\n          .from(users)\n          .where(eq(users.email, data.email))\n          .limit(1);\n\n        if (emailUsers.length > 0) {\n          userId = emailUsers[0].id;\n          await db\n            .update(users)\n            .set({\n              provider: data.provider,\n              providerId: data.providerId,\n              firstName: data.firstName || emailUsers[0].firstName,\n              lastName: data.lastName || emailUsers[0].lastName,\n              profileImageUrl: data.profileImageUrl || emailUsers[0].profileImageUrl,\n              updatedAt: new Date(),\n            })\n            .where(eq(users.id, userId));\n        } else {\n          const newId = crypto.randomUUID();\n          await db.insert(users).values({\n            id: newId,\n            email: data.email,\n            firstName: data.firstName,\n            lastName: data.lastName,\n            profileImageUrl: data.profileImageUrl,\n            provider: data.provider,\n            providerId: data.providerId,\n            updatedAt: new Date(),\n          });\n          userId = newId;\n        }\n      } else {\n        const newId = crypto.randomUUID();\n        await db.insert(users).values({\n          id: newId,\n          email: null,\n          firstName: data.firstName,\n          lastName: data.lastName,\n          profileImageUrl: data.profileImageUrl,\n          provider: data.provider,\n          providerId: data.providerId,\n          updatedAt: new Date(),\n        });\n        userId = newId;\n      }\n    }\n\n    const sessionId = crypto.randomBytes(32).toString(\"hex\");\n    const expiry = new Date(Date.now() + 30 * 24 * 60 * 60 * 1000);\n\n    await db.insert(sessions).values({\n      sid: sessionId,\n      sess: {\n        userId,\n        claims: {\n          id: userId,\n          email: data.email,\n          firstName: data.firstName,\n          lastName: data.lastName,\n          profileImageUrl: data.profileImageUrl,\n        },\n      },\n      expire: expiry,\n    });\n\n    const cookieStore = await cookies();\n    cookieStore.set(SESSION_COOKIE_NAME, sessionId, {\n      httpOnly: true,\n      secure: true,\n      maxAge: 30 * 24 * 60 * 60,\n      path: \"/\",\n      sameSite: \"lax\",\n    });\n\n    cookieStore.delete(\"oauth_state\");\n    cookieStore.delete(\"apple_nonce\");\n    cookieStore.delete(\"google_code_verifier\");\n\n    return { success: true };\n  } catch (error) {\n    console.error(\"createOrUpdateUser error:\", error);\n    return { success: false, error: String(error) };\n  }\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 854, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/app/api/auth/google/route.ts"],"sourcesContent":["import { startGoogleLogin } from \"@/lib/social-auth\";\nimport { NextResponse } from \"next/server\";\n\nexport async function GET() {\n  try {\n    const authUrl = await startGoogleLogin();\n    return NextResponse.redirect(authUrl);\n  } catch (error) {\n    console.error(\"Google login error:\", error);\n    const baseUrl = process.env.REPLIT_DOMAINS\n      ? `https://${process.env.REPLIT_DOMAINS.split(\",\")[0]}`\n      : \"http://localhost:5000\";\n    return NextResponse.redirect(new URL(\"/login?error=google_failed\", baseUrl));\n  }\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;;;;;AAEO,eAAe;IACpB,IAAI;QACF,MAAM,UAAU,MAAM,IAAA,2IAAgB;QACtC,OAAO,gRAAY,CAAC,QAAQ,CAAC;IAC/B,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,uBAAuB;QACrC,MAAM,UAAU,QAAQ,GAAG,CAAC,cAAc,GACtC,CAAC,QAAQ,EAAE,QAAQ,GAAG,CAAC,cAAc,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE,EAAE,GACrD;QACJ,OAAO,gRAAY,CAAC,QAAQ,CAAC,IAAI,IAAI,8BAA8B;IACrE;AACF"}}]
}