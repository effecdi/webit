module.exports=[72146,(a,b,c)=>{"use strict";b.exports=a.r(75411).vendored["react-ssr"].ReactServerDOMTurbopackClient},60493,a=>{"use strict";let b=(0,a.i(61237).default)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);a.s(["ChevronLeft",()=>b],60493)},61237,a=>{"use strict";var b=a.i(89982);let c=(...a)=>a.filter((a,b,c)=>!!a&&""!==a.trim()&&c.indexOf(a)===b).join(" ").trim();var d={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let e=(0,b.forwardRef)(({color:a="currentColor",size:e=24,strokeWidth:f=2,absoluteStrokeWidth:g,className:h="",children:i,iconNode:j,...k},l)=>(0,b.createElement)("svg",{ref:l,...d,width:e,height:e,stroke:a,strokeWidth:g?24*Number(f)/Number(e):f,className:c("lucide",h),...k},[...j.map(([a,c])=>(0,b.createElement)(a,c)),...Array.isArray(i)?i:[i]])),f=(a,d)=>{let f=(0,b.forwardRef)(({className:f,...g},h)=>(0,b.createElement)(e,{ref:h,iconNode:d,className:c(`lucide-${a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,f),...g}));return f.displayName=`${a}`,f};a.s(["default",()=>f],61237)},32267,a=>{"use strict";let b=(0,a.i(61237).default)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);a.s(["X",()=>b],32267)},94480,a=>{"use strict";let b=(0,a.i(61237).default)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);a.s(["Check",()=>b],94480)},96826,a=>{"use strict";let b=(0,a.i(61237).default)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);a.s(["Trash2",()=>b],96826)},73923,a=>{"use strict";let b=(0,a.i(61237).default)("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);a.s(["MoreHorizontal",()=>b],73923)},4328,a=>{"use strict";let b=(0,a.i(61237).default)("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);a.s(["Share2",()=>b],4328)},51323,a=>{"use strict";var b=a.i(64781),c=a.i(89982),d=a.i(8490),e=a.i(30505),f=a.i(60493),g=a.i(73923),h=a.i(32267),i=a.i(4328),j=a.i(96826),k=a.i(94480);function l(){let a,l=(0,d.useParams)(),m=(0,d.useRouter)(),n=parseInt(l.id),[o,p]=(0,c.useState)(null),[q,r]=(0,c.useState)([]),[s,t]=(0,c.useState)(!0),[u,v]=(0,c.useState)(!1),[w,x]=(0,c.useState)(new Set),[y,z]=(0,c.useState)(!1),A=(0,c.useCallback)(async()=>{try{let[a,b]=await Promise.all([fetch(`/api/albums?id=${n}`),fetch(`/api/photos?albumId=${n}`)]);if(a.ok){let b=await a.json();p(b)}if(b.ok){let a=await b.json();r(a)}}catch(a){console.error("Error fetching album:",a)}finally{t(!1)}},[n]);function B(){v(!u),x(new Set)}async function C(){if(0!==w.size&&confirm(`${w.size}장의 사진을 삭제하시겠습니까?`))try{let a=Array.from(w);await Promise.all(a.map(a=>fetch(`/api/photos?id=${a}`,{method:"DELETE"}))),await A(),x(new Set),v(!1)}catch(a){console.error("Error deleting photos:",a)}}async function D(){if(0!==w.size&&confirm(`${w.size}장의 사진을 앨범에서 제거하시겠습니까?`))try{let a=Array.from(w);await Promise.all(a.map(a=>fetch("/api/photos",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:a,albumId:null})}))),await A(),x(new Set),v(!1)}catch(a){console.error("Error removing photos from album:",a)}}if((0,c.useEffect)(()=>{A()},[A]),s)return(0,b.jsx)("div",{className:"min-h-screen bg-black flex items-center justify-center",children:(0,b.jsx)("div",{className:"w-8 h-8 border-2 border-white border-t-transparent rounded-full animate-spin"})});if(!o)return(0,b.jsxs)("div",{className:"min-h-screen bg-black flex flex-col items-center justify-center text-white",children:[(0,b.jsx)("p",{className:"text-lg mb-4",children:"앨범을 찾을 수 없습니다"}),(0,b.jsx)(e.default,{href:"/dating/gallery",className:"text-pink-400","data-testid":"link-back-gallery",children:"갤러리로 돌아가기"})]});let E=q.length>0?q[0]:null;return(0,b.jsxs)("div",{className:"min-h-screen bg-black",children:[(0,b.jsxs)("div",{className:"relative aspect-[3/4] max-h-[50vh]",children:[E?(0,b.jsx)("img",{src:E.url,alt:o.title,className:"w-full h-full object-cover"}):(0,b.jsx)("div",{className:"w-full h-full bg-[#2C2C2E] flex items-center justify-center",children:(0,b.jsx)("p",{className:"text-[#8B8B8D]",children:"사진이 없습니다"})}),(0,b.jsx)("div",{className:"absolute inset-0 bg-gradient-to-b from-black/40 via-transparent to-black/70"}),(0,b.jsx)("div",{className:"absolute top-0 left-0 right-0 pt-safe",children:(0,b.jsx)("div",{className:"flex items-center justify-between px-4 py-3",children:u?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("button",{onClick:function(){w.size===q.length?x(new Set):x(new Set(q.map(a=>a.id)))},className:"px-4 py-2 bg-white/20 backdrop-blur-md rounded-full text-white text-[14px] font-medium","data-testid":"button-select-all",children:w.size===q.length?"선택 해제":"전체 선택"}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("button",{onClick:()=>z(!0),className:"w-10 h-10 bg-white/20 backdrop-blur-md rounded-full flex items-center justify-center","data-testid":"button-more-menu",children:(0,b.jsx)(g.MoreHorizontal,{className:"w-5 h-5 text-white"})}),(0,b.jsx)("button",{onClick:B,className:"w-10 h-10 bg-white/20 backdrop-blur-md rounded-full flex items-center justify-center","data-testid":"button-close-select",children:(0,b.jsx)(h.X,{className:"w-5 h-5 text-white"})})]})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("button",{onClick:()=>m.back(),className:"w-10 h-10 bg-pink-500 rounded-full flex items-center justify-center","data-testid":"button-back",children:(0,b.jsx)(f.ChevronLeft,{className:"w-6 h-6 text-white"})}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("button",{onClick:()=>z(!0),className:"w-10 h-10 bg-pink-500 rounded-full flex items-center justify-center","data-testid":"button-album-options",children:(0,b.jsx)(g.MoreHorizontal,{className:"w-5 h-5 text-white"})}),(0,b.jsx)("button",{onClick:B,className:"px-5 py-2.5 bg-pink-500 rounded-full text-white text-[14px] font-medium","data-testid":"button-select-mode",children:"선택"})]})]})})}),(0,b.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 p-5",children:[(0,b.jsx)("h1",{className:"text-[28px] font-bold text-white mb-2","data-testid":"text-album-title",children:o.title}),(0,b.jsxs)("div",{className:"flex items-center gap-2 text-white/80 text-[14px]",children:[(0,b.jsxs)("span",{className:"flex items-center gap-1","data-testid":"text-album-date",children:[(0,b.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:[(0,b.jsx)("circle",{cx:"12",cy:"12",r:"10"}),(0,b.jsx)("polyline",{points:"12,6 12,12 16,14"})]}),(a=new Date(o.createdAt),`${a.getFullYear()}년 ${a.getMonth()+1}월 ${a.getDate()}일`)]}),(0,b.jsx)("span",{children:"·"}),(0,b.jsxs)("span",{className:"flex items-center gap-1","data-testid":"text-photo-count",children:[(0,b.jsxs)("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",className:"w-4 h-4",children:[(0,b.jsx)("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2"}),(0,b.jsx)("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),(0,b.jsx)("path",{d:"M21 15l-5-5L5 21"})]}),q.length,"개"]})]})]})]}),(0,b.jsx)("div",{className:"p-1 pb-24",children:0===q.length?(0,b.jsx)("div",{className:"py-20 text-center",children:(0,b.jsx)("p",{className:"text-[#8B8B8D] text-[15px]",children:"아직 사진이 없습니다"})}):(0,b.jsx)("div",{className:"grid grid-cols-4 gap-0.5",children:q.map((a,c)=>(0,b.jsxs)("button",{onClick:()=>{var b;let c;return u?(b=a.id,void((c=new Set(w)).has(b)?c.delete(b):c.add(b),x(c))):null},className:`relative aspect-square ${0===c?"col-span-2 row-span-2":""}`,"data-testid":`photo-item-${a.id}`,children:[(0,b.jsx)("img",{src:a.url,alt:a.title,className:"w-full h-full object-cover"}),u&&(0,b.jsx)("div",{className:`absolute inset-0 ${w.has(a.id)?"bg-black/30":""}`,children:(0,b.jsx)("div",{className:`absolute bottom-2 right-2 w-6 h-6 rounded-full border-2 flex items-center justify-center
                      ${w.has(a.id)?"bg-pink-500 border-pink-500":"border-white/70 bg-black/30"}`,children:w.has(a.id)&&(0,b.jsx)(k.Check,{className:"w-4 h-4 text-white"})})})]},a.id))})}),u&&w.size>0&&(0,b.jsx)("div",{className:"fixed bottom-0 left-0 right-0 bg-[#1C1C1E] pb-safe z-40",children:(0,b.jsxs)("div",{className:"flex justify-around items-center h-20 max-w-md mx-auto px-8",children:[(0,b.jsx)("button",{onClick:()=>alert("공유 기능은 준비 중입니다"),className:"flex flex-col items-center gap-1 text-[#8B8B8D]","data-testid":"button-share",children:(0,b.jsx)(i.Share2,{className:"w-6 h-6"})}),(0,b.jsx)("div",{className:"flex-1 text-center",children:(0,b.jsxs)("span",{className:"text-[14px] text-white","data-testid":"text-selected-count",children:[w.size,"장의 사진이 선택됨"]})}),(0,b.jsx)("button",{onClick:C,className:"flex flex-col items-center gap-1 text-white","data-testid":"button-delete",children:(0,b.jsx)(j.Trash2,{className:"w-6 h-6"})})]})}),y&&(0,b.jsx)("div",{className:"fixed inset-0 z-[60] bg-black/50 flex items-end justify-center",onClick:()=>z(!1),children:(0,b.jsxs)("div",{className:"bg-[#2C2C2E] w-full max-w-md rounded-t-[20px] overflow-hidden",onClick:a=>a.stopPropagation(),children:[(0,b.jsx)("div",{className:"w-10 h-1 bg-[#48484A] rounded-full mx-auto mt-3"}),(0,b.jsxs)("div",{className:"py-2",children:[u&&w.size>0&&(0,b.jsx)("button",{onClick:()=>{z(!1),D()},className:"w-full px-5 py-4 flex items-center gap-4","data-testid":"button-remove-from-album",children:(0,b.jsx)("span",{className:"text-[17px] text-white",children:"앨범에서 제거"})}),(0,b.jsx)("button",{onClick:()=>alert("공유 기능은 준비 중입니다"),className:"w-full px-5 py-4 flex items-center gap-4","data-testid":"button-share-album",children:(0,b.jsx)("span",{className:"text-[17px] text-[#8B8B8D]",children:"공유하기 (준비중)"})})]}),(0,b.jsx)("button",{onClick:()=>z(!1),className:"w-full py-4 text-[17px] text-pink-500 border-t border-[#48484A]","data-testid":"button-close-menu",children:"취소"})]})})]})}a.s(["default",()=>l])}];

//# sourceMappingURL=_22e9f182._.js.map