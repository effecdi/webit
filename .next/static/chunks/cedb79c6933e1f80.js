(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,17508,e=>{"use strict";let t=(0,e.i(10965).default)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);e.s(["ChevronRight",()=>t],17508)},10965,e=>{"use strict";var t=e.i(58138);let a=(...e)=>e.filter((e,t,a)=>!!e&&""!==e.trim()&&a.indexOf(e)===t).join(" ").trim();var s={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let l=(0,t.forwardRef)(({color:e="currentColor",size:l=24,strokeWidth:n=2,absoluteStrokeWidth:i,className:r="",children:d,iconNode:o,...c},x)=>(0,t.createElement)("svg",{ref:x,...s,width:l,height:l,stroke:e,strokeWidth:i?24*Number(n)/Number(l):n,className:a("lucide",r),...c},[...o.map(([e,a])=>(0,t.createElement)(e,a)),...Array.isArray(d)?d:[d]])),n=(e,s)=>{let n=(0,t.forwardRef)(({className:n,...i},r)=>(0,t.createElement)(l,{ref:r,iconNode:s,className:a(`lucide-${e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,n),...i}));return n.displayName=`${e}`,n};e.s(["default",()=>n],10965)},34290,e=>{"use strict";let t=(0,e.i(10965).default)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);e.s(["X",()=>t],34290)},72809,e=>{"use strict";let t=(0,e.i(10965).default)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);e.s(["Check",()=>t],72809)},52910,e=>{"use strict";let t=(0,e.i(10965).default)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);e.s(["ChevronLeft",()=>t],52910)},79971,e=>{"use strict";let t=(0,e.i(10965).default)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);e.s(["Phone",()=>t],79971)},39946,e=>{"use strict";var t=e.i(29511),a=e.i(58138),s=e.i(4447),l=e.i(72809);function n(){let[e,s]=(0,a.useState)({name:"",attendance:"confirmed",mealType:"adult",side:"groom",phone:"",memo:""}),[n,i]=(0,a.useState)(!1),[r,d]=(0,a.useState)(!1),o=async()=>{if(!e.name.trim())return void alert("성함을 입력해주세요.");d(!0);try{(await fetch("/api/guests",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:"default",name:e.name.trim(),side:e.side,attendance:e.attendance,mealType:e.mealType,phone:e.phone.trim()||null,memo:e.memo.trim()||null,relationship:"청첩장",giftAmount:0,invitationSent:!0})})).ok?i(!0):alert("오류가 발생했습니다. 다시 시도해주세요.")}catch(e){console.error("RSVP submission failed:",e),alert("오류가 발생했습니다. 다시 시도해주세요.")}finally{d(!1)}};return n?(0,t.jsxs)("div",{className:"bg-[#faf9f7] rounded-[20px] p-8 text-center my-10 mx-4",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-green-500 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,t.jsx)(l.Check,{className:"w-6 h-6 text-white"})}),(0,t.jsx)("h3",{className:"text-[18px] font-bold text-[#191F28] mb-2",children:"참석 의사가 전달되었어요"}),(0,t.jsxs)("p",{className:"text-[14px] text-[#8B95A1] leading-relaxed",children:["소중한 시간 내어주셔서 감사합니다.",(0,t.jsx)("br",{}),"confirmed"===e.attendance?"예식일에 뵙겠습니다.":"마음은 잘 전달되었습니다."]})]}):(0,t.jsxs)("div",{className:"bg-white rounded-[24px] shadow-sm border border-[#f0ebe3] p-6 my-10 mx-4",children:[(0,t.jsx)("h3",{className:"text-[20px] font-bold text-[#3d3d3d] text-center mb-2","data-testid":"text-rsvp-title",children:"참석 의사 전달하기"}),(0,t.jsxs)("p",{className:"text-[13px] text-[#8b7355] text-center mb-6",children:["축하하는 마음을 미리 전해주세요.",(0,t.jsx)("br",{}),"원활한 예식 진행에 큰 도움이 됩니다."]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex bg-[#F2F4F6] rounded-[12px] p-1",children:[(0,t.jsx)("button",{onClick:()=>s({...e,side:"groom"}),className:`flex-1 py-3 rounded-[10px] text-[14px] font-medium transition-all ${"groom"===e.side?"bg-white text-blue-500 shadow-sm":"text-[#8B95A1]"}`,"data-testid":"rsvp-side-groom",children:"신랑측 손님"}),(0,t.jsx)("button",{onClick:()=>s({...e,side:"bride"}),className:`flex-1 py-3 rounded-[10px] text-[14px] font-medium transition-all ${"bride"===e.side?"bg-white text-pink-500 shadow-sm":"text-[#8B95A1]"}`,"data-testid":"rsvp-side-bride",children:"신부측 손님"})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)("button",{onClick:()=>s({...e,attendance:"confirmed"}),className:`flex-1 py-3.5 rounded-[12px] border transition-all font-medium text-[14px] ${"confirmed"===e.attendance?"border-blue-500 bg-blue-50 text-blue-600":"border-[#E5E8EB] bg-white text-[#4E5968]"}`,"data-testid":"rsvp-attend-yes",children:"참석할게요"}),(0,t.jsx)("button",{onClick:()=>s({...e,attendance:"declined"}),className:`flex-1 py-3.5 rounded-[12px] border transition-all font-medium text-[14px] ${"declined"===e.attendance?"border-[#FF6B6B] bg-red-50 text-[#FF6B6B]":"border-[#E5E8EB] bg-white text-[#4E5968]"}`,"data-testid":"rsvp-attend-no",children:"마음만 보낼게요"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-[13px] text-[#8B95A1] mb-1.5 block ml-1",children:"성함"}),(0,t.jsx)("input",{type:"text",placeholder:"성함을 입력해주세요",value:e.name,onChange:t=>s({...e,name:t.target.value}),className:"w-full px-4 py-3.5 bg-[#F2F4F6] rounded-[14px] text-[15px] text-[#191F28] placeholder:text-[#B0B8C1] outline-none focus:ring-2 focus:ring-[#c9a86c]","data-testid":"input-rsvp-name"})]}),"confirmed"===e.attendance&&(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-[13px] text-[#8B95A1] mb-1.5 block ml-1",children:"식사 여부"}),(0,t.jsx)("div",{className:"flex gap-2",children:[{value:"adult",label:"식사 (어른)"},{value:"child",label:"식사 (아동)"},{value:"none",label:"식사 안함"}].map(a=>(0,t.jsx)("button",{onClick:()=>s({...e,mealType:a.value}),className:`flex-1 py-2.5 rounded-[10px] border text-[13px] font-medium transition-all ${e.mealType===a.value?"border-[#c9a86c] bg-[#faf5eb] text-[#8b7355]":"border-[#E5E8EB] bg-white text-[#8B95A1]"}`,"data-testid":`rsvp-meal-${a.value}`,children:a.label},a.value))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-[13px] text-[#8B95A1] mb-1.5 block ml-1",children:"연락처 (선택)"}),(0,t.jsx)("input",{type:"tel",placeholder:"010-0000-0000",value:e.phone,onChange:t=>s({...e,phone:t.target.value}),className:"w-full px-4 py-3.5 bg-[#F2F4F6] rounded-[14px] text-[15px] text-[#191F28] placeholder:text-[#B0B8C1] outline-none focus:ring-2 focus:ring-[#c9a86c]","data-testid":"input-rsvp-phone"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"text-[13px] text-[#8B95A1] mb-1.5 block ml-1",children:"축하 메시지 (선택)"}),(0,t.jsx)("textarea",{placeholder:"신랑신부에게 전할 축하 메시지를 남겨주세요",rows:3,value:e.memo,onChange:t=>s({...e,memo:t.target.value}),className:"w-full px-4 py-3.5 bg-[#F2F4F6] rounded-[14px] text-[15px] text-[#191F28] placeholder:text-[#B0B8C1] outline-none focus:ring-2 focus:ring-[#c9a86c] resize-none","data-testid":"input-rsvp-memo"})]}),(0,t.jsx)("button",{onClick:o,disabled:r,className:"w-full py-4 bg-[#3d3d3d] text-white font-bold rounded-[14px] text-[16px] mt-2 hover:bg-[#191F28] transition-colors disabled:opacity-50","data-testid":"button-rsvp-submit",children:r?"전송 중...":"참석 의사 전달하기"})]})]})}function i(){let[e,l]=(0,a.useState)(null),[i,r]=(0,a.useState)(!0);return((0,a.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/invitation?userId=default"),t=await e.json();if(t){let e="",a="";if(t.weddingDate){let a=new Date(t.weddingDate),s=a.getFullYear(),l=a.getMonth()+1,n=a.getDate(),i=["일","월","화","수","목","금","토"][a.getDay()];e=`${s}년 ${l}월 ${n}일 ${i}요일`}t.ampm&&t.hour&&t.minute&&(a=`${t.ampm} ${t.hour}시 ${t.minute}분`),l({...t,date:e,time:a})}}catch(e){console.error("Failed to load invitation:",e)}finally{r(!1)}})()},[]),i)?(0,t.jsx)("div",{className:"min-h-screen bg-[#faf9f7] flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"w-8 h-8 border-2 border-[#c9a86c] border-t-transparent rounded-full animate-spin mx-auto mb-3"}),(0,t.jsx)("p",{className:"text-[13px] text-[#8b7355]",children:"청첩장을 불러오는 중..."})]})}):e?(0,t.jsxs)("div",{className:"min-h-screen bg-[#faf9f7]",children:[(0,t.jsx)(s.InvitationPreview,{data:e}),(0,t.jsx)("div",{className:"max-w-[360px] mx-auto pb-10",children:(0,t.jsx)(n,{})})]}):(0,t.jsx)("div",{className:"min-h-screen bg-[#faf9f7] flex items-center justify-center px-6",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("p",{className:"text-[18px] font-bold text-[#3d3d3d] mb-2",children:"아직 청첩장이 없어요"}),(0,t.jsx)("p",{className:"text-[14px] text-[#8b7355]",children:"청첩장이 준비되면 다시 방문해주세요."})]})})}e.s(["default",()=>i],39946)}]);