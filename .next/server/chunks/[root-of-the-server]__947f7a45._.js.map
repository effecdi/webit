{"version":3,"sources":["../../../node_modules/.pnpm/yesql%407.0.0/node_modules/yesql/yesql.js","../../../node_modules/.pnpm/postgres-array%402.0.0/node_modules/postgres-array/index.js","../../../node_modules/.pnpm/pg-types%402.2.0/node_modules/pg-types/lib/arrayParser.js","../../../node_modules/.pnpm/postgres-date%401.0.7/node_modules/postgres-date/index.js","../../../node_modules/.pnpm/xtend%404.0.2/node_modules/xtend/mutable.js","../../../node_modules/.pnpm/postgres-interval%401.2.0/node_modules/postgres-interval/index.js","../../../node_modules/.pnpm/postgres-bytea%401.0.1/node_modules/postgres-bytea/index.js","../../../node_modules/.pnpm/pg-types%402.2.0/node_modules/pg-types/lib/textParsers.js","../../../node_modules/.pnpm/pg-int8%401.0.1/node_modules/pg-int8/index.js","../../../node_modules/.pnpm/pg-types%402.2.0/node_modules/pg-types/lib/binaryParsers.js","../../../node_modules/.pnpm/pg-types%402.2.0/node_modules/pg-types/lib/builtins.js","../../../node_modules/.pnpm/pg-types%402.2.0/node_modules/pg-types/index.js","../../../node_modules/.pnpm/pg%408.18.0/node_modules/pg/lib/defaults.js","../../../node_modules/.pnpm/pg%408.18.0/node_modules/pg/lib/utils.js","../../../node_modules/.pnpm/pg%408.18.0/node_modules/pg/lib/crypto/utils-webcrypto.js","../../../node_modules/.pnpm/pg%408.18.0/node_modules/pg/lib/crypto/utils-legacy.js","../../../node_modules/.pnpm/pg%408.18.0/node_modules/pg/lib/crypto/utils.js","../../../node_modules/.pnpm/pg%408.18.0/node_modules/pg/lib/crypto/cert-signatures.js","../../../node_modules/.pnpm/pg%408.18.0/node_modules/pg/lib/crypto/sasl.js","../../../node_modules/.pnpm/pg%408.18.0/node_modules/pg/lib/type-overrides.js","../../../node_modules/.pnpm/pg-connection-string%402.11.0/node_modules/pg-connection-string/index.js","../../../node_modules/.pnpm/pg%408.18.0/node_modules/pg/lib/connection-parameters.js","../../../node_modules/.pnpm/pg%408.18.0/node_modules/pg/lib/result.js","../../../node_modules/.pnpm/pg%408.18.0/node_modules/pg/lib/query.js","../../../node_modules/.pnpm/pg-protocol%401.11.0/node_modules/pg-protocol/src/messages.ts","../../../node_modules/.pnpm/pg-protocol%401.11.0/node_modules/pg-protocol/src/buffer-writer.ts","../../../node_modules/.pnpm/pg-protocol%401.11.0/node_modules/pg-protocol/src/serializer.ts","../../../node_modules/.pnpm/pg-protocol%401.11.0/node_modules/pg-protocol/src/buffer-reader.ts","../../../node_modules/.pnpm/pg-protocol%401.11.0/node_modules/pg-protocol/src/parser.ts","../../../node_modules/.pnpm/pg-protocol%401.11.0/node_modules/pg-protocol/src/index.ts","../../../node_modules/.pnpm/pg-cloudflare%401.3.0/node_modules/pg-cloudflare/src/empty.ts","../../../node_modules/.pnpm/pg%408.18.0/node_modules/pg/lib/stream.js","../../../node_modules/.pnpm/pg%408.18.0/node_modules/pg/lib/connection.js","../../../node_modules/.pnpm/split2%404.2.0/node_modules/split2/index.js","../../../node_modules/.pnpm/pgpass%401.0.5/node_modules/pgpass/lib/helper.js","../../../node_modules/.pnpm/pgpass%401.0.5/node_modules/pgpass/lib/index.js","../../../node_modules/.pnpm/pg%408.18.0/node_modules/pg/lib/client.js","../../../node_modules/.pnpm/pg-pool%403.11.0_pg%408.18.0/node_modules/pg-pool/index.js","../../../node_modules/.pnpm/pg%408.18.0/node_modules/pg/lib/native/query.js","../../../node_modules/.pnpm/pg%408.18.0/node_modules/pg/lib/native/client.js","../../../node_modules/.pnpm/pg%408.18.0/node_modules/pg/lib/native/index.js","../../../node_modules/.pnpm/pg%408.18.0/node_modules/pg/lib/index.js","../../../node_modules/.pnpm/pg-node-migrations%400.0.8/node_modules/pg-node-migrations/dist/with-connection.js","../../../node_modules/.pnpm/pg-node-migrations%400.0.8/node_modules/pg-node-migrations/dist/create.js","../../../node_modules/.pnpm/sql-template-strings%402.2.2/node_modules/sql-template-strings/index.js","../../../node_modules/.pnpm/pg-node-migrations%400.0.8/node_modules/pg-node-migrations/dist/load-sql-from-js.js","../../../node_modules/.pnpm/pg-node-migrations%400.0.8/node_modules/pg-node-migrations/dist/file-name-parser.js","../../../node_modules/.pnpm/pg-node-migrations%400.0.8/node_modules/pg-node-migrations/dist/migration-file.js","../../../node_modules/.pnpm/pg-node-migrations%400.0.8/node_modules/pg-node-migrations/dist/validation.js","../../../node_modules/.pnpm/pg-node-migrations%400.0.8/node_modules/pg-node-migrations/dist/files-loader.js","../../../node_modules/.pnpm/pg-node-migrations%400.0.8/node_modules/pg-node-migrations/dist/run-migration.js","../../../node_modules/.pnpm/pg-node-migrations%400.0.8/node_modules/pg-node-migrations/dist/with-lock.js","../../../node_modules/.pnpm/pg-node-migrations%400.0.8/node_modules/pg-node-migrations/dist/migrate.js","../../../node_modules/.pnpm/pg-node-migrations%400.0.8/node_modules/pg-node-migrations/dist/types.js","../../../node_modules/.pnpm/pg-node-migrations%400.0.8/node_modules/pg-node-migrations/dist/index.js","../../../node_modules/.pnpm/stripe-replit-sync%401.0.0_stripe%4020.0.0_%40types%2Bnode%4022.19.8_/node_modules/stripe-replit-sync/dist/index.js","../../../node_modules/.pnpm/pg%408.18.0/node_modules/pg/esm/index.mjs"],"sourcesContent":["const fs = require('fs')\nconst path = require('path')\n\nconst matchQuoted = /('[^']*(\\\\.[^'\\\\]*)*')/\nconst matchDoubleQuoted = /(\"[^\"]*(\\\\.[^\"\\\\]*)*\")/\n\nconst readSqlFiles = (dir, options = {}) => {\n  return fs.readdirSync(dir).filter(file => {\n    return file.endsWith('.sql')\n  }).map(file => {\n    return {\n      name: file,\n      content: fs\n        .readFileSync(path.resolve(dir, file), 'utf8')\n        .replace(/\\r\\n/g, '\\n')\n    }\n  }).reduce((acc, value) => {\n    acc[value.name] = value.content\n    value.content.split('\\n\\n')\n      .reduce((sqls, lines) => {\n        if (lines.trim().startsWith('--')) {\n          sqls.push(lines)\n        } else if (sqls.length) {\n          sqls[sqls.length - 1] += '\\n\\n' + lines\n        }\n        return sqls\n      }, [])\n      .forEach(sql => {\n        if (sql.trim().startsWith('--')) {\n          const sqlName = sql.split('\\n')[0].trim().substring(2).trim()\n          if (acc[sqlName]) {\n            throw new Error('Duplicate SQL query name \"' + sqlName + '\" found, please rename other one.')\n          }\n          acc[sqlName] = options.type ? module.exports[options.type](sql, options) : sql\n        }\n      })\n    return acc\n  }, {})\n}\n\nconst pg = (query, options = {}) => {\n  return (data = {}) => {\n    const values = []\n\n    const text = query\n      // remove -- comments\n      .replace(/--.*$/gm, '')\n      // remove /* */ comments\n      .replace(/\\/\\*(\\*(?!\\/)|[^*])*\\*\\//g, '')\n      .split(matchQuoted)\n      .map(part => {\n        if (!part || matchQuoted.test(part)) {\n          return part\n        } else {\n          return part\n            .split(matchDoubleQuoted)\n            .map(part => {\n                if (!part || matchDoubleQuoted.test(part)) {\n                  return part\n                } else {\n                  return part.replace(/(::?)([a-zA-Z0-9_]+)/g, (_, prefix, key) => {\n                    if (prefix !== ':') {\n                      return prefix + key\n                    } else if (key in data) {\n                      values.push(data[key])\n                      return '$' + values.length\n                    } else if (options.useNullForMissing) {\n                      values.push(null)\n                      return '$' + values.length\n                    } else {\n                      return errorMissingValue(key, query, data)\n                    }\n                  })\n                }\n              }\n            ).join('')\n        }\n      })\n      .join('')\n      .trim()\n    return {\n      text, values\n    }\n  }\n}\n\nconst mysql = (query, options = {}) => {\n  return (data = {}) => {\n    const values = []\n    const sql = query.split(matchQuoted)\n      .map(part => {\n        if (!part || matchQuoted.test(part)) {\n          return part\n        } else {\n          return part\n            .split(matchDoubleQuoted)\n            .map(part => {\n                if (!part || matchDoubleQuoted.test(part)) {\n                  return part\n                } else {\n                  return part.replace(/(::?)([a-zA-Z0-9_]+)/g, (_, prefix, key) => {\n                    if (key in data) {\n                      values.push(data[key])\n                      return prefix.replace(/:/g, '?')\n                    } else if (options.useNullForMissing) {\n                      values.push(null)\n                      return prefix.replace(/:/g, '?')\n                    } else {\n                      return errorMissingValue(key, query, data)\n                    }\n                  })\n                }\n              }\n            ).join('')\n        }\n      })\n      .join('')\n      .trim()\n    return {\n      sql, values\n    }\n  }\n}\n\nconst errorMissingValue = (key, query, data) => {\n  throw new Error('Missing value for statement.\\n' + key + ' not provided for statement:\\n' + query + '\\nthis was provided:\\n' + JSON.stringify(data))\n}\n\nmodule.exports = readSqlFiles\nmodule.exports.pg = pg\nmodule.exports.mysql = mysql\n","'use strict'\n\nexports.parse = function (source, transform) {\n  return new ArrayParser(source, transform).parse()\n}\n\nclass ArrayParser {\n  constructor (source, transform) {\n    this.source = source\n    this.transform = transform || identity\n    this.position = 0\n    this.entries = []\n    this.recorded = []\n    this.dimension = 0\n  }\n\n  isEof () {\n    return this.position >= this.source.length\n  }\n\n  nextCharacter () {\n    var character = this.source[this.position++]\n    if (character === '\\\\') {\n      return {\n        value: this.source[this.position++],\n        escaped: true\n      }\n    }\n    return {\n      value: character,\n      escaped: false\n    }\n  }\n\n  record (character) {\n    this.recorded.push(character)\n  }\n\n  newEntry (includeEmpty) {\n    var entry\n    if (this.recorded.length > 0 || includeEmpty) {\n      entry = this.recorded.join('')\n      if (entry === 'NULL' && !includeEmpty) {\n        entry = null\n      }\n      if (entry !== null) entry = this.transform(entry)\n      this.entries.push(entry)\n      this.recorded = []\n    }\n  }\n\n  consumeDimensions () {\n    if (this.source[0] === '[') {\n      while (!this.isEof()) {\n        var char = this.nextCharacter()\n        if (char.value === '=') break\n      }\n    }\n  }\n\n  parse (nested) {\n    var character, parser, quote\n    this.consumeDimensions()\n    while (!this.isEof()) {\n      character = this.nextCharacter()\n      if (character.value === '{' && !quote) {\n        this.dimension++\n        if (this.dimension > 1) {\n          parser = new ArrayParser(this.source.substr(this.position - 1), this.transform)\n          this.entries.push(parser.parse(true))\n          this.position += parser.position - 2\n        }\n      } else if (character.value === '}' && !quote) {\n        this.dimension--\n        if (!this.dimension) {\n          this.newEntry()\n          if (nested) return this.entries\n        }\n      } else if (character.value === '\"' && !character.escaped) {\n        if (quote) this.newEntry(true)\n        quote = !quote\n      } else if (character.value === ',' && !quote) {\n        this.newEntry()\n      } else {\n        this.record(character.value)\n      }\n    }\n    if (this.dimension !== 0) {\n      throw new Error('array dimension not balanced')\n    }\n    return this.entries\n  }\n}\n\nfunction identity (value) {\n  return value\n}\n","var array = require('postgres-array');\n\nmodule.exports = {\n  create: function (source, transform) {\n    return {\n      parse: function() {\n        return array.parse(source, transform);\n      }\n    };\n  }\n};\n","'use strict'\n\nvar DATE_TIME = /(\\d{1,})-(\\d{2})-(\\d{2}) (\\d{2}):(\\d{2}):(\\d{2})(\\.\\d{1,})?.*?( BC)?$/\nvar DATE = /^(\\d{1,})-(\\d{2})-(\\d{2})( BC)?$/\nvar TIME_ZONE = /([Z+-])(\\d{2})?:?(\\d{2})?:?(\\d{2})?/\nvar INFINITY = /^-?infinity$/\n\nmodule.exports = function parseDate (isoDate) {\n  if (INFINITY.test(isoDate)) {\n    // Capitalize to Infinity before passing to Number\n    return Number(isoDate.replace('i', 'I'))\n  }\n  var matches = DATE_TIME.exec(isoDate)\n\n  if (!matches) {\n    // Force YYYY-MM-DD dates to be parsed as local time\n    return getDate(isoDate) || null\n  }\n\n  var isBC = !!matches[8]\n  var year = parseInt(matches[1], 10)\n  if (isBC) {\n    year = bcYearToNegativeYear(year)\n  }\n\n  var month = parseInt(matches[2], 10) - 1\n  var day = matches[3]\n  var hour = parseInt(matches[4], 10)\n  var minute = parseInt(matches[5], 10)\n  var second = parseInt(matches[6], 10)\n\n  var ms = matches[7]\n  ms = ms ? 1000 * parseFloat(ms) : 0\n\n  var date\n  var offset = timeZoneOffset(isoDate)\n  if (offset != null) {\n    date = new Date(Date.UTC(year, month, day, hour, minute, second, ms))\n\n    // Account for years from 0 to 99 being interpreted as 1900-1999\n    // by Date.UTC / the multi-argument form of the Date constructor\n    if (is0To99(year)) {\n      date.setUTCFullYear(year)\n    }\n\n    if (offset !== 0) {\n      date.setTime(date.getTime() - offset)\n    }\n  } else {\n    date = new Date(year, month, day, hour, minute, second, ms)\n\n    if (is0To99(year)) {\n      date.setFullYear(year)\n    }\n  }\n\n  return date\n}\n\nfunction getDate (isoDate) {\n  var matches = DATE.exec(isoDate)\n  if (!matches) {\n    return\n  }\n\n  var year = parseInt(matches[1], 10)\n  var isBC = !!matches[4]\n  if (isBC) {\n    year = bcYearToNegativeYear(year)\n  }\n\n  var month = parseInt(matches[2], 10) - 1\n  var day = matches[3]\n  // YYYY-MM-DD will be parsed as local time\n  var date = new Date(year, month, day)\n\n  if (is0To99(year)) {\n    date.setFullYear(year)\n  }\n\n  return date\n}\n\n// match timezones:\n// Z (UTC)\n// -05\n// +06:30\nfunction timeZoneOffset (isoDate) {\n  if (isoDate.endsWith('+00')) {\n    return 0\n  }\n\n  var zone = TIME_ZONE.exec(isoDate.split(' ')[1])\n  if (!zone) return\n  var type = zone[1]\n\n  if (type === 'Z') {\n    return 0\n  }\n  var sign = type === '-' ? -1 : 1\n  var offset = parseInt(zone[2], 10) * 3600 +\n    parseInt(zone[3] || 0, 10) * 60 +\n    parseInt(zone[4] || 0, 10)\n\n  return offset * sign * 1000\n}\n\nfunction bcYearToNegativeYear (year) {\n  // Account for numerical difference between representations of BC years\n  // See: https://github.com/bendrucker/postgres-date/issues/5\n  return -(year - 1)\n}\n\nfunction is0To99 (num) {\n  return num >= 0 && num < 100\n}\n","module.exports = extend\n\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\nfunction extend(target) {\n    for (var i = 1; i < arguments.length; i++) {\n        var source = arguments[i]\n\n        for (var key in source) {\n            if (hasOwnProperty.call(source, key)) {\n                target[key] = source[key]\n            }\n        }\n    }\n\n    return target\n}\n","'use strict'\n\nvar extend = require('xtend/mutable')\n\nmodule.exports = PostgresInterval\n\nfunction PostgresInterval (raw) {\n  if (!(this instanceof PostgresInterval)) {\n    return new PostgresInterval(raw)\n  }\n  extend(this, parse(raw))\n}\nvar properties = ['seconds', 'minutes', 'hours', 'days', 'months', 'years']\nPostgresInterval.prototype.toPostgres = function () {\n  var filtered = properties.filter(this.hasOwnProperty, this)\n\n  // In addition to `properties`, we need to account for fractions of seconds.\n  if (this.milliseconds && filtered.indexOf('seconds') < 0) {\n    filtered.push('seconds')\n  }\n\n  if (filtered.length === 0) return '0'\n  return filtered\n    .map(function (property) {\n      var value = this[property] || 0\n\n      // Account for fractional part of seconds,\n      // remove trailing zeroes.\n      if (property === 'seconds' && this.milliseconds) {\n        value = (value + this.milliseconds / 1000).toFixed(6).replace(/\\.?0+$/, '')\n      }\n\n      return value + ' ' + property\n    }, this)\n    .join(' ')\n}\n\nvar propertiesISOEquivalent = {\n  years: 'Y',\n  months: 'M',\n  days: 'D',\n  hours: 'H',\n  minutes: 'M',\n  seconds: 'S'\n}\nvar dateProperties = ['years', 'months', 'days']\nvar timeProperties = ['hours', 'minutes', 'seconds']\n// according to ISO 8601\nPostgresInterval.prototype.toISOString = PostgresInterval.prototype.toISO = function () {\n  var datePart = dateProperties\n    .map(buildProperty, this)\n    .join('')\n\n  var timePart = timeProperties\n    .map(buildProperty, this)\n    .join('')\n\n  return 'P' + datePart + 'T' + timePart\n\n  function buildProperty (property) {\n    var value = this[property] || 0\n\n    // Account for fractional part of seconds,\n    // remove trailing zeroes.\n    if (property === 'seconds' && this.milliseconds) {\n      value = (value + this.milliseconds / 1000).toFixed(6).replace(/0+$/, '')\n    }\n\n    return value + propertiesISOEquivalent[property]\n  }\n}\n\nvar NUMBER = '([+-]?\\\\d+)'\nvar YEAR = NUMBER + '\\\\s+years?'\nvar MONTH = NUMBER + '\\\\s+mons?'\nvar DAY = NUMBER + '\\\\s+days?'\nvar TIME = '([+-])?([\\\\d]*):(\\\\d\\\\d):(\\\\d\\\\d)\\\\.?(\\\\d{1,6})?'\nvar INTERVAL = new RegExp([YEAR, MONTH, DAY, TIME].map(function (regexString) {\n  return '(' + regexString + ')?'\n})\n  .join('\\\\s*'))\n\n// Positions of values in regex match\nvar positions = {\n  years: 2,\n  months: 4,\n  days: 6,\n  hours: 9,\n  minutes: 10,\n  seconds: 11,\n  milliseconds: 12\n}\n// We can use negative time\nvar negatives = ['hours', 'minutes', 'seconds', 'milliseconds']\n\nfunction parseMilliseconds (fraction) {\n  // add omitted zeroes\n  var microseconds = fraction + '000000'.slice(fraction.length)\n  return parseInt(microseconds, 10) / 1000\n}\n\nfunction parse (interval) {\n  if (!interval) return {}\n  var matches = INTERVAL.exec(interval)\n  var isNegative = matches[8] === '-'\n  return Object.keys(positions)\n    .reduce(function (parsed, property) {\n      var position = positions[property]\n      var value = matches[position]\n      // no empty string\n      if (!value) return parsed\n      // milliseconds are actually microseconds (up to 6 digits)\n      // with omitted trailing zeroes.\n      value = property === 'milliseconds'\n        ? parseMilliseconds(value)\n        : parseInt(value, 10)\n      // no zeros\n      if (!value) return parsed\n      if (isNegative && ~negatives.indexOf(property)) {\n        value *= -1\n      }\n      parsed[property] = value\n      return parsed\n    }, {})\n}\n","'use strict'\n\nvar bufferFrom = Buffer.from || Buffer\n\nmodule.exports = function parseBytea (input) {\n  if (/^\\\\x/.test(input)) {\n    // new 'hex' style response (pg >9.0)\n    return bufferFrom(input.substr(2), 'hex')\n  }\n  var output = ''\n  var i = 0\n  while (i < input.length) {\n    if (input[i] !== '\\\\') {\n      output += input[i]\n      ++i\n    } else {\n      if (/[0-7]{3}/.test(input.substr(i + 1, 3))) {\n        output += String.fromCharCode(parseInt(input.substr(i + 1, 3), 8))\n        i += 4\n      } else {\n        var backslashes = 1\n        while (i + backslashes < input.length && input[i + backslashes] === '\\\\') {\n          backslashes++\n        }\n        for (var k = 0; k < Math.floor(backslashes / 2); ++k) {\n          output += '\\\\'\n        }\n        i += Math.floor(backslashes / 2) * 2\n      }\n    }\n  }\n  return bufferFrom(output, 'binary')\n}\n","var array = require('postgres-array')\nvar arrayParser = require('./arrayParser');\nvar parseDate = require('postgres-date');\nvar parseInterval = require('postgres-interval');\nvar parseByteA = require('postgres-bytea');\n\nfunction allowNull (fn) {\n  return function nullAllowed (value) {\n    if (value === null) return value\n    return fn(value)\n  }\n}\n\nfunction parseBool (value) {\n  if (value === null) return value\n  return value === 'TRUE' ||\n    value === 't' ||\n    value === 'true' ||\n    value === 'y' ||\n    value === 'yes' ||\n    value === 'on' ||\n    value === '1';\n}\n\nfunction parseBoolArray (value) {\n  if (!value) return null\n  return array.parse(value, parseBool)\n}\n\nfunction parseBaseTenInt (string) {\n  return parseInt(string, 10)\n}\n\nfunction parseIntegerArray (value) {\n  if (!value) return null\n  return array.parse(value, allowNull(parseBaseTenInt))\n}\n\nfunction parseBigIntegerArray (value) {\n  if (!value) return null\n  return array.parse(value, allowNull(function (entry) {\n    return parseBigInteger(entry).trim()\n  }))\n}\n\nvar parsePointArray = function(value) {\n  if(!value) { return null; }\n  var p = arrayParser.create(value, function(entry) {\n    if(entry !== null) {\n      entry = parsePoint(entry);\n    }\n    return entry;\n  });\n\n  return p.parse();\n};\n\nvar parseFloatArray = function(value) {\n  if(!value) { return null; }\n  var p = arrayParser.create(value, function(entry) {\n    if(entry !== null) {\n      entry = parseFloat(entry);\n    }\n    return entry;\n  });\n\n  return p.parse();\n};\n\nvar parseStringArray = function(value) {\n  if(!value) { return null; }\n\n  var p = arrayParser.create(value);\n  return p.parse();\n};\n\nvar parseDateArray = function(value) {\n  if (!value) { return null; }\n\n  var p = arrayParser.create(value, function(entry) {\n    if (entry !== null) {\n      entry = parseDate(entry);\n    }\n    return entry;\n  });\n\n  return p.parse();\n};\n\nvar parseIntervalArray = function(value) {\n  if (!value) { return null; }\n\n  var p = arrayParser.create(value, function(entry) {\n    if (entry !== null) {\n      entry = parseInterval(entry);\n    }\n    return entry;\n  });\n\n  return p.parse();\n};\n\nvar parseByteAArray = function(value) {\n  if (!value) { return null; }\n\n  return array.parse(value, allowNull(parseByteA));\n};\n\nvar parseInteger = function(value) {\n  return parseInt(value, 10);\n};\n\nvar parseBigInteger = function(value) {\n  var valStr = String(value);\n  if (/^\\d+$/.test(valStr)) { return valStr; }\n  return value;\n};\n\nvar parseJsonArray = function(value) {\n  if (!value) { return null; }\n\n  return array.parse(value, allowNull(JSON.parse));\n};\n\nvar parsePoint = function(value) {\n  if (value[0] !== '(') { return null; }\n\n  value = value.substring( 1, value.length - 1 ).split(',');\n\n  return {\n    x: parseFloat(value[0])\n  , y: parseFloat(value[1])\n  };\n};\n\nvar parseCircle = function(value) {\n  if (value[0] !== '<' && value[1] !== '(') { return null; }\n\n  var point = '(';\n  var radius = '';\n  var pointParsed = false;\n  for (var i = 2; i < value.length - 1; i++){\n    if (!pointParsed) {\n      point += value[i];\n    }\n\n    if (value[i] === ')') {\n      pointParsed = true;\n      continue;\n    } else if (!pointParsed) {\n      continue;\n    }\n\n    if (value[i] === ','){\n      continue;\n    }\n\n    radius += value[i];\n  }\n  var result = parsePoint(point);\n  result.radius = parseFloat(radius);\n\n  return result;\n};\n\nvar init = function(register) {\n  register(20, parseBigInteger); // int8\n  register(21, parseInteger); // int2\n  register(23, parseInteger); // int4\n  register(26, parseInteger); // oid\n  register(700, parseFloat); // float4/real\n  register(701, parseFloat); // float8/double\n  register(16, parseBool);\n  register(1082, parseDate); // date\n  register(1114, parseDate); // timestamp without timezone\n  register(1184, parseDate); // timestamp\n  register(600, parsePoint); // point\n  register(651, parseStringArray); // cidr[]\n  register(718, parseCircle); // circle\n  register(1000, parseBoolArray);\n  register(1001, parseByteAArray);\n  register(1005, parseIntegerArray); // _int2\n  register(1007, parseIntegerArray); // _int4\n  register(1028, parseIntegerArray); // oid[]\n  register(1016, parseBigIntegerArray); // _int8\n  register(1017, parsePointArray); // point[]\n  register(1021, parseFloatArray); // _float4\n  register(1022, parseFloatArray); // _float8\n  register(1231, parseFloatArray); // _numeric\n  register(1014, parseStringArray); //char\n  register(1015, parseStringArray); //varchar\n  register(1008, parseStringArray);\n  register(1009, parseStringArray);\n  register(1040, parseStringArray); // macaddr[]\n  register(1041, parseStringArray); // inet[]\n  register(1115, parseDateArray); // timestamp without time zone[]\n  register(1182, parseDateArray); // _date\n  register(1185, parseDateArray); // timestamp with time zone[]\n  register(1186, parseInterval);\n  register(1187, parseIntervalArray);\n  register(17, parseByteA);\n  register(114, JSON.parse.bind(JSON)); // json\n  register(3802, JSON.parse.bind(JSON)); // jsonb\n  register(199, parseJsonArray); // json[]\n  register(3807, parseJsonArray); // jsonb[]\n  register(3907, parseStringArray); // numrange[]\n  register(2951, parseStringArray); // uuid[]\n  register(791, parseStringArray); // money[]\n  register(1183, parseStringArray); // time[]\n  register(1270, parseStringArray); // timetz[]\n};\n\nmodule.exports = {\n  init: init\n};\n","'use strict';\n\n// selected so (BASE - 1) * 0x100000000 + 0xffffffff is a safe integer\nvar BASE = 1000000;\n\nfunction readInt8(buffer) {\n\tvar high = buffer.readInt32BE(0);\n\tvar low = buffer.readUInt32BE(4);\n\tvar sign = '';\n\n\tif (high < 0) {\n\t\thigh = ~high + (low === 0);\n\t\tlow = (~low + 1) >>> 0;\n\t\tsign = '-';\n\t}\n\n\tvar result = '';\n\tvar carry;\n\tvar t;\n\tvar digits;\n\tvar pad;\n\tvar l;\n\tvar i;\n\n\t{\n\t\tcarry = high % BASE;\n\t\thigh = high / BASE >>> 0;\n\n\t\tt = 0x100000000 * carry + low;\n\t\tlow = t / BASE >>> 0;\n\t\tdigits = '' + (t - BASE * low);\n\n\t\tif (low === 0 && high === 0) {\n\t\t\treturn sign + digits + result;\n\t\t}\n\n\t\tpad = '';\n\t\tl = 6 - digits.length;\n\n\t\tfor (i = 0; i < l; i++) {\n\t\t\tpad += '0';\n\t\t}\n\n\t\tresult = pad + digits + result;\n\t}\n\n\t{\n\t\tcarry = high % BASE;\n\t\thigh = high / BASE >>> 0;\n\n\t\tt = 0x100000000 * carry + low;\n\t\tlow = t / BASE >>> 0;\n\t\tdigits = '' + (t - BASE * low);\n\n\t\tif (low === 0 && high === 0) {\n\t\t\treturn sign + digits + result;\n\t\t}\n\n\t\tpad = '';\n\t\tl = 6 - digits.length;\n\n\t\tfor (i = 0; i < l; i++) {\n\t\t\tpad += '0';\n\t\t}\n\n\t\tresult = pad + digits + result;\n\t}\n\n\t{\n\t\tcarry = high % BASE;\n\t\thigh = high / BASE >>> 0;\n\n\t\tt = 0x100000000 * carry + low;\n\t\tlow = t / BASE >>> 0;\n\t\tdigits = '' + (t - BASE * low);\n\n\t\tif (low === 0 && high === 0) {\n\t\t\treturn sign + digits + result;\n\t\t}\n\n\t\tpad = '';\n\t\tl = 6 - digits.length;\n\n\t\tfor (i = 0; i < l; i++) {\n\t\t\tpad += '0';\n\t\t}\n\n\t\tresult = pad + digits + result;\n\t}\n\n\t{\n\t\tcarry = high % BASE;\n\t\tt = 0x100000000 * carry + low;\n\t\tdigits = '' + t % BASE;\n\n\t\treturn sign + digits + result;\n\t}\n}\n\nmodule.exports = readInt8;\n","var parseInt64 = require('pg-int8');\n\nvar parseBits = function(data, bits, offset, invert, callback) {\n  offset = offset || 0;\n  invert = invert || false;\n  callback = callback || function(lastValue, newValue, bits) { return (lastValue * Math.pow(2, bits)) + newValue; };\n  var offsetBytes = offset >> 3;\n\n  var inv = function(value) {\n    if (invert) {\n      return ~value & 0xff;\n    }\n\n    return value;\n  };\n\n  // read first (maybe partial) byte\n  var mask = 0xff;\n  var firstBits = 8 - (offset % 8);\n  if (bits < firstBits) {\n    mask = (0xff << (8 - bits)) & 0xff;\n    firstBits = bits;\n  }\n\n  if (offset) {\n    mask = mask >> (offset % 8);\n  }\n\n  var result = 0;\n  if ((offset % 8) + bits >= 8) {\n    result = callback(0, inv(data[offsetBytes]) & mask, firstBits);\n  }\n\n  // read bytes\n  var bytes = (bits + offset) >> 3;\n  for (var i = offsetBytes + 1; i < bytes; i++) {\n    result = callback(result, inv(data[i]), 8);\n  }\n\n  // bits to read, that are not a complete byte\n  var lastBits = (bits + offset) % 8;\n  if (lastBits > 0) {\n    result = callback(result, inv(data[bytes]) >> (8 - lastBits), lastBits);\n  }\n\n  return result;\n};\n\nvar parseFloatFromBits = function(data, precisionBits, exponentBits) {\n  var bias = Math.pow(2, exponentBits - 1) - 1;\n  var sign = parseBits(data, 1);\n  var exponent = parseBits(data, exponentBits, 1);\n\n  if (exponent === 0) {\n    return 0;\n  }\n\n  // parse mantissa\n  var precisionBitsCounter = 1;\n  var parsePrecisionBits = function(lastValue, newValue, bits) {\n    if (lastValue === 0) {\n      lastValue = 1;\n    }\n\n    for (var i = 1; i <= bits; i++) {\n      precisionBitsCounter /= 2;\n      if ((newValue & (0x1 << (bits - i))) > 0) {\n        lastValue += precisionBitsCounter;\n      }\n    }\n\n    return lastValue;\n  };\n\n  var mantissa = parseBits(data, precisionBits, exponentBits + 1, false, parsePrecisionBits);\n\n  // special cases\n  if (exponent == (Math.pow(2, exponentBits + 1) - 1)) {\n    if (mantissa === 0) {\n      return (sign === 0) ? Infinity : -Infinity;\n    }\n\n    return NaN;\n  }\n\n  // normale number\n  return ((sign === 0) ? 1 : -1) * Math.pow(2, exponent - bias) * mantissa;\n};\n\nvar parseInt16 = function(value) {\n  if (parseBits(value, 1) == 1) {\n    return -1 * (parseBits(value, 15, 1, true) + 1);\n  }\n\n  return parseBits(value, 15, 1);\n};\n\nvar parseInt32 = function(value) {\n  if (parseBits(value, 1) == 1) {\n    return -1 * (parseBits(value, 31, 1, true) + 1);\n  }\n\n  return parseBits(value, 31, 1);\n};\n\nvar parseFloat32 = function(value) {\n  return parseFloatFromBits(value, 23, 8);\n};\n\nvar parseFloat64 = function(value) {\n  return parseFloatFromBits(value, 52, 11);\n};\n\nvar parseNumeric = function(value) {\n  var sign = parseBits(value, 16, 32);\n  if (sign == 0xc000) {\n    return NaN;\n  }\n\n  var weight = Math.pow(10000, parseBits(value, 16, 16));\n  var result = 0;\n\n  var digits = [];\n  var ndigits = parseBits(value, 16);\n  for (var i = 0; i < ndigits; i++) {\n    result += parseBits(value, 16, 64 + (16 * i)) * weight;\n    weight /= 10000;\n  }\n\n  var scale = Math.pow(10, parseBits(value, 16, 48));\n  return ((sign === 0) ? 1 : -1) * Math.round(result * scale) / scale;\n};\n\nvar parseDate = function(isUTC, value) {\n  var sign = parseBits(value, 1);\n  var rawValue = parseBits(value, 63, 1);\n\n  // discard usecs and shift from 2000 to 1970\n  var result = new Date((((sign === 0) ? 1 : -1) * rawValue / 1000) + 946684800000);\n\n  if (!isUTC) {\n    result.setTime(result.getTime() + result.getTimezoneOffset() * 60000);\n  }\n\n  // add microseconds to the date\n  result.usec = rawValue % 1000;\n  result.getMicroSeconds = function() {\n    return this.usec;\n  };\n  result.setMicroSeconds = function(value) {\n    this.usec = value;\n  };\n  result.getUTCMicroSeconds = function() {\n    return this.usec;\n  };\n\n  return result;\n};\n\nvar parseArray = function(value) {\n  var dim = parseBits(value, 32);\n\n  var flags = parseBits(value, 32, 32);\n  var elementType = parseBits(value, 32, 64);\n\n  var offset = 96;\n  var dims = [];\n  for (var i = 0; i < dim; i++) {\n    // parse dimension\n    dims[i] = parseBits(value, 32, offset);\n    offset += 32;\n\n    // ignore lower bounds\n    offset += 32;\n  }\n\n  var parseElement = function(elementType) {\n    // parse content length\n    var length = parseBits(value, 32, offset);\n    offset += 32;\n\n    // parse null values\n    if (length == 0xffffffff) {\n      return null;\n    }\n\n    var result;\n    if ((elementType == 0x17) || (elementType == 0x14)) {\n      // int/bigint\n      result = parseBits(value, length * 8, offset);\n      offset += length * 8;\n      return result;\n    }\n    else if (elementType == 0x19) {\n      // string\n      result = value.toString(this.encoding, offset >> 3, (offset += (length << 3)) >> 3);\n      return result;\n    }\n    else {\n      console.log(\"ERROR: ElementType not implemented: \" + elementType);\n    }\n  };\n\n  var parse = function(dimension, elementType) {\n    var array = [];\n    var i;\n\n    if (dimension.length > 1) {\n      var count = dimension.shift();\n      for (i = 0; i < count; i++) {\n        array[i] = parse(dimension, elementType);\n      }\n      dimension.unshift(count);\n    }\n    else {\n      for (i = 0; i < dimension[0]; i++) {\n        array[i] = parseElement(elementType);\n      }\n    }\n\n    return array;\n  };\n\n  return parse(dims, elementType);\n};\n\nvar parseText = function(value) {\n  return value.toString('utf8');\n};\n\nvar parseBool = function(value) {\n  if(value === null) return null;\n  return (parseBits(value, 8) > 0);\n};\n\nvar init = function(register) {\n  register(20, parseInt64);\n  register(21, parseInt16);\n  register(23, parseInt32);\n  register(26, parseInt32);\n  register(1700, parseNumeric);\n  register(700, parseFloat32);\n  register(701, parseFloat64);\n  register(16, parseBool);\n  register(1114, parseDate.bind(null, false));\n  register(1184, parseDate.bind(null, true));\n  register(1000, parseArray);\n  register(1007, parseArray);\n  register(1016, parseArray);\n  register(1008, parseArray);\n  register(1009, parseArray);\n  register(25, parseText);\n};\n\nmodule.exports = {\n  init: init\n};\n","/**\n * Following query was used to generate this file:\n\n SELECT json_object_agg(UPPER(PT.typname), PT.oid::int4 ORDER BY pt.oid)\n FROM pg_type PT\n WHERE typnamespace = (SELECT pgn.oid FROM pg_namespace pgn WHERE nspname = 'pg_catalog') -- Take only builting Postgres types with stable OID (extension types are not guaranted to be stable)\n AND typtype = 'b' -- Only basic types\n AND typelem = 0 -- Ignore aliases\n AND typisdefined -- Ignore undefined types\n */\n\nmodule.exports = {\n    BOOL: 16,\n    BYTEA: 17,\n    CHAR: 18,\n    INT8: 20,\n    INT2: 21,\n    INT4: 23,\n    REGPROC: 24,\n    TEXT: 25,\n    OID: 26,\n    TID: 27,\n    XID: 28,\n    CID: 29,\n    JSON: 114,\n    XML: 142,\n    PG_NODE_TREE: 194,\n    SMGR: 210,\n    PATH: 602,\n    POLYGON: 604,\n    CIDR: 650,\n    FLOAT4: 700,\n    FLOAT8: 701,\n    ABSTIME: 702,\n    RELTIME: 703,\n    TINTERVAL: 704,\n    CIRCLE: 718,\n    MACADDR8: 774,\n    MONEY: 790,\n    MACADDR: 829,\n    INET: 869,\n    ACLITEM: 1033,\n    BPCHAR: 1042,\n    VARCHAR: 1043,\n    DATE: 1082,\n    TIME: 1083,\n    TIMESTAMP: 1114,\n    TIMESTAMPTZ: 1184,\n    INTERVAL: 1186,\n    TIMETZ: 1266,\n    BIT: 1560,\n    VARBIT: 1562,\n    NUMERIC: 1700,\n    REFCURSOR: 1790,\n    REGPROCEDURE: 2202,\n    REGOPER: 2203,\n    REGOPERATOR: 2204,\n    REGCLASS: 2205,\n    REGTYPE: 2206,\n    UUID: 2950,\n    TXID_SNAPSHOT: 2970,\n    PG_LSN: 3220,\n    PG_NDISTINCT: 3361,\n    PG_DEPENDENCIES: 3402,\n    TSVECTOR: 3614,\n    TSQUERY: 3615,\n    GTSVECTOR: 3642,\n    REGCONFIG: 3734,\n    REGDICTIONARY: 3769,\n    JSONB: 3802,\n    REGNAMESPACE: 4089,\n    REGROLE: 4096\n};\n","var textParsers = require('./lib/textParsers');\nvar binaryParsers = require('./lib/binaryParsers');\nvar arrayParser = require('./lib/arrayParser');\nvar builtinTypes = require('./lib/builtins');\n\nexports.getTypeParser = getTypeParser;\nexports.setTypeParser = setTypeParser;\nexports.arrayParser = arrayParser;\nexports.builtins = builtinTypes;\n\nvar typeParsers = {\n  text: {},\n  binary: {}\n};\n\n//the empty parse function\nfunction noParse (val) {\n  return String(val);\n};\n\n//returns a function used to convert a specific type (specified by\n//oid) into a result javascript type\n//note: the oid can be obtained via the following sql query:\n//SELECT oid FROM pg_type WHERE typname = 'TYPE_NAME_HERE';\nfunction getTypeParser (oid, format) {\n  format = format || 'text';\n  if (!typeParsers[format]) {\n    return noParse;\n  }\n  return typeParsers[format][oid] || noParse;\n};\n\nfunction setTypeParser (oid, format, parseFn) {\n  if(typeof format == 'function') {\n    parseFn = format;\n    format = 'text';\n  }\n  typeParsers[format][oid] = parseFn;\n};\n\ntextParsers.init(function(oid, converter) {\n  typeParsers.text[oid] = converter;\n});\n\nbinaryParsers.init(function(oid, converter) {\n  typeParsers.binary[oid] = converter;\n});\n","'use strict'\n\nlet user\ntry {\n  user = process.platform === 'win32' ? process.env.USERNAME : process.env.USER\n} catch {\n  // ignore, e.g., Deno without --allow-env\n}\n\nmodule.exports = {\n  // database host. defaults to localhost\n  host: 'localhost',\n\n  // database user's name\n  user,\n\n  // name of database to connect\n  database: undefined,\n\n  // database user's password\n  password: null,\n\n  // a Postgres connection string to be used instead of setting individual connection items\n  // NOTE:  Setting this value will cause it to override any other value (such as database or user) defined\n  // in the defaults object.\n  connectionString: undefined,\n\n  // database port\n  port: 5432,\n\n  // number of rows to return at a time from a prepared statement's\n  // portal. 0 will return all rows at once\n  rows: 0,\n\n  // binary result mode\n  binary: false,\n\n  // Connection pool options - see https://github.com/brianc/node-pg-pool\n\n  // number of connections to use in connection pool\n  // 0 will disable connection pooling\n  max: 10,\n\n  // max milliseconds a client can go unused before it is removed\n  // from the pool and destroyed\n  idleTimeoutMillis: 30000,\n\n  client_encoding: '',\n\n  ssl: false,\n\n  application_name: undefined,\n\n  fallback_application_name: undefined,\n\n  options: undefined,\n\n  parseInputDatesAsUTC: false,\n\n  // max milliseconds any query using this connection will execute for before timing out in error.\n  // false=unlimited\n  statement_timeout: false,\n\n  // Abort any statement that waits longer than the specified duration in milliseconds while attempting to acquire a lock.\n  // false=unlimited\n  lock_timeout: false,\n\n  // Terminate any session with an open transaction that has been idle for longer than the specified duration in milliseconds\n  // false=unlimited\n  idle_in_transaction_session_timeout: false,\n\n  // max milliseconds to wait for query to complete (client side)\n  query_timeout: false,\n\n  connect_timeout: 0,\n\n  keepalives: 1,\n\n  keepalives_idle: 0,\n}\n\nconst pgTypes = require('pg-types')\n// save default parsers\nconst parseBigInteger = pgTypes.getTypeParser(20, 'text')\nconst parseBigIntegerArray = pgTypes.getTypeParser(1016, 'text')\n\n// parse int8 so you can get your count values as actual numbers\nmodule.exports.__defineSetter__('parseInt8', function (val) {\n  pgTypes.setTypeParser(20, 'text', val ? pgTypes.getTypeParser(23, 'text') : parseBigInteger)\n  pgTypes.setTypeParser(1016, 'text', val ? pgTypes.getTypeParser(1007, 'text') : parseBigIntegerArray)\n})\n","'use strict'\n\nconst defaults = require('./defaults')\n\nconst util = require('util')\nconst { isDate } = util.types || util // Node 8 doesn't have `util.types`\n\nfunction escapeElement(elementRepresentation) {\n  const escaped = elementRepresentation.replace(/\\\\/g, '\\\\\\\\').replace(/\"/g, '\\\\\"')\n\n  return '\"' + escaped + '\"'\n}\n\n// convert a JS array to a postgres array literal\n// uses comma separator so won't work for types like box that use\n// a different array separator.\nfunction arrayString(val) {\n  let result = '{'\n  for (let i = 0; i < val.length; i++) {\n    if (i > 0) {\n      result = result + ','\n    }\n    if (val[i] === null || typeof val[i] === 'undefined') {\n      result = result + 'NULL'\n    } else if (Array.isArray(val[i])) {\n      result = result + arrayString(val[i])\n    } else if (ArrayBuffer.isView(val[i])) {\n      let item = val[i]\n      if (!(item instanceof Buffer)) {\n        const buf = Buffer.from(item.buffer, item.byteOffset, item.byteLength)\n        if (buf.length === item.byteLength) {\n          item = buf\n        } else {\n          item = buf.slice(item.byteOffset, item.byteOffset + item.byteLength)\n        }\n      }\n      result += '\\\\\\\\x' + item.toString('hex')\n    } else {\n      result += escapeElement(prepareValue(val[i]))\n    }\n  }\n  result = result + '}'\n  return result\n}\n\n// converts values from javascript types\n// to their 'raw' counterparts for use as a postgres parameter\n// note: you can override this function to provide your own conversion mechanism\n// for complex types, etc...\nconst prepareValue = function (val, seen) {\n  // null and undefined are both null for postgres\n  if (val == null) {\n    return null\n  }\n  if (typeof val === 'object') {\n    if (val instanceof Buffer) {\n      return val\n    }\n    if (ArrayBuffer.isView(val)) {\n      const buf = Buffer.from(val.buffer, val.byteOffset, val.byteLength)\n      if (buf.length === val.byteLength) {\n        return buf\n      }\n      return buf.slice(val.byteOffset, val.byteOffset + val.byteLength) // Node.js v4 does not support those Buffer.from params\n    }\n    if (isDate(val)) {\n      if (defaults.parseInputDatesAsUTC) {\n        return dateToStringUTC(val)\n      } else {\n        return dateToString(val)\n      }\n    }\n    if (Array.isArray(val)) {\n      return arrayString(val)\n    }\n\n    return prepareObject(val, seen)\n  }\n  return val.toString()\n}\n\nfunction prepareObject(val, seen) {\n  if (val && typeof val.toPostgres === 'function') {\n    seen = seen || []\n    if (seen.indexOf(val) !== -1) {\n      throw new Error('circular reference detected while preparing \"' + val + '\" for query')\n    }\n    seen.push(val)\n\n    return prepareValue(val.toPostgres(prepareValue), seen)\n  }\n  return JSON.stringify(val)\n}\n\nfunction dateToString(date) {\n  let offset = -date.getTimezoneOffset()\n\n  let year = date.getFullYear()\n  const isBCYear = year < 1\n  if (isBCYear) year = Math.abs(year) + 1 // negative years are 1 off their BC representation\n\n  let ret =\n    String(year).padStart(4, '0') +\n    '-' +\n    String(date.getMonth() + 1).padStart(2, '0') +\n    '-' +\n    String(date.getDate()).padStart(2, '0') +\n    'T' +\n    String(date.getHours()).padStart(2, '0') +\n    ':' +\n    String(date.getMinutes()).padStart(2, '0') +\n    ':' +\n    String(date.getSeconds()).padStart(2, '0') +\n    '.' +\n    String(date.getMilliseconds()).padStart(3, '0')\n\n  if (offset < 0) {\n    ret += '-'\n    offset *= -1\n  } else {\n    ret += '+'\n  }\n\n  ret += String(Math.floor(offset / 60)).padStart(2, '0') + ':' + String(offset % 60).padStart(2, '0')\n  if (isBCYear) ret += ' BC'\n  return ret\n}\n\nfunction dateToStringUTC(date) {\n  let year = date.getUTCFullYear()\n  const isBCYear = year < 1\n  if (isBCYear) year = Math.abs(year) + 1 // negative years are 1 off their BC representation\n\n  let ret =\n    String(year).padStart(4, '0') +\n    '-' +\n    String(date.getUTCMonth() + 1).padStart(2, '0') +\n    '-' +\n    String(date.getUTCDate()).padStart(2, '0') +\n    'T' +\n    String(date.getUTCHours()).padStart(2, '0') +\n    ':' +\n    String(date.getUTCMinutes()).padStart(2, '0') +\n    ':' +\n    String(date.getUTCSeconds()).padStart(2, '0') +\n    '.' +\n    String(date.getUTCMilliseconds()).padStart(3, '0')\n\n  ret += '+00:00'\n  if (isBCYear) ret += ' BC'\n  return ret\n}\n\nfunction normalizeQueryConfig(config, values, callback) {\n  // can take in strings or config objects\n  config = typeof config === 'string' ? { text: config } : config\n  if (values) {\n    if (typeof values === 'function') {\n      config.callback = values\n    } else {\n      config.values = values\n    }\n  }\n  if (callback) {\n    config.callback = callback\n  }\n  return config\n}\n\n// Ported from PostgreSQL 9.2.4 source code in src/interfaces/libpq/fe-exec.c\nconst escapeIdentifier = function (str) {\n  return '\"' + str.replace(/\"/g, '\"\"') + '\"'\n}\n\nconst escapeLiteral = function (str) {\n  let hasBackslash = false\n  let escaped = \"'\"\n\n  if (str == null) {\n    return \"''\"\n  }\n\n  if (typeof str !== 'string') {\n    return \"''\"\n  }\n\n  for (let i = 0; i < str.length; i++) {\n    const c = str[i]\n    if (c === \"'\") {\n      escaped += c + c\n    } else if (c === '\\\\') {\n      escaped += c + c\n      hasBackslash = true\n    } else {\n      escaped += c\n    }\n  }\n\n  escaped += \"'\"\n\n  if (hasBackslash === true) {\n    escaped = ' E' + escaped\n  }\n\n  return escaped\n}\n\nmodule.exports = {\n  prepareValue: function prepareValueWrapper(value) {\n    // this ensures that extra arguments do not get passed into prepareValue\n    // by accident, eg: from calling values.map(utils.prepareValue)\n    return prepareValue(value)\n  },\n  normalizeQueryConfig,\n  escapeIdentifier,\n  escapeLiteral,\n}\n","const nodeCrypto = require('crypto')\n\nmodule.exports = {\n  postgresMd5PasswordHash,\n  randomBytes,\n  deriveKey,\n  sha256,\n  hashByName,\n  hmacSha256,\n  md5,\n}\n\n/**\n * The Web Crypto API - grabbed from the Node.js library or the global\n * @type Crypto\n */\n// eslint-disable-next-line no-undef\nconst webCrypto = nodeCrypto.webcrypto || globalThis.crypto\n/**\n * The SubtleCrypto API for low level crypto operations.\n * @type SubtleCrypto\n */\nconst subtleCrypto = webCrypto.subtle\nconst textEncoder = new TextEncoder()\n\n/**\n *\n * @param {*} length\n * @returns\n */\nfunction randomBytes(length) {\n  return webCrypto.getRandomValues(Buffer.alloc(length))\n}\n\nasync function md5(string) {\n  try {\n    return nodeCrypto.createHash('md5').update(string, 'utf-8').digest('hex')\n  } catch (e) {\n    // `createHash()` failed so we are probably not in Node.js, use the WebCrypto API instead.\n    // Note that the MD5 algorithm on WebCrypto is not available in Node.js.\n    // This is why we cannot just use WebCrypto in all environments.\n    const data = typeof string === 'string' ? textEncoder.encode(string) : string\n    const hash = await subtleCrypto.digest('MD5', data)\n    return Array.from(new Uint8Array(hash))\n      .map((b) => b.toString(16).padStart(2, '0'))\n      .join('')\n  }\n}\n\n// See AuthenticationMD5Password at https://www.postgresql.org/docs/current/static/protocol-flow.html\nasync function postgresMd5PasswordHash(user, password, salt) {\n  const inner = await md5(password + user)\n  const outer = await md5(Buffer.concat([Buffer.from(inner), salt]))\n  return 'md5' + outer\n}\n\n/**\n * Create a SHA-256 digest of the given data\n * @param {Buffer} data\n */\nasync function sha256(text) {\n  return await subtleCrypto.digest('SHA-256', text)\n}\n\nasync function hashByName(hashName, text) {\n  return await subtleCrypto.digest(hashName, text)\n}\n\n/**\n * Sign the message with the given key\n * @param {ArrayBuffer} keyBuffer\n * @param {string} msg\n */\nasync function hmacSha256(keyBuffer, msg) {\n  const key = await subtleCrypto.importKey('raw', keyBuffer, { name: 'HMAC', hash: 'SHA-256' }, false, ['sign'])\n  return await subtleCrypto.sign('HMAC', key, textEncoder.encode(msg))\n}\n\n/**\n * Derive a key from the password and salt\n * @param {string} password\n * @param {Uint8Array} salt\n * @param {number} iterations\n */\nasync function deriveKey(password, salt, iterations) {\n  const key = await subtleCrypto.importKey('raw', textEncoder.encode(password), 'PBKDF2', false, ['deriveBits'])\n  const params = { name: 'PBKDF2', hash: 'SHA-256', salt: salt, iterations: iterations }\n  return await subtleCrypto.deriveBits(params, key, 32 * 8, ['deriveBits'])\n}\n","'use strict'\n// This file contains crypto utility functions for versions of Node.js < 15.0.0,\n// which does not support the WebCrypto.subtle API.\n\nconst nodeCrypto = require('crypto')\n\nfunction md5(string) {\n  return nodeCrypto.createHash('md5').update(string, 'utf-8').digest('hex')\n}\n\n// See AuthenticationMD5Password at https://www.postgresql.org/docs/current/static/protocol-flow.html\nfunction postgresMd5PasswordHash(user, password, salt) {\n  const inner = md5(password + user)\n  const outer = md5(Buffer.concat([Buffer.from(inner), salt]))\n  return 'md5' + outer\n}\n\nfunction sha256(text) {\n  return nodeCrypto.createHash('sha256').update(text).digest()\n}\n\nfunction hashByName(hashName, text) {\n  hashName = hashName.replace(/(\\D)-/, '$1') // e.g. SHA-256 -> SHA256\n  return nodeCrypto.createHash(hashName).update(text).digest()\n}\n\nfunction hmacSha256(key, msg) {\n  return nodeCrypto.createHmac('sha256', key).update(msg).digest()\n}\n\nasync function deriveKey(password, salt, iterations) {\n  return nodeCrypto.pbkdf2Sync(password, salt, iterations, 32, 'sha256')\n}\n\nmodule.exports = {\n  postgresMd5PasswordHash,\n  randomBytes: nodeCrypto.randomBytes,\n  deriveKey,\n  sha256,\n  hashByName,\n  hmacSha256,\n  md5,\n}\n","'use strict'\n\nconst useLegacyCrypto = parseInt(process.versions && process.versions.node && process.versions.node.split('.')[0]) < 15\nif (useLegacyCrypto) {\n  // We are on an old version of Node.js that requires legacy crypto utilities.\n  module.exports = require('./utils-legacy')\n} else {\n  module.exports = require('./utils-webcrypto')\n}\n","function x509Error(msg, cert) {\n  return new Error('SASL channel binding: ' + msg + ' when parsing public certificate ' + cert.toString('base64'))\n}\n\nfunction readASN1Length(data, index) {\n  let length = data[index++]\n  if (length < 0x80) return { length, index }\n\n  const lengthBytes = length & 0x7f\n  if (lengthBytes > 4) throw x509Error('bad length', data)\n\n  length = 0\n  for (let i = 0; i < lengthBytes; i++) {\n    length = (length << 8) | data[index++]\n  }\n\n  return { length, index }\n}\n\nfunction readASN1OID(data, index) {\n  if (data[index++] !== 0x6) throw x509Error('non-OID data', data) // 6 = OID\n\n  const { length: OIDLength, index: indexAfterOIDLength } = readASN1Length(data, index)\n  index = indexAfterOIDLength\n  const lastIndex = index + OIDLength\n\n  const byte1 = data[index++]\n  let oid = ((byte1 / 40) >> 0) + '.' + (byte1 % 40)\n\n  while (index < lastIndex) {\n    // loop over numbers in OID\n    let value = 0\n    while (index < lastIndex) {\n      // loop over bytes in number\n      const nextByte = data[index++]\n      value = (value << 7) | (nextByte & 0x7f)\n      if (nextByte < 0x80) break\n    }\n    oid += '.' + value\n  }\n\n  return { oid, index }\n}\n\nfunction expectASN1Seq(data, index) {\n  if (data[index++] !== 0x30) throw x509Error('non-sequence data', data) // 30 = Sequence\n  return readASN1Length(data, index)\n}\n\nfunction signatureAlgorithmHashFromCertificate(data, index) {\n  // read this thread: https://www.postgresql.org/message-id/17760-b6c61e752ec07060%40postgresql.org\n  if (index === undefined) index = 0\n  index = expectASN1Seq(data, index).index\n  const { length: certInfoLength, index: indexAfterCertInfoLength } = expectASN1Seq(data, index)\n  index = indexAfterCertInfoLength + certInfoLength // skip over certificate info\n  index = expectASN1Seq(data, index).index // skip over signature length field\n  const { oid, index: indexAfterOID } = readASN1OID(data, index)\n  switch (oid) {\n    // RSA\n    case '1.2.840.113549.1.1.4':\n      return 'MD5'\n    case '1.2.840.113549.1.1.5':\n      return 'SHA-1'\n    case '1.2.840.113549.1.1.11':\n      return 'SHA-256'\n    case '1.2.840.113549.1.1.12':\n      return 'SHA-384'\n    case '1.2.840.113549.1.1.13':\n      return 'SHA-512'\n    case '1.2.840.113549.1.1.14':\n      return 'SHA-224'\n    case '1.2.840.113549.1.1.15':\n      return 'SHA512-224'\n    case '1.2.840.113549.1.1.16':\n      return 'SHA512-256'\n    // ECDSA\n    case '1.2.840.10045.4.1':\n      return 'SHA-1'\n    case '1.2.840.10045.4.3.1':\n      return 'SHA-224'\n    case '1.2.840.10045.4.3.2':\n      return 'SHA-256'\n    case '1.2.840.10045.4.3.3':\n      return 'SHA-384'\n    case '1.2.840.10045.4.3.4':\n      return 'SHA-512'\n    // RSASSA-PSS: hash is indicated separately\n    case '1.2.840.113549.1.1.10': {\n      index = indexAfterOID\n      index = expectASN1Seq(data, index).index\n      if (data[index++] !== 0xa0) throw x509Error('non-tag data', data) // a0 = constructed tag 0\n      index = readASN1Length(data, index).index // skip over tag length field\n      index = expectASN1Seq(data, index).index // skip over sequence length field\n      const { oid: hashOID } = readASN1OID(data, index)\n      switch (hashOID) {\n        // standalone hash OIDs\n        case '1.2.840.113549.2.5':\n          return 'MD5'\n        case '1.3.14.3.2.26':\n          return 'SHA-1'\n        case '2.16.840.1.101.3.4.2.1':\n          return 'SHA-256'\n        case '2.16.840.1.101.3.4.2.2':\n          return 'SHA-384'\n        case '2.16.840.1.101.3.4.2.3':\n          return 'SHA-512'\n      }\n      throw x509Error('unknown hash OID ' + hashOID, data)\n    }\n    // Ed25519 -- see https: return//github.com/openssl/openssl/issues/15477\n    case '1.3.101.110':\n    case '1.3.101.112': // ph\n      return 'SHA-512'\n    // Ed448 -- still not in pg 17.2 (if supported, digest would be SHAKE256 x 64 bytes)\n    case '1.3.101.111':\n    case '1.3.101.113': // ph\n      throw x509Error('Ed448 certificate channel binding is not currently supported by Postgres')\n  }\n  throw x509Error('unknown OID ' + oid, data)\n}\n\nmodule.exports = { signatureAlgorithmHashFromCertificate }\n","'use strict'\nconst crypto = require('./utils')\nconst { signatureAlgorithmHashFromCertificate } = require('./cert-signatures')\n\nfunction startSession(mechanisms, stream) {\n  const candidates = ['SCRAM-SHA-256']\n  if (stream) candidates.unshift('SCRAM-SHA-256-PLUS') // higher-priority, so placed first\n\n  const mechanism = candidates.find((candidate) => mechanisms.includes(candidate))\n\n  if (!mechanism) {\n    throw new Error('SASL: Only mechanism(s) ' + candidates.join(' and ') + ' are supported')\n  }\n\n  if (mechanism === 'SCRAM-SHA-256-PLUS' && typeof stream.getPeerCertificate !== 'function') {\n    // this should never happen if we are really talking to a Postgres server\n    throw new Error('SASL: Mechanism SCRAM-SHA-256-PLUS requires a certificate')\n  }\n\n  const clientNonce = crypto.randomBytes(18).toString('base64')\n  const gs2Header = mechanism === 'SCRAM-SHA-256-PLUS' ? 'p=tls-server-end-point' : stream ? 'y' : 'n'\n\n  return {\n    mechanism,\n    clientNonce,\n    response: gs2Header + ',,n=*,r=' + clientNonce,\n    message: 'SASLInitialResponse',\n  }\n}\n\nasync function continueSession(session, password, serverData, stream) {\n  if (session.message !== 'SASLInitialResponse') {\n    throw new Error('SASL: Last message was not SASLInitialResponse')\n  }\n  if (typeof password !== 'string') {\n    throw new Error('SASL: SCRAM-SERVER-FIRST-MESSAGE: client password must be a string')\n  }\n  if (password === '') {\n    throw new Error('SASL: SCRAM-SERVER-FIRST-MESSAGE: client password must be a non-empty string')\n  }\n  if (typeof serverData !== 'string') {\n    throw new Error('SASL: SCRAM-SERVER-FIRST-MESSAGE: serverData must be a string')\n  }\n\n  const sv = parseServerFirstMessage(serverData)\n\n  if (!sv.nonce.startsWith(session.clientNonce)) {\n    throw new Error('SASL: SCRAM-SERVER-FIRST-MESSAGE: server nonce does not start with client nonce')\n  } else if (sv.nonce.length === session.clientNonce.length) {\n    throw new Error('SASL: SCRAM-SERVER-FIRST-MESSAGE: server nonce is too short')\n  }\n\n  const clientFirstMessageBare = 'n=*,r=' + session.clientNonce\n  const serverFirstMessage = 'r=' + sv.nonce + ',s=' + sv.salt + ',i=' + sv.iteration\n\n  // without channel binding:\n  let channelBinding = stream ? 'eSws' : 'biws' // 'y,,' or 'n,,', base64-encoded\n\n  // override if channel binding is in use:\n  if (session.mechanism === 'SCRAM-SHA-256-PLUS') {\n    const peerCert = stream.getPeerCertificate().raw\n    let hashName = signatureAlgorithmHashFromCertificate(peerCert)\n    if (hashName === 'MD5' || hashName === 'SHA-1') hashName = 'SHA-256'\n    const certHash = await crypto.hashByName(hashName, peerCert)\n    const bindingData = Buffer.concat([Buffer.from('p=tls-server-end-point,,'), Buffer.from(certHash)])\n    channelBinding = bindingData.toString('base64')\n  }\n\n  const clientFinalMessageWithoutProof = 'c=' + channelBinding + ',r=' + sv.nonce\n  const authMessage = clientFirstMessageBare + ',' + serverFirstMessage + ',' + clientFinalMessageWithoutProof\n\n  const saltBytes = Buffer.from(sv.salt, 'base64')\n  const saltedPassword = await crypto.deriveKey(password, saltBytes, sv.iteration)\n  const clientKey = await crypto.hmacSha256(saltedPassword, 'Client Key')\n  const storedKey = await crypto.sha256(clientKey)\n  const clientSignature = await crypto.hmacSha256(storedKey, authMessage)\n  const clientProof = xorBuffers(Buffer.from(clientKey), Buffer.from(clientSignature)).toString('base64')\n  const serverKey = await crypto.hmacSha256(saltedPassword, 'Server Key')\n  const serverSignatureBytes = await crypto.hmacSha256(serverKey, authMessage)\n\n  session.message = 'SASLResponse'\n  session.serverSignature = Buffer.from(serverSignatureBytes).toString('base64')\n  session.response = clientFinalMessageWithoutProof + ',p=' + clientProof\n}\n\nfunction finalizeSession(session, serverData) {\n  if (session.message !== 'SASLResponse') {\n    throw new Error('SASL: Last message was not SASLResponse')\n  }\n  if (typeof serverData !== 'string') {\n    throw new Error('SASL: SCRAM-SERVER-FINAL-MESSAGE: serverData must be a string')\n  }\n\n  const { serverSignature } = parseServerFinalMessage(serverData)\n\n  if (serverSignature !== session.serverSignature) {\n    throw new Error('SASL: SCRAM-SERVER-FINAL-MESSAGE: server signature does not match')\n  }\n}\n\n/**\n * printable       = %x21-2B / %x2D-7E\n *                   ;; Printable ASCII except \",\".\n *                   ;; Note that any \"printable\" is also\n *                   ;; a valid \"value\".\n */\nfunction isPrintableChars(text) {\n  if (typeof text !== 'string') {\n    throw new TypeError('SASL: text must be a string')\n  }\n  return text\n    .split('')\n    .map((_, i) => text.charCodeAt(i))\n    .every((c) => (c >= 0x21 && c <= 0x2b) || (c >= 0x2d && c <= 0x7e))\n}\n\n/**\n * base64-char     = ALPHA / DIGIT / \"/\" / \"+\"\n *\n * base64-4        = 4base64-char\n *\n * base64-3        = 3base64-char \"=\"\n *\n * base64-2        = 2base64-char \"==\"\n *\n * base64          = *base64-4 [base64-3 / base64-2]\n */\nfunction isBase64(text) {\n  return /^(?:[a-zA-Z0-9+/]{4})*(?:[a-zA-Z0-9+/]{2}==|[a-zA-Z0-9+/]{3}=)?$/.test(text)\n}\n\nfunction parseAttributePairs(text) {\n  if (typeof text !== 'string') {\n    throw new TypeError('SASL: attribute pairs text must be a string')\n  }\n\n  return new Map(\n    text.split(',').map((attrValue) => {\n      if (!/^.=/.test(attrValue)) {\n        throw new Error('SASL: Invalid attribute pair entry')\n      }\n      const name = attrValue[0]\n      const value = attrValue.substring(2)\n      return [name, value]\n    })\n  )\n}\n\nfunction parseServerFirstMessage(data) {\n  const attrPairs = parseAttributePairs(data)\n\n  const nonce = attrPairs.get('r')\n  if (!nonce) {\n    throw new Error('SASL: SCRAM-SERVER-FIRST-MESSAGE: nonce missing')\n  } else if (!isPrintableChars(nonce)) {\n    throw new Error('SASL: SCRAM-SERVER-FIRST-MESSAGE: nonce must only contain printable characters')\n  }\n  const salt = attrPairs.get('s')\n  if (!salt) {\n    throw new Error('SASL: SCRAM-SERVER-FIRST-MESSAGE: salt missing')\n  } else if (!isBase64(salt)) {\n    throw new Error('SASL: SCRAM-SERVER-FIRST-MESSAGE: salt must be base64')\n  }\n  const iterationText = attrPairs.get('i')\n  if (!iterationText) {\n    throw new Error('SASL: SCRAM-SERVER-FIRST-MESSAGE: iteration missing')\n  } else if (!/^[1-9][0-9]*$/.test(iterationText)) {\n    throw new Error('SASL: SCRAM-SERVER-FIRST-MESSAGE: invalid iteration count')\n  }\n  const iteration = parseInt(iterationText, 10)\n\n  return {\n    nonce,\n    salt,\n    iteration,\n  }\n}\n\nfunction parseServerFinalMessage(serverData) {\n  const attrPairs = parseAttributePairs(serverData)\n  const serverSignature = attrPairs.get('v')\n  if (!serverSignature) {\n    throw new Error('SASL: SCRAM-SERVER-FINAL-MESSAGE: server signature is missing')\n  } else if (!isBase64(serverSignature)) {\n    throw new Error('SASL: SCRAM-SERVER-FINAL-MESSAGE: server signature must be base64')\n  }\n  return {\n    serverSignature,\n  }\n}\n\nfunction xorBuffers(a, b) {\n  if (!Buffer.isBuffer(a)) {\n    throw new TypeError('first argument must be a Buffer')\n  }\n  if (!Buffer.isBuffer(b)) {\n    throw new TypeError('second argument must be a Buffer')\n  }\n  if (a.length !== b.length) {\n    throw new Error('Buffer lengths must match')\n  }\n  if (a.length === 0) {\n    throw new Error('Buffers cannot be empty')\n  }\n  return Buffer.from(a.map((_, i) => a[i] ^ b[i]))\n}\n\nmodule.exports = {\n  startSession,\n  continueSession,\n  finalizeSession,\n}\n","'use strict'\n\nconst types = require('pg-types')\n\nfunction TypeOverrides(userTypes) {\n  this._types = userTypes || types\n  this.text = {}\n  this.binary = {}\n}\n\nTypeOverrides.prototype.getOverrides = function (format) {\n  switch (format) {\n    case 'text':\n      return this.text\n    case 'binary':\n      return this.binary\n    default:\n      return {}\n  }\n}\n\nTypeOverrides.prototype.setTypeParser = function (oid, format, parseFn) {\n  if (typeof format === 'function') {\n    parseFn = format\n    format = 'text'\n  }\n  this.getOverrides(format)[oid] = parseFn\n}\n\nTypeOverrides.prototype.getTypeParser = function (oid, format) {\n  format = format || 'text'\n  return this.getOverrides(format)[oid] || this._types.getTypeParser(oid, format)\n}\n\nmodule.exports = TypeOverrides\n","'use strict'\n\n//Parse method copied from https://github.com/brianc/node-postgres\n//Copyright (c) 2010-2014 Brian Carlson (brian.m.carlson@gmail.com)\n//MIT License\n\n//parses a connection string\nfunction parse(str, options = {}) {\n  //unix socket\n  if (str.charAt(0) === '/') {\n    const config = str.split(' ')\n    return { host: config[0], database: config[1] }\n  }\n\n  // Check for empty host in URL\n\n  const config = {}\n  let result\n  let dummyHost = false\n  if (/ |%[^a-f0-9]|%[a-f0-9][^a-f0-9]/i.test(str)) {\n    // Ensure spaces are encoded as %20\n    str = encodeURI(str).replace(/%25(\\d\\d)/g, '%$1')\n  }\n\n  try {\n    try {\n      result = new URL(str, 'postgres://base')\n    } catch (e) {\n      // The URL is invalid so try again with a dummy host\n      result = new URL(str.replace('@/', '@___DUMMY___/'), 'postgres://base')\n      dummyHost = true\n    }\n  } catch (err) {\n    // Remove the input from the error message to avoid leaking sensitive information\n    err.input && (err.input = '*****REDACTED*****')\n    throw err\n  }\n\n  // We'd like to use Object.fromEntries() here but Node.js 10 does not support it\n  for (const entry of result.searchParams.entries()) {\n    config[entry[0]] = entry[1]\n  }\n\n  config.user = config.user || decodeURIComponent(result.username)\n  config.password = config.password || decodeURIComponent(result.password)\n\n  if (result.protocol == 'socket:') {\n    config.host = decodeURI(result.pathname)\n    config.database = result.searchParams.get('db')\n    config.client_encoding = result.searchParams.get('encoding')\n    return config\n  }\n  const hostname = dummyHost ? '' : result.hostname\n  if (!config.host) {\n    // Only set the host if there is no equivalent query param.\n    config.host = decodeURIComponent(hostname)\n  } else if (hostname && /^%2f/i.test(hostname)) {\n    // Only prepend the hostname to the pathname if it is not a URL encoded Unix socket host.\n    result.pathname = hostname + result.pathname\n  }\n  if (!config.port) {\n    // Only set the port if there is no equivalent query param.\n    config.port = result.port\n  }\n\n  const pathname = result.pathname.slice(1) || null\n  config.database = pathname ? decodeURI(pathname) : null\n\n  if (config.ssl === 'true' || config.ssl === '1') {\n    config.ssl = true\n  }\n\n  if (config.ssl === '0') {\n    config.ssl = false\n  }\n\n  if (config.sslcert || config.sslkey || config.sslrootcert || config.sslmode) {\n    config.ssl = {}\n  }\n\n  // Only try to load fs if we expect to read from the disk\n  const fs = config.sslcert || config.sslkey || config.sslrootcert ? require('fs') : null\n\n  if (config.sslcert) {\n    config.ssl.cert = fs.readFileSync(config.sslcert).toString()\n  }\n\n  if (config.sslkey) {\n    config.ssl.key = fs.readFileSync(config.sslkey).toString()\n  }\n\n  if (config.sslrootcert) {\n    config.ssl.ca = fs.readFileSync(config.sslrootcert).toString()\n  }\n\n  if (options.useLibpqCompat && config.uselibpqcompat) {\n    throw new Error('Both useLibpqCompat and uselibpqcompat are set. Please use only one of them.')\n  }\n\n  if (config.uselibpqcompat === 'true' || options.useLibpqCompat) {\n    switch (config.sslmode) {\n      case 'disable': {\n        config.ssl = false\n        break\n      }\n      case 'prefer': {\n        config.ssl.rejectUnauthorized = false\n        break\n      }\n      case 'require': {\n        if (config.sslrootcert) {\n          // If a root CA is specified, behavior of `sslmode=require` will be the same as that of `verify-ca`\n          config.ssl.checkServerIdentity = function () {}\n        } else {\n          config.ssl.rejectUnauthorized = false\n        }\n        break\n      }\n      case 'verify-ca': {\n        if (!config.ssl.ca) {\n          throw new Error(\n            'SECURITY WARNING: Using sslmode=verify-ca requires specifying a CA with sslrootcert. If a public CA is used, verify-ca allows connections to a server that somebody else may have registered with the CA, making you vulnerable to Man-in-the-Middle attacks. Either specify a custom CA certificate with sslrootcert parameter or use sslmode=verify-full for proper security.'\n          )\n        }\n        config.ssl.checkServerIdentity = function () {}\n        break\n      }\n      case 'verify-full': {\n        break\n      }\n    }\n  } else {\n    switch (config.sslmode) {\n      case 'disable': {\n        config.ssl = false\n        break\n      }\n      case 'prefer':\n      case 'require':\n      case 'verify-ca':\n      case 'verify-full': {\n        if (config.sslmode !== 'verify-full') {\n          deprecatedSslModeWarning(config.sslmode)\n        }\n        break\n      }\n      case 'no-verify': {\n        config.ssl.rejectUnauthorized = false\n        break\n      }\n    }\n  }\n\n  return config\n}\n\n// convert pg-connection-string ssl config to a ClientConfig.ConnectionOptions\nfunction toConnectionOptions(sslConfig) {\n  const connectionOptions = Object.entries(sslConfig).reduce((c, [key, value]) => {\n    // we explicitly check for undefined and null instead of `if (value)` because some\n    // options accept falsy values. Example: `ssl.rejectUnauthorized = false`\n    if (value !== undefined && value !== null) {\n      c[key] = value\n    }\n\n    return c\n  }, {})\n\n  return connectionOptions\n}\n\n// convert pg-connection-string config to a ClientConfig\nfunction toClientConfig(config) {\n  const poolConfig = Object.entries(config).reduce((c, [key, value]) => {\n    if (key === 'ssl') {\n      const sslConfig = value\n\n      if (typeof sslConfig === 'boolean') {\n        c[key] = sslConfig\n      }\n\n      if (typeof sslConfig === 'object') {\n        c[key] = toConnectionOptions(sslConfig)\n      }\n    } else if (value !== undefined && value !== null) {\n      if (key === 'port') {\n        // when port is not specified, it is converted into an empty string\n        // we want to avoid NaN or empty string as a values in ClientConfig\n        if (value !== '') {\n          const v = parseInt(value, 10)\n          if (isNaN(v)) {\n            throw new Error(`Invalid ${key}: ${value}`)\n          }\n\n          c[key] = v\n        }\n      } else {\n        c[key] = value\n      }\n    }\n\n    return c\n  }, {})\n\n  return poolConfig\n}\n\n// parses a connection string into ClientConfig\nfunction parseIntoClientConfig(str) {\n  return toClientConfig(parse(str))\n}\n\nfunction deprecatedSslModeWarning(sslmode) {\n  if (!deprecatedSslModeWarning.warned && typeof process !== 'undefined' && process.emitWarning) {\n    deprecatedSslModeWarning.warned = true\n    process.emitWarning(`SECURITY WARNING: The SSL modes 'prefer', 'require', and 'verify-ca' are treated as aliases for 'verify-full'.\nIn the next major version (pg-connection-string v3.0.0 and pg v9.0.0), these modes will adopt standard libpq semantics, which have weaker security guarantees.\n\nTo prepare for this change:\n- If you want the current behavior, explicitly use 'sslmode=verify-full'\n- If you want libpq compatibility now, use 'uselibpqcompat=true&sslmode=${sslmode}'\n\nSee https://www.postgresql.org/docs/current/libpq-ssl.html for libpq SSL mode definitions.`)\n  }\n}\n\nmodule.exports = parse\n\nparse.parse = parse\nparse.toClientConfig = toClientConfig\nparse.parseIntoClientConfig = parseIntoClientConfig\n","'use strict'\n\nconst dns = require('dns')\n\nconst defaults = require('./defaults')\n\nconst parse = require('pg-connection-string').parse // parses a connection string\n\nconst val = function (key, config, envVar) {\n  if (config[key]) {\n    return config[key]\n  }\n\n  if (envVar === undefined) {\n    envVar = process.env['PG' + key.toUpperCase()]\n  } else if (envVar === false) {\n    // do nothing ... use false\n  } else {\n    envVar = process.env[envVar]\n  }\n\n  return envVar || defaults[key]\n}\n\nconst readSSLConfigFromEnvironment = function () {\n  switch (process.env.PGSSLMODE) {\n    case 'disable':\n      return false\n    case 'prefer':\n    case 'require':\n    case 'verify-ca':\n    case 'verify-full':\n      return true\n    case 'no-verify':\n      return { rejectUnauthorized: false }\n  }\n  return defaults.ssl\n}\n\n// Convert arg to a string, surround in single quotes, and escape single quotes and backslashes\nconst quoteParamValue = function (value) {\n  return \"'\" + ('' + value).replace(/\\\\/g, '\\\\\\\\').replace(/'/g, \"\\\\'\") + \"'\"\n}\n\nconst add = function (params, config, paramName) {\n  const value = config[paramName]\n  if (value !== undefined && value !== null) {\n    params.push(paramName + '=' + quoteParamValue(value))\n  }\n}\n\nclass ConnectionParameters {\n  constructor(config) {\n    // if a string is passed, it is a raw connection string so we parse it into a config\n    config = typeof config === 'string' ? parse(config) : config || {}\n\n    // if the config has a connectionString defined, parse IT into the config we use\n    // this will override other default values with what is stored in connectionString\n    if (config.connectionString) {\n      config = Object.assign({}, config, parse(config.connectionString))\n    }\n\n    this.user = val('user', config)\n    this.database = val('database', config)\n\n    if (this.database === undefined) {\n      this.database = this.user\n    }\n\n    this.port = parseInt(val('port', config), 10)\n    this.host = val('host', config)\n\n    // \"hiding\" the password so it doesn't show up in stack traces\n    // or if the client is console.logged\n    Object.defineProperty(this, 'password', {\n      configurable: true,\n      enumerable: false,\n      writable: true,\n      value: val('password', config),\n    })\n\n    this.binary = val('binary', config)\n    this.options = val('options', config)\n\n    this.ssl = typeof config.ssl === 'undefined' ? readSSLConfigFromEnvironment() : config.ssl\n\n    if (typeof this.ssl === 'string') {\n      if (this.ssl === 'true') {\n        this.ssl = true\n      }\n    }\n    // support passing in ssl=no-verify via connection string\n    if (this.ssl === 'no-verify') {\n      this.ssl = { rejectUnauthorized: false }\n    }\n    if (this.ssl && this.ssl.key) {\n      Object.defineProperty(this.ssl, 'key', {\n        enumerable: false,\n      })\n    }\n\n    this.client_encoding = val('client_encoding', config)\n    this.replication = val('replication', config)\n    // a domain socket begins with '/'\n    this.isDomainSocket = !(this.host || '').indexOf('/')\n\n    this.application_name = val('application_name', config, 'PGAPPNAME')\n    this.fallback_application_name = val('fallback_application_name', config, false)\n    this.statement_timeout = val('statement_timeout', config, false)\n    this.lock_timeout = val('lock_timeout', config, false)\n    this.idle_in_transaction_session_timeout = val('idle_in_transaction_session_timeout', config, false)\n    this.query_timeout = val('query_timeout', config, false)\n\n    if (config.connectionTimeoutMillis === undefined) {\n      this.connect_timeout = process.env.PGCONNECT_TIMEOUT || 0\n    } else {\n      this.connect_timeout = Math.floor(config.connectionTimeoutMillis / 1000)\n    }\n\n    if (config.keepAlive === false) {\n      this.keepalives = 0\n    } else if (config.keepAlive === true) {\n      this.keepalives = 1\n    }\n\n    if (typeof config.keepAliveInitialDelayMillis === 'number') {\n      this.keepalives_idle = Math.floor(config.keepAliveInitialDelayMillis / 1000)\n    }\n  }\n\n  getLibpqConnectionString(cb) {\n    const params = []\n    add(params, this, 'user')\n    add(params, this, 'password')\n    add(params, this, 'port')\n    add(params, this, 'application_name')\n    add(params, this, 'fallback_application_name')\n    add(params, this, 'connect_timeout')\n    add(params, this, 'options')\n\n    const ssl = typeof this.ssl === 'object' ? this.ssl : this.ssl ? { sslmode: this.ssl } : {}\n    add(params, ssl, 'sslmode')\n    add(params, ssl, 'sslca')\n    add(params, ssl, 'sslkey')\n    add(params, ssl, 'sslcert')\n    add(params, ssl, 'sslrootcert')\n\n    if (this.database) {\n      params.push('dbname=' + quoteParamValue(this.database))\n    }\n    if (this.replication) {\n      params.push('replication=' + quoteParamValue(this.replication))\n    }\n    if (this.host) {\n      params.push('host=' + quoteParamValue(this.host))\n    }\n    if (this.isDomainSocket) {\n      return cb(null, params.join(' '))\n    }\n    if (this.client_encoding) {\n      params.push('client_encoding=' + quoteParamValue(this.client_encoding))\n    }\n    dns.lookup(this.host, function (err, address) {\n      if (err) return cb(err, null)\n      params.push('hostaddr=' + quoteParamValue(address))\n      return cb(null, params.join(' '))\n    })\n  }\n}\n\nmodule.exports = ConnectionParameters\n","'use strict'\n\nconst types = require('pg-types')\n\nconst matchRegexp = /^([A-Za-z]+)(?: (\\d+))?(?: (\\d+))?/\n\n// result object returned from query\n// in the 'end' event and also\n// passed as second argument to provided callback\nclass Result {\n  constructor(rowMode, types) {\n    this.command = null\n    this.rowCount = null\n    this.oid = null\n    this.rows = []\n    this.fields = []\n    this._parsers = undefined\n    this._types = types\n    this.RowCtor = null\n    this.rowAsArray = rowMode === 'array'\n    if (this.rowAsArray) {\n      this.parseRow = this._parseRowAsArray\n    }\n    this._prebuiltEmptyResultObject = null\n  }\n\n  // adds a command complete message\n  addCommandComplete(msg) {\n    let match\n    if (msg.text) {\n      // pure javascript\n      match = matchRegexp.exec(msg.text)\n    } else {\n      // native bindings\n      match = matchRegexp.exec(msg.command)\n    }\n    if (match) {\n      this.command = match[1]\n      if (match[3]) {\n        // COMMAND OID ROWS\n        this.oid = parseInt(match[2], 10)\n        this.rowCount = parseInt(match[3], 10)\n      } else if (match[2]) {\n        // COMMAND ROWS\n        this.rowCount = parseInt(match[2], 10)\n      }\n    }\n  }\n\n  _parseRowAsArray(rowData) {\n    const row = new Array(rowData.length)\n    for (let i = 0, len = rowData.length; i < len; i++) {\n      const rawValue = rowData[i]\n      if (rawValue !== null) {\n        row[i] = this._parsers[i](rawValue)\n      } else {\n        row[i] = null\n      }\n    }\n    return row\n  }\n\n  parseRow(rowData) {\n    const row = { ...this._prebuiltEmptyResultObject }\n    for (let i = 0, len = rowData.length; i < len; i++) {\n      const rawValue = rowData[i]\n      const field = this.fields[i].name\n      if (rawValue !== null) {\n        const v = this.fields[i].format === 'binary' ? Buffer.from(rawValue) : rawValue\n        row[field] = this._parsers[i](v)\n      } else {\n        row[field] = null\n      }\n    }\n    return row\n  }\n\n  addRow(row) {\n    this.rows.push(row)\n  }\n\n  addFields(fieldDescriptions) {\n    // clears field definitions\n    // multiple query statements in 1 action can result in multiple sets\n    // of rowDescriptions...eg: 'select NOW(); select 1::int;'\n    // you need to reset the fields\n    this.fields = fieldDescriptions\n    if (this.fields.length) {\n      this._parsers = new Array(fieldDescriptions.length)\n    }\n\n    const row = {}\n\n    for (let i = 0; i < fieldDescriptions.length; i++) {\n      const desc = fieldDescriptions[i]\n      row[desc.name] = null\n\n      if (this._types) {\n        this._parsers[i] = this._types.getTypeParser(desc.dataTypeID, desc.format || 'text')\n      } else {\n        this._parsers[i] = types.getTypeParser(desc.dataTypeID, desc.format || 'text')\n      }\n    }\n\n    this._prebuiltEmptyResultObject = { ...row }\n  }\n}\n\nmodule.exports = Result\n","'use strict'\n\nconst { EventEmitter } = require('events')\n\nconst Result = require('./result')\nconst utils = require('./utils')\n\nclass Query extends EventEmitter {\n  constructor(config, values, callback) {\n    super()\n\n    config = utils.normalizeQueryConfig(config, values, callback)\n\n    this.text = config.text\n    this.values = config.values\n    this.rows = config.rows\n    this.types = config.types\n    this.name = config.name\n    this.queryMode = config.queryMode\n    this.binary = config.binary\n    // use unique portal name each time\n    this.portal = config.portal || ''\n    this.callback = config.callback\n    this._rowMode = config.rowMode\n    if (process.domain && config.callback) {\n      this.callback = process.domain.bind(config.callback)\n    }\n    this._result = new Result(this._rowMode, this.types)\n\n    // potential for multiple results\n    this._results = this._result\n    this._canceledDueToError = false\n  }\n\n  requiresPreparation() {\n    if (this.queryMode === 'extended') {\n      return true\n    }\n\n    // named queries must always be prepared\n    if (this.name) {\n      return true\n    }\n    // always prepare if there are max number of rows expected per\n    // portal execution\n    if (this.rows) {\n      return true\n    }\n    // don't prepare empty text queries\n    if (!this.text) {\n      return false\n    }\n    // prepare if there are values\n    if (!this.values) {\n      return false\n    }\n    return this.values.length > 0\n  }\n\n  _checkForMultirow() {\n    // if we already have a result with a command property\n    // then we've already executed one query in a multi-statement simple query\n    // turn our results into an array of results\n    if (this._result.command) {\n      if (!Array.isArray(this._results)) {\n        this._results = [this._result]\n      }\n      this._result = new Result(this._rowMode, this._result._types)\n      this._results.push(this._result)\n    }\n  }\n\n  // associates row metadata from the supplied\n  // message with this query object\n  // metadata used when parsing row results\n  handleRowDescription(msg) {\n    this._checkForMultirow()\n    this._result.addFields(msg.fields)\n    this._accumulateRows = this.callback || !this.listeners('row').length\n  }\n\n  handleDataRow(msg) {\n    let row\n\n    if (this._canceledDueToError) {\n      return\n    }\n\n    try {\n      row = this._result.parseRow(msg.fields)\n    } catch (err) {\n      this._canceledDueToError = err\n      return\n    }\n\n    this.emit('row', row, this._result)\n    if (this._accumulateRows) {\n      this._result.addRow(row)\n    }\n  }\n\n  handleCommandComplete(msg, connection) {\n    this._checkForMultirow()\n    this._result.addCommandComplete(msg)\n    // need to sync after each command complete of a prepared statement\n    // if we were using a row count which results in multiple calls to _getRows\n    if (this.rows) {\n      connection.sync()\n    }\n  }\n\n  // if a named prepared statement is created with empty query text\n  // the backend will send an emptyQuery message but *not* a command complete message\n  // since we pipeline sync immediately after execute we don't need to do anything here\n  // unless we have rows specified, in which case we did not pipeline the initial sync call\n  handleEmptyQuery(connection) {\n    if (this.rows) {\n      connection.sync()\n    }\n  }\n\n  handleError(err, connection) {\n    // need to sync after error during a prepared statement\n    if (this._canceledDueToError) {\n      err = this._canceledDueToError\n      this._canceledDueToError = false\n    }\n    // if callback supplied do not emit error event as uncaught error\n    // events will bubble up to node process\n    if (this.callback) {\n      return this.callback(err)\n    }\n    this.emit('error', err)\n  }\n\n  handleReadyForQuery(con) {\n    if (this._canceledDueToError) {\n      return this.handleError(this._canceledDueToError, con)\n    }\n    if (this.callback) {\n      try {\n        this.callback(null, this._results)\n      } catch (err) {\n        process.nextTick(() => {\n          throw err\n        })\n      }\n    }\n    this.emit('end', this._results)\n  }\n\n  submit(connection) {\n    if (typeof this.text !== 'string' && typeof this.name !== 'string') {\n      return new Error('A query must have either text or a name. Supplying neither is unsupported.')\n    }\n    const previous = connection.parsedStatements[this.name]\n    if (this.text && previous && this.text !== previous) {\n      return new Error(`Prepared statements must be unique - '${this.name}' was used for a different statement`)\n    }\n    if (this.values && !Array.isArray(this.values)) {\n      return new Error('Query values must be an array')\n    }\n    if (this.requiresPreparation()) {\n      // If we're using the extended query protocol we fire off several separate commands\n      // to the backend. On some versions of node & some operating system versions\n      // the network stack writes each message separately instead of buffering them together\n      // causing the client & network to send more slowly. Corking & uncorking the stream\n      // allows node to buffer up the messages internally before sending them all off at once.\n      // note: we're checking for existence of cork/uncork because some versions of streams\n      // might not have this (cloudflare?)\n      connection.stream.cork && connection.stream.cork()\n      try {\n        this.prepare(connection)\n      } finally {\n        // while unlikely for this.prepare to throw, if it does & we don't uncork this stream\n        // this client becomes unresponsive, so put in finally block \"just in case\"\n        connection.stream.uncork && connection.stream.uncork()\n      }\n    } else {\n      connection.query(this.text)\n    }\n    return null\n  }\n\n  hasBeenParsed(connection) {\n    return this.name && connection.parsedStatements[this.name]\n  }\n\n  handlePortalSuspended(connection) {\n    this._getRows(connection, this.rows)\n  }\n\n  _getRows(connection, rows) {\n    connection.execute({\n      portal: this.portal,\n      rows: rows,\n    })\n    // if we're not reading pages of rows send the sync command\n    // to indicate the pipeline is finished\n    if (!rows) {\n      connection.sync()\n    } else {\n      // otherwise flush the call out to read more rows\n      connection.flush()\n    }\n  }\n\n  // http://developer.postgresql.org/pgdocs/postgres/protocol-flow.html#PROTOCOL-FLOW-EXT-QUERY\n  prepare(connection) {\n    // TODO refactor this poor encapsulation\n    if (!this.hasBeenParsed(connection)) {\n      connection.parse({\n        text: this.text,\n        name: this.name,\n        types: this.types,\n      })\n    }\n\n    // because we're mapping user supplied values to\n    // postgres wire protocol compatible values it could\n    // throw an exception, so try/catch this section\n    try {\n      connection.bind({\n        portal: this.portal,\n        statement: this.name,\n        values: this.values,\n        binary: this.binary,\n        valueMapper: utils.prepareValue,\n      })\n    } catch (err) {\n      this.handleError(err, connection)\n      return\n    }\n\n    connection.describe({\n      type: 'P',\n      name: this.portal || '',\n    })\n\n    this._getRows(connection, this.rows)\n  }\n\n  handleCopyInResponse(connection) {\n    connection.sendCopyFail('No source stream defined')\n  }\n\n  handleCopyData(msg, connection) {\n    // noop\n  }\n}\n\nmodule.exports = Query\n","export type Mode = 'text' | 'binary'\n\nexport type MessageName =\n  | 'parseComplete'\n  | 'bindComplete'\n  | 'closeComplete'\n  | 'noData'\n  | 'portalSuspended'\n  | 'replicationStart'\n  | 'emptyQuery'\n  | 'copyDone'\n  | 'copyData'\n  | 'rowDescription'\n  | 'parameterDescription'\n  | 'parameterStatus'\n  | 'backendKeyData'\n  | 'notification'\n  | 'readyForQuery'\n  | 'commandComplete'\n  | 'dataRow'\n  | 'copyInResponse'\n  | 'copyOutResponse'\n  | 'authenticationOk'\n  | 'authenticationMD5Password'\n  | 'authenticationCleartextPassword'\n  | 'authenticationSASL'\n  | 'authenticationSASLContinue'\n  | 'authenticationSASLFinal'\n  | 'error'\n  | 'notice'\n\nexport interface BackendMessage {\n  name: MessageName\n  length: number\n}\n\nexport const parseComplete: BackendMessage = {\n  name: 'parseComplete',\n  length: 5,\n}\n\nexport const bindComplete: BackendMessage = {\n  name: 'bindComplete',\n  length: 5,\n}\n\nexport const closeComplete: BackendMessage = {\n  name: 'closeComplete',\n  length: 5,\n}\n\nexport const noData: BackendMessage = {\n  name: 'noData',\n  length: 5,\n}\n\nexport const portalSuspended: BackendMessage = {\n  name: 'portalSuspended',\n  length: 5,\n}\n\nexport const replicationStart: BackendMessage = {\n  name: 'replicationStart',\n  length: 4,\n}\n\nexport const emptyQuery: BackendMessage = {\n  name: 'emptyQuery',\n  length: 4,\n}\n\nexport const copyDone: BackendMessage = {\n  name: 'copyDone',\n  length: 4,\n}\n\ninterface NoticeOrError {\n  message: string | undefined\n  severity: string | undefined\n  code: string | undefined\n  detail: string | undefined\n  hint: string | undefined\n  position: string | undefined\n  internalPosition: string | undefined\n  internalQuery: string | undefined\n  where: string | undefined\n  schema: string | undefined\n  table: string | undefined\n  column: string | undefined\n  dataType: string | undefined\n  constraint: string | undefined\n  file: string | undefined\n  line: string | undefined\n  routine: string | undefined\n}\n\nexport class DatabaseError extends Error implements NoticeOrError {\n  public severity: string | undefined\n  public code: string | undefined\n  public detail: string | undefined\n  public hint: string | undefined\n  public position: string | undefined\n  public internalPosition: string | undefined\n  public internalQuery: string | undefined\n  public where: string | undefined\n  public schema: string | undefined\n  public table: string | undefined\n  public column: string | undefined\n  public dataType: string | undefined\n  public constraint: string | undefined\n  public file: string | undefined\n  public line: string | undefined\n  public routine: string | undefined\n  constructor(\n    message: string,\n    public readonly length: number,\n    public readonly name: MessageName\n  ) {\n    super(message)\n  }\n}\n\nexport class CopyDataMessage {\n  public readonly name = 'copyData'\n  constructor(\n    public readonly length: number,\n    public readonly chunk: Buffer\n  ) {}\n}\n\nexport class CopyResponse {\n  public readonly columnTypes: number[]\n  constructor(\n    public readonly length: number,\n    public readonly name: MessageName,\n    public readonly binary: boolean,\n    columnCount: number\n  ) {\n    this.columnTypes = new Array(columnCount)\n  }\n}\n\nexport class Field {\n  constructor(\n    public readonly name: string,\n    public readonly tableID: number,\n    public readonly columnID: number,\n    public readonly dataTypeID: number,\n    public readonly dataTypeSize: number,\n    public readonly dataTypeModifier: number,\n    public readonly format: Mode\n  ) {}\n}\n\nexport class RowDescriptionMessage {\n  public readonly name: MessageName = 'rowDescription'\n  public readonly fields: Field[]\n  constructor(\n    public readonly length: number,\n    public readonly fieldCount: number\n  ) {\n    this.fields = new Array(this.fieldCount)\n  }\n}\n\nexport class ParameterDescriptionMessage {\n  public readonly name: MessageName = 'parameterDescription'\n  public readonly dataTypeIDs: number[]\n  constructor(\n    public readonly length: number,\n    public readonly parameterCount: number\n  ) {\n    this.dataTypeIDs = new Array(this.parameterCount)\n  }\n}\n\nexport class ParameterStatusMessage {\n  public readonly name: MessageName = 'parameterStatus'\n  constructor(\n    public readonly length: number,\n    public readonly parameterName: string,\n    public readonly parameterValue: string\n  ) {}\n}\n\nexport class AuthenticationMD5Password implements BackendMessage {\n  public readonly name: MessageName = 'authenticationMD5Password'\n  constructor(\n    public readonly length: number,\n    public readonly salt: Buffer\n  ) {}\n}\n\nexport class BackendKeyDataMessage {\n  public readonly name: MessageName = 'backendKeyData'\n  constructor(\n    public readonly length: number,\n    public readonly processID: number,\n    public readonly secretKey: number\n  ) {}\n}\n\nexport class NotificationResponseMessage {\n  public readonly name: MessageName = 'notification'\n  constructor(\n    public readonly length: number,\n    public readonly processId: number,\n    public readonly channel: string,\n    public readonly payload: string\n  ) {}\n}\n\nexport class ReadyForQueryMessage {\n  public readonly name: MessageName = 'readyForQuery'\n  constructor(\n    public readonly length: number,\n    public readonly status: string\n  ) {}\n}\n\nexport class CommandCompleteMessage {\n  public readonly name: MessageName = 'commandComplete'\n  constructor(\n    public readonly length: number,\n    public readonly text: string\n  ) {}\n}\n\nexport class DataRowMessage {\n  public readonly fieldCount: number\n  public readonly name: MessageName = 'dataRow'\n  constructor(\n    public length: number,\n    public fields: any[]\n  ) {\n    this.fieldCount = fields.length\n  }\n}\n\nexport class NoticeMessage implements BackendMessage, NoticeOrError {\n  constructor(\n    public readonly length: number,\n    public readonly message: string | undefined\n  ) {}\n  public readonly name = 'notice'\n  public severity: string | undefined\n  public code: string | undefined\n  public detail: string | undefined\n  public hint: string | undefined\n  public position: string | undefined\n  public internalPosition: string | undefined\n  public internalQuery: string | undefined\n  public where: string | undefined\n  public schema: string | undefined\n  public table: string | undefined\n  public column: string | undefined\n  public dataType: string | undefined\n  public constraint: string | undefined\n  public file: string | undefined\n  public line: string | undefined\n  public routine: string | undefined\n}\n","//binary data writer tuned for encoding binary specific to the postgres binary protocol\n\nexport class Writer {\n  private buffer: Buffer\n  private offset: number = 5\n  private headerPosition: number = 0\n  constructor(private size = 256) {\n    this.buffer = Buffer.allocUnsafe(size)\n  }\n\n  private ensure(size: number): void {\n    const remaining = this.buffer.length - this.offset\n    if (remaining < size) {\n      const oldBuffer = this.buffer\n      // exponential growth factor of around ~ 1.5\n      // https://stackoverflow.com/questions/2269063/buffer-growth-strategy\n      const newSize = oldBuffer.length + (oldBuffer.length >> 1) + size\n      this.buffer = Buffer.allocUnsafe(newSize)\n      oldBuffer.copy(this.buffer)\n    }\n  }\n\n  public addInt32(num: number): Writer {\n    this.ensure(4)\n    this.buffer[this.offset++] = (num >>> 24) & 0xff\n    this.buffer[this.offset++] = (num >>> 16) & 0xff\n    this.buffer[this.offset++] = (num >>> 8) & 0xff\n    this.buffer[this.offset++] = (num >>> 0) & 0xff\n    return this\n  }\n\n  public addInt16(num: number): Writer {\n    this.ensure(2)\n    this.buffer[this.offset++] = (num >>> 8) & 0xff\n    this.buffer[this.offset++] = (num >>> 0) & 0xff\n    return this\n  }\n\n  public addCString(string: string): Writer {\n    if (!string) {\n      this.ensure(1)\n    } else {\n      const len = Buffer.byteLength(string)\n      this.ensure(len + 1) // +1 for null terminator\n      this.buffer.write(string, this.offset, 'utf-8')\n      this.offset += len\n    }\n\n    this.buffer[this.offset++] = 0 // null terminator\n    return this\n  }\n\n  public addString(string: string = ''): Writer {\n    const len = Buffer.byteLength(string)\n    this.ensure(len)\n    this.buffer.write(string, this.offset)\n    this.offset += len\n    return this\n  }\n\n  public add(otherBuffer: Buffer): Writer {\n    this.ensure(otherBuffer.length)\n    otherBuffer.copy(this.buffer, this.offset)\n    this.offset += otherBuffer.length\n    return this\n  }\n\n  private join(code?: number): Buffer {\n    if (code) {\n      this.buffer[this.headerPosition] = code\n      //length is everything in this packet minus the code\n      const length = this.offset - (this.headerPosition + 1)\n      this.buffer.writeInt32BE(length, this.headerPosition + 1)\n    }\n    return this.buffer.slice(code ? 0 : 5, this.offset)\n  }\n\n  public flush(code?: number): Buffer {\n    const result = this.join(code)\n    this.offset = 5\n    this.headerPosition = 0\n    this.buffer = Buffer.allocUnsafe(this.size)\n    return result\n  }\n}\n","import { Writer } from './buffer-writer'\n\nconst enum code {\n  startup = 0x70,\n  query = 0x51,\n  parse = 0x50,\n  bind = 0x42,\n  execute = 0x45,\n  flush = 0x48,\n  sync = 0x53,\n  end = 0x58,\n  close = 0x43,\n  describe = 0x44,\n  copyFromChunk = 0x64,\n  copyDone = 0x63,\n  copyFail = 0x66,\n}\n\nconst writer = new Writer()\n\nconst startup = (opts: Record<string, string>): Buffer => {\n  // protocol version\n  writer.addInt16(3).addInt16(0)\n  for (const key of Object.keys(opts)) {\n    writer.addCString(key).addCString(opts[key])\n  }\n\n  writer.addCString('client_encoding').addCString('UTF8')\n\n  const bodyBuffer = writer.addCString('').flush()\n  // this message is sent without a code\n\n  const length = bodyBuffer.length + 4\n\n  return new Writer().addInt32(length).add(bodyBuffer).flush()\n}\n\nconst requestSsl = (): Buffer => {\n  const response = Buffer.allocUnsafe(8)\n  response.writeInt32BE(8, 0)\n  response.writeInt32BE(80877103, 4)\n  return response\n}\n\nconst password = (password: string): Buffer => {\n  return writer.addCString(password).flush(code.startup)\n}\n\nconst sendSASLInitialResponseMessage = function (mechanism: string, initialResponse: string): Buffer {\n  // 0x70 = 'p'\n  writer.addCString(mechanism).addInt32(Buffer.byteLength(initialResponse)).addString(initialResponse)\n\n  return writer.flush(code.startup)\n}\n\nconst sendSCRAMClientFinalMessage = function (additionalData: string): Buffer {\n  return writer.addString(additionalData).flush(code.startup)\n}\n\nconst query = (text: string): Buffer => {\n  return writer.addCString(text).flush(code.query)\n}\n\ntype ParseOpts = {\n  name?: string\n  types?: number[]\n  text: string\n}\n\nconst emptyArray: any[] = []\n\nconst parse = (query: ParseOpts): Buffer => {\n  // expect something like this:\n  // { name: 'queryName',\n  //   text: 'select * from blah',\n  //   types: ['int8', 'bool'] }\n\n  // normalize missing query names to allow for null\n  const name = query.name || ''\n  if (name.length > 63) {\n    console.error('Warning! Postgres only supports 63 characters for query names.')\n    console.error('You supplied %s (%s)', name, name.length)\n    console.error('This can cause conflicts and silent errors executing queries')\n  }\n\n  const types = query.types || emptyArray\n\n  const len = types.length\n\n  const buffer = writer\n    .addCString(name) // name of query\n    .addCString(query.text) // actual query text\n    .addInt16(len)\n\n  for (let i = 0; i < len; i++) {\n    buffer.addInt32(types[i])\n  }\n\n  return writer.flush(code.parse)\n}\n\ntype ValueMapper = (param: any, index: number) => any\n\ntype BindOpts = {\n  portal?: string\n  binary?: boolean\n  statement?: string\n  values?: any[]\n  // optional map from JS value to postgres value per parameter\n  valueMapper?: ValueMapper\n}\n\nconst paramWriter = new Writer()\n\n// make this a const enum so typescript will inline the value\nconst enum ParamType {\n  STRING = 0,\n  BINARY = 1,\n}\n\nconst writeValues = function (values: any[], valueMapper?: ValueMapper): void {\n  for (let i = 0; i < values.length; i++) {\n    const mappedVal = valueMapper ? valueMapper(values[i], i) : values[i]\n    if (mappedVal == null) {\n      // add the param type (string) to the writer\n      writer.addInt16(ParamType.STRING)\n      // write -1 to the param writer to indicate null\n      paramWriter.addInt32(-1)\n    } else if (mappedVal instanceof Buffer) {\n      // add the param type (binary) to the writer\n      writer.addInt16(ParamType.BINARY)\n      // add the buffer to the param writer\n      paramWriter.addInt32(mappedVal.length)\n      paramWriter.add(mappedVal)\n    } else {\n      // add the param type (string) to the writer\n      writer.addInt16(ParamType.STRING)\n      paramWriter.addInt32(Buffer.byteLength(mappedVal))\n      paramWriter.addString(mappedVal)\n    }\n  }\n}\n\nconst bind = (config: BindOpts = {}): Buffer => {\n  // normalize config\n  const portal = config.portal || ''\n  const statement = config.statement || ''\n  const binary = config.binary || false\n  const values = config.values || emptyArray\n  const len = values.length\n\n  writer.addCString(portal).addCString(statement)\n  writer.addInt16(len)\n\n  writeValues(values, config.valueMapper)\n\n  writer.addInt16(len)\n  writer.add(paramWriter.flush())\n\n  // all results use the same format code\n  writer.addInt16(1)\n  // format code\n  writer.addInt16(binary ? ParamType.BINARY : ParamType.STRING)\n  return writer.flush(code.bind)\n}\n\ntype ExecOpts = {\n  portal?: string\n  rows?: number\n}\n\nconst emptyExecute = Buffer.from([code.execute, 0x00, 0x00, 0x00, 0x09, 0x00, 0x00, 0x00, 0x00, 0x00])\n\nconst execute = (config?: ExecOpts): Buffer => {\n  // this is the happy path for most queries\n  if (!config || (!config.portal && !config.rows)) {\n    return emptyExecute\n  }\n\n  const portal = config.portal || ''\n  const rows = config.rows || 0\n\n  const portalLength = Buffer.byteLength(portal)\n  const len = 4 + portalLength + 1 + 4\n  // one extra bit for code\n  const buff = Buffer.allocUnsafe(1 + len)\n  buff[0] = code.execute\n  buff.writeInt32BE(len, 1)\n  buff.write(portal, 5, 'utf-8')\n  buff[portalLength + 5] = 0 // null terminate portal cString\n  buff.writeUInt32BE(rows, buff.length - 4)\n  return buff\n}\n\nconst cancel = (processID: number, secretKey: number): Buffer => {\n  const buffer = Buffer.allocUnsafe(16)\n  buffer.writeInt32BE(16, 0)\n  buffer.writeInt16BE(1234, 4)\n  buffer.writeInt16BE(5678, 6)\n  buffer.writeInt32BE(processID, 8)\n  buffer.writeInt32BE(secretKey, 12)\n  return buffer\n}\n\ntype PortalOpts = {\n  type: 'S' | 'P'\n  name?: string\n}\n\nconst cstringMessage = (code: code, string: string): Buffer => {\n  const stringLen = Buffer.byteLength(string)\n  const len = 4 + stringLen + 1\n  // one extra bit for code\n  const buffer = Buffer.allocUnsafe(1 + len)\n  buffer[0] = code\n  buffer.writeInt32BE(len, 1)\n  buffer.write(string, 5, 'utf-8')\n  buffer[len] = 0 // null terminate cString\n  return buffer\n}\n\nconst emptyDescribePortal = writer.addCString('P').flush(code.describe)\nconst emptyDescribeStatement = writer.addCString('S').flush(code.describe)\n\nconst describe = (msg: PortalOpts): Buffer => {\n  return msg.name\n    ? cstringMessage(code.describe, `${msg.type}${msg.name || ''}`)\n    : msg.type === 'P'\n    ? emptyDescribePortal\n    : emptyDescribeStatement\n}\n\nconst close = (msg: PortalOpts): Buffer => {\n  const text = `${msg.type}${msg.name || ''}`\n  return cstringMessage(code.close, text)\n}\n\nconst copyData = (chunk: Buffer): Buffer => {\n  return writer.add(chunk).flush(code.copyFromChunk)\n}\n\nconst copyFail = (message: string): Buffer => {\n  return cstringMessage(code.copyFail, message)\n}\n\nconst codeOnlyBuffer = (code: code): Buffer => Buffer.from([code, 0x00, 0x00, 0x00, 0x04])\n\nconst flushBuffer = codeOnlyBuffer(code.flush)\nconst syncBuffer = codeOnlyBuffer(code.sync)\nconst endBuffer = codeOnlyBuffer(code.end)\nconst copyDoneBuffer = codeOnlyBuffer(code.copyDone)\n\nconst serialize = {\n  startup,\n  password,\n  requestSsl,\n  sendSASLInitialResponseMessage,\n  sendSCRAMClientFinalMessage,\n  query,\n  parse,\n  bind,\n  execute,\n  describe,\n  close,\n  flush: () => flushBuffer,\n  sync: () => syncBuffer,\n  end: () => endBuffer,\n  copyData,\n  copyDone: () => copyDoneBuffer,\n  copyFail,\n  cancel,\n}\n\nexport { serialize }\n","const emptyBuffer = Buffer.allocUnsafe(0)\n\nexport class BufferReader {\n  private buffer: Buffer = emptyBuffer\n\n  // TODO(bmc): support non-utf8 encoding?\n  private encoding: string = 'utf-8'\n\n  constructor(private offset: number = 0) {}\n\n  public setBuffer(offset: number, buffer: Buffer): void {\n    this.offset = offset\n    this.buffer = buffer\n  }\n\n  public int16(): number {\n    const result = this.buffer.readInt16BE(this.offset)\n    this.offset += 2\n    return result\n  }\n\n  public byte(): number {\n    const result = this.buffer[this.offset]\n    this.offset++\n    return result\n  }\n\n  public int32(): number {\n    const result = this.buffer.readInt32BE(this.offset)\n    this.offset += 4\n    return result\n  }\n\n  public uint32(): number {\n    const result = this.buffer.readUInt32BE(this.offset)\n    this.offset += 4\n    return result\n  }\n\n  public string(length: number): string {\n    const result = this.buffer.toString(this.encoding, this.offset, this.offset + length)\n    this.offset += length\n    return result\n  }\n\n  public cstring(): string {\n    const start = this.offset\n    let end = start\n    // eslint-disable-next-line no-empty\n    while (this.buffer[end++] !== 0) {}\n    this.offset = end\n    return this.buffer.toString(this.encoding, start, end - 1)\n  }\n\n  public bytes(length: number): Buffer {\n    const result = this.buffer.slice(this.offset, this.offset + length)\n    this.offset += length\n    return result\n  }\n}\n","import { TransformOptions } from 'stream'\nimport {\n  Mode,\n  bindComplete,\n  parseComplete,\n  closeComplete,\n  noData,\n  portalSuspended,\n  copyDone,\n  replicationStart,\n  emptyQuery,\n  ReadyForQueryMessage,\n  CommandCompleteMessage,\n  CopyDataMessage,\n  CopyResponse,\n  NotificationResponseMessage,\n  RowDescriptionMessage,\n  ParameterDescriptionMessage,\n  Field,\n  DataRowMessage,\n  ParameterStatusMessage,\n  BackendKeyDataMessage,\n  DatabaseError,\n  BackendMessage,\n  MessageName,\n  AuthenticationMD5Password,\n  NoticeMessage,\n} from './messages'\nimport { BufferReader } from './buffer-reader'\n\n// every message is prefixed with a single bye\nconst CODE_LENGTH = 1\n// every message has an int32 length which includes itself but does\n// NOT include the code in the length\nconst LEN_LENGTH = 4\n\nconst HEADER_LENGTH = CODE_LENGTH + LEN_LENGTH\n\n// A placeholder for a `BackendMessage`s length value that will be set after construction.\nconst LATEINIT_LENGTH = -1\n\nexport type Packet = {\n  code: number\n  packet: Buffer\n}\n\nconst emptyBuffer = Buffer.allocUnsafe(0)\n\ntype StreamOptions = TransformOptions & {\n  mode: Mode\n}\n\nconst enum MessageCodes {\n  DataRow = 0x44, // D\n  ParseComplete = 0x31, // 1\n  BindComplete = 0x32, // 2\n  CloseComplete = 0x33, // 3\n  CommandComplete = 0x43, // C\n  ReadyForQuery = 0x5a, // Z\n  NoData = 0x6e, // n\n  NotificationResponse = 0x41, // A\n  AuthenticationResponse = 0x52, // R\n  ParameterStatus = 0x53, // S\n  BackendKeyData = 0x4b, // K\n  ErrorMessage = 0x45, // E\n  NoticeMessage = 0x4e, // N\n  RowDescriptionMessage = 0x54, // T\n  ParameterDescriptionMessage = 0x74, // t\n  PortalSuspended = 0x73, // s\n  ReplicationStart = 0x57, // W\n  EmptyQuery = 0x49, // I\n  CopyIn = 0x47, // G\n  CopyOut = 0x48, // H\n  CopyDone = 0x63, // c\n  CopyData = 0x64, // d\n}\n\nexport type MessageCallback = (msg: BackendMessage) => void\n\nexport class Parser {\n  private buffer: Buffer = emptyBuffer\n  private bufferLength: number = 0\n  private bufferOffset: number = 0\n  private reader = new BufferReader()\n  private mode: Mode\n\n  constructor(opts?: StreamOptions) {\n    if (opts?.mode === 'binary') {\n      throw new Error('Binary mode not supported yet')\n    }\n    this.mode = opts?.mode || 'text'\n  }\n\n  public parse(buffer: Buffer, callback: MessageCallback) {\n    this.mergeBuffer(buffer)\n    const bufferFullLength = this.bufferOffset + this.bufferLength\n    let offset = this.bufferOffset\n    while (offset + HEADER_LENGTH <= bufferFullLength) {\n      // code is 1 byte long - it identifies the message type\n      const code = this.buffer[offset]\n      // length is 1 Uint32BE - it is the length of the message EXCLUDING the code\n      const length = this.buffer.readUInt32BE(offset + CODE_LENGTH)\n      const fullMessageLength = CODE_LENGTH + length\n      if (fullMessageLength + offset <= bufferFullLength) {\n        const message = this.handlePacket(offset + HEADER_LENGTH, code, length, this.buffer)\n        callback(message)\n        offset += fullMessageLength\n      } else {\n        break\n      }\n    }\n    if (offset === bufferFullLength) {\n      // No more use for the buffer\n      this.buffer = emptyBuffer\n      this.bufferLength = 0\n      this.bufferOffset = 0\n    } else {\n      // Adjust the cursors of remainingBuffer\n      this.bufferLength = bufferFullLength - offset\n      this.bufferOffset = offset\n    }\n  }\n\n  private mergeBuffer(buffer: Buffer): void {\n    if (this.bufferLength > 0) {\n      const newLength = this.bufferLength + buffer.byteLength\n      const newFullLength = newLength + this.bufferOffset\n      if (newFullLength > this.buffer.byteLength) {\n        // We can't concat the new buffer with the remaining one\n        let newBuffer: Buffer\n        if (newLength <= this.buffer.byteLength && this.bufferOffset >= this.bufferLength) {\n          // We can move the relevant part to the beginning of the buffer instead of allocating a new buffer\n          newBuffer = this.buffer\n        } else {\n          // Allocate a new larger buffer\n          let newBufferLength = this.buffer.byteLength * 2\n          while (newLength >= newBufferLength) {\n            newBufferLength *= 2\n          }\n          newBuffer = Buffer.allocUnsafe(newBufferLength)\n        }\n        // Move the remaining buffer to the new one\n        this.buffer.copy(newBuffer, 0, this.bufferOffset, this.bufferOffset + this.bufferLength)\n        this.buffer = newBuffer\n        this.bufferOffset = 0\n      }\n      // Concat the new buffer with the remaining one\n      buffer.copy(this.buffer, this.bufferOffset + this.bufferLength)\n      this.bufferLength = newLength\n    } else {\n      this.buffer = buffer\n      this.bufferOffset = 0\n      this.bufferLength = buffer.byteLength\n    }\n  }\n\n  private handlePacket(offset: number, code: number, length: number, bytes: Buffer): BackendMessage {\n    const { reader } = this\n\n    // NOTE: This undesirably retains the buffer in `this.reader` if the `parse*Message` calls below throw. However, those should only throw in the case of a protocol error, which normally results in the reader being discarded.\n    reader.setBuffer(offset, bytes)\n\n    let message: BackendMessage\n\n    switch (code) {\n      case MessageCodes.BindComplete:\n        message = bindComplete\n        break\n      case MessageCodes.ParseComplete:\n        message = parseComplete\n        break\n      case MessageCodes.CloseComplete:\n        message = closeComplete\n        break\n      case MessageCodes.NoData:\n        message = noData\n        break\n      case MessageCodes.PortalSuspended:\n        message = portalSuspended\n        break\n      case MessageCodes.CopyDone:\n        message = copyDone\n        break\n      case MessageCodes.ReplicationStart:\n        message = replicationStart\n        break\n      case MessageCodes.EmptyQuery:\n        message = emptyQuery\n        break\n      case MessageCodes.DataRow:\n        message = parseDataRowMessage(reader)\n        break\n      case MessageCodes.CommandComplete:\n        message = parseCommandCompleteMessage(reader)\n        break\n      case MessageCodes.ReadyForQuery:\n        message = parseReadyForQueryMessage(reader)\n        break\n      case MessageCodes.NotificationResponse:\n        message = parseNotificationMessage(reader)\n        break\n      case MessageCodes.AuthenticationResponse:\n        message = parseAuthenticationResponse(reader, length)\n        break\n      case MessageCodes.ParameterStatus:\n        message = parseParameterStatusMessage(reader)\n        break\n      case MessageCodes.BackendKeyData:\n        message = parseBackendKeyData(reader)\n        break\n      case MessageCodes.ErrorMessage:\n        message = parseErrorMessage(reader, 'error')\n        break\n      case MessageCodes.NoticeMessage:\n        message = parseErrorMessage(reader, 'notice')\n        break\n      case MessageCodes.RowDescriptionMessage:\n        message = parseRowDescriptionMessage(reader)\n        break\n      case MessageCodes.ParameterDescriptionMessage:\n        message = parseParameterDescriptionMessage(reader)\n        break\n      case MessageCodes.CopyIn:\n        message = parseCopyInMessage(reader)\n        break\n      case MessageCodes.CopyOut:\n        message = parseCopyOutMessage(reader)\n        break\n      case MessageCodes.CopyData:\n        message = parseCopyData(reader, length)\n        break\n      default:\n        return new DatabaseError('received invalid response: ' + code.toString(16), length, 'error')\n    }\n\n    reader.setBuffer(0, emptyBuffer)\n\n    message.length = length\n    return message\n  }\n}\n\nconst parseReadyForQueryMessage = (reader: BufferReader) => {\n  const status = reader.string(1)\n  return new ReadyForQueryMessage(LATEINIT_LENGTH, status)\n}\n\nconst parseCommandCompleteMessage = (reader: BufferReader) => {\n  const text = reader.cstring()\n  return new CommandCompleteMessage(LATEINIT_LENGTH, text)\n}\n\nconst parseCopyData = (reader: BufferReader, length: number) => {\n  const chunk = reader.bytes(length - 4)\n  return new CopyDataMessage(LATEINIT_LENGTH, chunk)\n}\n\nconst parseCopyInMessage = (reader: BufferReader) => parseCopyMessage(reader, 'copyInResponse')\n\nconst parseCopyOutMessage = (reader: BufferReader) => parseCopyMessage(reader, 'copyOutResponse')\n\nconst parseCopyMessage = (reader: BufferReader, messageName: MessageName) => {\n  const isBinary = reader.byte() !== 0\n  const columnCount = reader.int16()\n  const message = new CopyResponse(LATEINIT_LENGTH, messageName, isBinary, columnCount)\n  for (let i = 0; i < columnCount; i++) {\n    message.columnTypes[i] = reader.int16()\n  }\n  return message\n}\n\nconst parseNotificationMessage = (reader: BufferReader) => {\n  const processId = reader.int32()\n  const channel = reader.cstring()\n  const payload = reader.cstring()\n  return new NotificationResponseMessage(LATEINIT_LENGTH, processId, channel, payload)\n}\n\nconst parseRowDescriptionMessage = (reader: BufferReader) => {\n  const fieldCount = reader.int16()\n  const message = new RowDescriptionMessage(LATEINIT_LENGTH, fieldCount)\n  for (let i = 0; i < fieldCount; i++) {\n    message.fields[i] = parseField(reader)\n  }\n  return message\n}\n\nconst parseField = (reader: BufferReader) => {\n  const name = reader.cstring()\n  const tableID = reader.uint32()\n  const columnID = reader.int16()\n  const dataTypeID = reader.uint32()\n  const dataTypeSize = reader.int16()\n  const dataTypeModifier = reader.int32()\n  const mode = reader.int16() === 0 ? 'text' : 'binary'\n  return new Field(name, tableID, columnID, dataTypeID, dataTypeSize, dataTypeModifier, mode)\n}\n\nconst parseParameterDescriptionMessage = (reader: BufferReader) => {\n  const parameterCount = reader.int16()\n  const message = new ParameterDescriptionMessage(LATEINIT_LENGTH, parameterCount)\n  for (let i = 0; i < parameterCount; i++) {\n    message.dataTypeIDs[i] = reader.int32()\n  }\n  return message\n}\n\nconst parseDataRowMessage = (reader: BufferReader) => {\n  const fieldCount = reader.int16()\n  const fields: any[] = new Array(fieldCount)\n  for (let i = 0; i < fieldCount; i++) {\n    const len = reader.int32()\n    // a -1 for length means the value of the field is null\n    fields[i] = len === -1 ? null : reader.string(len)\n  }\n  return new DataRowMessage(LATEINIT_LENGTH, fields)\n}\n\nconst parseParameterStatusMessage = (reader: BufferReader) => {\n  const name = reader.cstring()\n  const value = reader.cstring()\n  return new ParameterStatusMessage(LATEINIT_LENGTH, name, value)\n}\n\nconst parseBackendKeyData = (reader: BufferReader) => {\n  const processID = reader.int32()\n  const secretKey = reader.int32()\n  return new BackendKeyDataMessage(LATEINIT_LENGTH, processID, secretKey)\n}\n\nconst parseAuthenticationResponse = (reader: BufferReader, length: number) => {\n  const code = reader.int32()\n  // TODO(bmc): maybe better types here\n  const message: BackendMessage & any = {\n    name: 'authenticationOk',\n    length,\n  }\n\n  switch (code) {\n    case 0: // AuthenticationOk\n      break\n    case 3: // AuthenticationCleartextPassword\n      if (message.length === 8) {\n        message.name = 'authenticationCleartextPassword'\n      }\n      break\n    case 5: // AuthenticationMD5Password\n      if (message.length === 12) {\n        message.name = 'authenticationMD5Password'\n        const salt = reader.bytes(4)\n        return new AuthenticationMD5Password(LATEINIT_LENGTH, salt)\n      }\n      break\n    case 10: // AuthenticationSASL\n      {\n        message.name = 'authenticationSASL'\n        message.mechanisms = []\n        let mechanism: string\n        do {\n          mechanism = reader.cstring()\n          if (mechanism) {\n            message.mechanisms.push(mechanism)\n          }\n        } while (mechanism)\n      }\n      break\n    case 11: // AuthenticationSASLContinue\n      message.name = 'authenticationSASLContinue'\n      message.data = reader.string(length - 8)\n      break\n    case 12: // AuthenticationSASLFinal\n      message.name = 'authenticationSASLFinal'\n      message.data = reader.string(length - 8)\n      break\n    default:\n      throw new Error('Unknown authenticationOk message type ' + code)\n  }\n  return message\n}\n\nconst parseErrorMessage = (reader: BufferReader, name: MessageName) => {\n  const fields: Record<string, string> = {}\n  let fieldType = reader.string(1)\n  while (fieldType !== '\\0') {\n    fields[fieldType] = reader.cstring()\n    fieldType = reader.string(1)\n  }\n\n  const messageValue = fields.M\n\n  const message =\n    name === 'notice'\n      ? new NoticeMessage(LATEINIT_LENGTH, messageValue)\n      : new DatabaseError(messageValue, LATEINIT_LENGTH, name)\n\n  message.severity = fields.S\n  message.code = fields.C\n  message.detail = fields.D\n  message.hint = fields.H\n  message.position = fields.P\n  message.internalPosition = fields.p\n  message.internalQuery = fields.q\n  message.where = fields.W\n  message.schema = fields.s\n  message.table = fields.t\n  message.column = fields.c\n  message.dataType = fields.d\n  message.constraint = fields.n\n  message.file = fields.F\n  message.line = fields.L\n  message.routine = fields.R\n  return message\n}\n","import { DatabaseError } from './messages'\nimport { serialize } from './serializer'\nimport { Parser, MessageCallback } from './parser'\n\nexport function parse(stream: NodeJS.ReadableStream, callback: MessageCallback): Promise<void> {\n  const parser = new Parser()\n  stream.on('data', (buffer: Buffer) => parser.parse(buffer, callback))\n  return new Promise((resolve) => stream.on('end', () => resolve()))\n}\n\nexport { serialize, DatabaseError }\n","// This is an empty module that is served up when outside of a workerd environment\n// See the `exports` field in package.json\nexport default {}\n","const { getStream, getSecureStream } = getStreamFuncs()\n\nmodule.exports = {\n  /**\n   * Get a socket stream compatible with the current runtime environment.\n   * @returns {Duplex}\n   */\n  getStream,\n  /**\n   * Get a TLS secured socket, compatible with the current environment,\n   * using the socket and other settings given in `options`.\n   * @returns {Duplex}\n   */\n  getSecureStream,\n}\n\n/**\n * The stream functions that work in Node.js\n */\nfunction getNodejsStreamFuncs() {\n  function getStream(ssl) {\n    const net = require('net')\n    return new net.Socket()\n  }\n\n  function getSecureStream(options) {\n    const tls = require('tls')\n    return tls.connect(options)\n  }\n  return {\n    getStream,\n    getSecureStream,\n  }\n}\n\n/**\n * The stream functions that work in Cloudflare Workers\n */\nfunction getCloudflareStreamFuncs() {\n  function getStream(ssl) {\n    const { CloudflareSocket } = require('pg-cloudflare')\n    return new CloudflareSocket(ssl)\n  }\n\n  function getSecureStream(options) {\n    options.socket.startTls(options)\n    return options.socket\n  }\n  return {\n    getStream,\n    getSecureStream,\n  }\n}\n\n/**\n * Are we running in a Cloudflare Worker?\n *\n * @returns true if the code is currently running inside a Cloudflare Worker.\n */\nfunction isCloudflareRuntime() {\n  // Since 2022-03-21 the `global_navigator` compatibility flag is on for Cloudflare Workers\n  // which means that `navigator.userAgent` will be defined.\n  // eslint-disable-next-line no-undef\n  if (typeof navigator === 'object' && navigator !== null && typeof navigator.userAgent === 'string') {\n    // eslint-disable-next-line no-undef\n    return navigator.userAgent === 'Cloudflare-Workers'\n  }\n  // In case `navigator` or `navigator.userAgent` is not defined then try a more sneaky approach\n  if (typeof Response === 'function') {\n    const resp = new Response(null, { cf: { thing: true } })\n    if (typeof resp.cf === 'object' && resp.cf !== null && resp.cf.thing) {\n      return true\n    }\n  }\n  return false\n}\n\nfunction getStreamFuncs() {\n  if (isCloudflareRuntime()) {\n    return getCloudflareStreamFuncs()\n  }\n  return getNodejsStreamFuncs()\n}\n","'use strict'\n\nconst EventEmitter = require('events').EventEmitter\n\nconst { parse, serialize } = require('pg-protocol')\nconst { getStream, getSecureStream } = require('./stream')\n\nconst flushBuffer = serialize.flush()\nconst syncBuffer = serialize.sync()\nconst endBuffer = serialize.end()\n\n// TODO(bmc) support binary mode at some point\nclass Connection extends EventEmitter {\n  constructor(config) {\n    super()\n    config = config || {}\n\n    this.stream = config.stream || getStream(config.ssl)\n    if (typeof this.stream === 'function') {\n      this.stream = this.stream(config)\n    }\n\n    this._keepAlive = config.keepAlive\n    this._keepAliveInitialDelayMillis = config.keepAliveInitialDelayMillis\n    this.parsedStatements = {}\n    this.ssl = config.ssl || false\n    this._ending = false\n    this._emitMessage = false\n    const self = this\n    this.on('newListener', function (eventName) {\n      if (eventName === 'message') {\n        self._emitMessage = true\n      }\n    })\n  }\n\n  connect(port, host) {\n    const self = this\n\n    this._connecting = true\n    this.stream.setNoDelay(true)\n    this.stream.connect(port, host)\n\n    this.stream.once('connect', function () {\n      if (self._keepAlive) {\n        self.stream.setKeepAlive(true, self._keepAliveInitialDelayMillis)\n      }\n      self.emit('connect')\n    })\n\n    const reportStreamError = function (error) {\n      // errors about disconnections should be ignored during disconnect\n      if (self._ending && (error.code === 'ECONNRESET' || error.code === 'EPIPE')) {\n        return\n      }\n      self.emit('error', error)\n    }\n    this.stream.on('error', reportStreamError)\n\n    this.stream.on('close', function () {\n      self.emit('end')\n    })\n\n    if (!this.ssl) {\n      return this.attachListeners(this.stream)\n    }\n\n    this.stream.once('data', function (buffer) {\n      const responseCode = buffer.toString('utf8')\n      switch (responseCode) {\n        case 'S': // Server supports SSL connections, continue with a secure connection\n          break\n        case 'N': // Server does not support SSL connections\n          self.stream.end()\n          return self.emit('error', new Error('The server does not support SSL connections'))\n        default:\n          // Any other response byte, including 'E' (ErrorResponse) indicating a server error\n          self.stream.end()\n          return self.emit('error', new Error('There was an error establishing an SSL connection'))\n      }\n      const options = {\n        socket: self.stream,\n      }\n\n      if (self.ssl !== true) {\n        Object.assign(options, self.ssl)\n\n        if ('key' in self.ssl) {\n          options.key = self.ssl.key\n        }\n      }\n\n      const net = require('net')\n      if (net.isIP && net.isIP(host) === 0) {\n        options.servername = host\n      }\n      try {\n        self.stream = getSecureStream(options)\n      } catch (err) {\n        return self.emit('error', err)\n      }\n      self.attachListeners(self.stream)\n      self.stream.on('error', reportStreamError)\n\n      self.emit('sslconnect')\n    })\n  }\n\n  attachListeners(stream) {\n    parse(stream, (msg) => {\n      const eventName = msg.name === 'error' ? 'errorMessage' : msg.name\n      if (this._emitMessage) {\n        this.emit('message', msg)\n      }\n      this.emit(eventName, msg)\n    })\n  }\n\n  requestSsl() {\n    this.stream.write(serialize.requestSsl())\n  }\n\n  startup(config) {\n    this.stream.write(serialize.startup(config))\n  }\n\n  cancel(processID, secretKey) {\n    this._send(serialize.cancel(processID, secretKey))\n  }\n\n  password(password) {\n    this._send(serialize.password(password))\n  }\n\n  sendSASLInitialResponseMessage(mechanism, initialResponse) {\n    this._send(serialize.sendSASLInitialResponseMessage(mechanism, initialResponse))\n  }\n\n  sendSCRAMClientFinalMessage(additionalData) {\n    this._send(serialize.sendSCRAMClientFinalMessage(additionalData))\n  }\n\n  _send(buffer) {\n    if (!this.stream.writable) {\n      return false\n    }\n    return this.stream.write(buffer)\n  }\n\n  query(text) {\n    this._send(serialize.query(text))\n  }\n\n  // send parse message\n  parse(query) {\n    this._send(serialize.parse(query))\n  }\n\n  // send bind message\n  bind(config) {\n    this._send(serialize.bind(config))\n  }\n\n  // send execute message\n  execute(config) {\n    this._send(serialize.execute(config))\n  }\n\n  flush() {\n    if (this.stream.writable) {\n      this.stream.write(flushBuffer)\n    }\n  }\n\n  sync() {\n    this._ending = true\n    this._send(syncBuffer)\n  }\n\n  ref() {\n    this.stream.ref()\n  }\n\n  unref() {\n    this.stream.unref()\n  }\n\n  end() {\n    // 0x58 = 'X'\n    this._ending = true\n    if (!this._connecting || !this.stream.writable) {\n      this.stream.end()\n      return\n    }\n    return this.stream.write(endBuffer, () => {\n      this.stream.end()\n    })\n  }\n\n  close(msg) {\n    this._send(serialize.close(msg))\n  }\n\n  describe(msg) {\n    this._send(serialize.describe(msg))\n  }\n\n  sendCopyFromChunk(chunk) {\n    this._send(serialize.copyData(chunk))\n  }\n\n  endCopyFrom() {\n    this._send(serialize.copyDone())\n  }\n\n  sendCopyFail(msg) {\n    this._send(serialize.copyFail(msg))\n  }\n}\n\nmodule.exports = Connection\n","/*\nCopyright (c) 2014-2021, Matteo Collina <hello@matteocollina.com>\n\nPermission to use, copy, modify, and/or distribute this software for any\npurpose with or without fee is hereby granted, provided that the above\ncopyright notice and this permission notice appear in all copies.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES\nWITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF\nMERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR\nANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES\nWHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN\nACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF OR\nIN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.\n*/\n\n'use strict'\n\nconst { Transform } = require('stream')\nconst { StringDecoder } = require('string_decoder')\nconst kLast = Symbol('last')\nconst kDecoder = Symbol('decoder')\n\nfunction transform (chunk, enc, cb) {\n  let list\n  if (this.overflow) { // Line buffer is full. Skip to start of next line.\n    const buf = this[kDecoder].write(chunk)\n    list = buf.split(this.matcher)\n\n    if (list.length === 1) return cb() // Line ending not found. Discard entire chunk.\n\n    // Line ending found. Discard trailing fragment of previous line and reset overflow state.\n    list.shift()\n    this.overflow = false\n  } else {\n    this[kLast] += this[kDecoder].write(chunk)\n    list = this[kLast].split(this.matcher)\n  }\n\n  this[kLast] = list.pop()\n\n  for (let i = 0; i < list.length; i++) {\n    try {\n      push(this, this.mapper(list[i]))\n    } catch (error) {\n      return cb(error)\n    }\n  }\n\n  this.overflow = this[kLast].length > this.maxLength\n  if (this.overflow && !this.skipOverflow) {\n    cb(new Error('maximum buffer reached'))\n    return\n  }\n\n  cb()\n}\n\nfunction flush (cb) {\n  // forward any gibberish left in there\n  this[kLast] += this[kDecoder].end()\n\n  if (this[kLast]) {\n    try {\n      push(this, this.mapper(this[kLast]))\n    } catch (error) {\n      return cb(error)\n    }\n  }\n\n  cb()\n}\n\nfunction push (self, val) {\n  if (val !== undefined) {\n    self.push(val)\n  }\n}\n\nfunction noop (incoming) {\n  return incoming\n}\n\nfunction split (matcher, mapper, options) {\n  // Set defaults for any arguments not supplied.\n  matcher = matcher || /\\r?\\n/\n  mapper = mapper || noop\n  options = options || {}\n\n  // Test arguments explicitly.\n  switch (arguments.length) {\n    case 1:\n      // If mapper is only argument.\n      if (typeof matcher === 'function') {\n        mapper = matcher\n        matcher = /\\r?\\n/\n      // If options is only argument.\n      } else if (typeof matcher === 'object' && !(matcher instanceof RegExp) && !matcher[Symbol.split]) {\n        options = matcher\n        matcher = /\\r?\\n/\n      }\n      break\n\n    case 2:\n      // If mapper and options are arguments.\n      if (typeof matcher === 'function') {\n        options = mapper\n        mapper = matcher\n        matcher = /\\r?\\n/\n      // If matcher and options are arguments.\n      } else if (typeof mapper === 'object') {\n        options = mapper\n        mapper = noop\n      }\n  }\n\n  options = Object.assign({}, options)\n  options.autoDestroy = true\n  options.transform = transform\n  options.flush = flush\n  options.readableObjectMode = true\n\n  const stream = new Transform(options)\n\n  stream[kLast] = ''\n  stream[kDecoder] = new StringDecoder('utf8')\n  stream.matcher = matcher\n  stream.mapper = mapper\n  stream.maxLength = options.maxLength\n  stream.skipOverflow = options.skipOverflow || false\n  stream.overflow = false\n  stream._destroy = function (err, cb) {\n    // Weird Node v12 bug that we need to work around\n    this._writableState.errorEmitted = false\n    cb(err)\n  }\n\n  return stream\n}\n\nmodule.exports = split\n","'use strict';\n\nvar path = require('path')\n  , Stream = require('stream').Stream\n  , split = require('split2')\n  , util = require('util')\n  , defaultPort = 5432\n  , isWin = (process.platform === 'win32')\n  , warnStream = process.stderr\n;\n\n\nvar S_IRWXG = 56     //    00070(8)\n  , S_IRWXO = 7      //    00007(8)\n  , S_IFMT  = 61440  // 00170000(8)\n  , S_IFREG = 32768  //  0100000(8)\n;\nfunction isRegFile(mode) {\n    return ((mode & S_IFMT) == S_IFREG);\n}\n\nvar fieldNames = [ 'host', 'port', 'database', 'user', 'password' ];\nvar nrOfFields = fieldNames.length;\nvar passKey = fieldNames[ nrOfFields -1 ];\n\n\nfunction warn() {\n    var isWritable = (\n        warnStream instanceof Stream &&\n          true === warnStream.writable\n    );\n\n    if (isWritable) {\n        var args = Array.prototype.slice.call(arguments).concat(\"\\n\");\n        warnStream.write( util.format.apply(util, args) );\n    }\n}\n\n\nObject.defineProperty(module.exports, 'isWin', {\n    get : function() {\n        return isWin;\n    } ,\n    set : function(val) {\n        isWin = val;\n    }\n});\n\n\nmodule.exports.warnTo = function(stream) {\n    var old = warnStream;\n    warnStream = stream;\n    return old;\n};\n\nmodule.exports.getFileName = function(rawEnv){\n    var env = rawEnv || process.env;\n    var file = env.PGPASSFILE || (\n        isWin ?\n          path.join( env.APPDATA || './' , 'postgresql', 'pgpass.conf' ) :\n          path.join( env.HOME || './', '.pgpass' )\n    );\n    return file;\n};\n\nmodule.exports.usePgPass = function(stats, fname) {\n    if (Object.prototype.hasOwnProperty.call(process.env, 'PGPASSWORD')) {\n        return false;\n    }\n\n    if (isWin) {\n        return true;\n    }\n\n    fname = fname || '<unkn>';\n\n    if (! isRegFile(stats.mode)) {\n        warn('WARNING: password file \"%s\" is not a plain file', fname);\n        return false;\n    }\n\n    if (stats.mode & (S_IRWXG | S_IRWXO)) {\n        /* If password file is insecure, alert the user and ignore it. */\n        warn('WARNING: password file \"%s\" has group or world access; permissions should be u=rw (0600) or less', fname);\n        return false;\n    }\n\n    return true;\n};\n\n\nvar matcher = module.exports.match = function(connInfo, entry) {\n    return fieldNames.slice(0, -1).reduce(function(prev, field, idx){\n        if (idx == 1) {\n            // the port\n            if ( Number( connInfo[field] || defaultPort ) === Number( entry[field] ) ) {\n                return prev && true;\n            }\n        }\n        return prev && (\n            entry[field] === '*' ||\n              entry[field] === connInfo[field]\n        );\n    }, true);\n};\n\n\nmodule.exports.getPassword = function(connInfo, stream, cb) {\n    var pass;\n    var lineStream = stream.pipe(split());\n\n    function onLine(line) {\n        var entry = parseLine(line);\n        if (entry && isValidEntry(entry) && matcher(connInfo, entry)) {\n            pass = entry[passKey];\n            lineStream.end(); // -> calls onEnd(), but pass is set now\n        }\n    }\n\n    var onEnd = function() {\n        stream.destroy();\n        cb(pass);\n    };\n\n    var onErr = function(err) {\n        stream.destroy();\n        warn('WARNING: error on reading file: %s', err);\n        cb(undefined);\n    };\n\n    stream.on('error', onErr);\n    lineStream\n        .on('data', onLine)\n        .on('end', onEnd)\n        .on('error', onErr)\n    ;\n\n};\n\n\nvar parseLine = module.exports.parseLine = function(line) {\n    if (line.length < 11 || line.match(/^\\s+#/)) {\n        return null;\n    }\n\n    var curChar = '';\n    var prevChar = '';\n    var fieldIdx = 0;\n    var startIdx = 0;\n    var endIdx = 0;\n    var obj = {};\n    var isLastField = false;\n    var addToObj = function(idx, i0, i1) {\n        var field = line.substring(i0, i1);\n\n        if (! Object.hasOwnProperty.call(process.env, 'PGPASS_NO_DEESCAPE')) {\n            field = field.replace(/\\\\([:\\\\])/g, '$1');\n        }\n\n        obj[ fieldNames[idx] ] = field;\n    };\n\n    for (var i = 0 ; i < line.length-1 ; i += 1) {\n        curChar = line.charAt(i+1);\n        prevChar = line.charAt(i);\n\n        isLastField = (fieldIdx == nrOfFields-1);\n\n        if (isLastField) {\n            addToObj(fieldIdx, startIdx);\n            break;\n        }\n\n        if (i >= 0 && curChar == ':' && prevChar !== '\\\\') {\n            addToObj(fieldIdx, startIdx, i+1);\n\n            startIdx = i+2;\n            fieldIdx += 1;\n        }\n    }\n\n    obj = ( Object.keys(obj).length === nrOfFields ) ? obj : null;\n\n    return obj;\n};\n\n\nvar isValidEntry = module.exports.isValidEntry = function(entry){\n    var rules = {\n        // host\n        0 : function(x){\n            return x.length > 0;\n        } ,\n        // port\n        1 : function(x){\n            if (x === '*') {\n                return true;\n            }\n            x = Number(x);\n            return (\n                isFinite(x) &&\n                  x > 0 &&\n                  x < 9007199254740992 &&\n                  Math.floor(x) === x\n            );\n        } ,\n        // database\n        2 : function(x){\n            return x.length > 0;\n        } ,\n        // username\n        3 : function(x){\n            return x.length > 0;\n        } ,\n        // password\n        4 : function(x){\n            return x.length > 0;\n        }\n    };\n\n    for (var idx = 0 ; idx < fieldNames.length ; idx += 1) {\n        var rule = rules[idx];\n        var value = entry[ fieldNames[idx] ] || '';\n\n        var res = rule(value);\n        if (!res) {\n            return false;\n        }\n    }\n\n    return true;\n};\n\n","'use strict';\n\nvar path = require('path')\n  , fs = require('fs')\n  , helper = require('./helper.js')\n;\n\n\nmodule.exports = function(connInfo, cb) {\n    var file = helper.getFileName();\n    \n    fs.stat(file, function(err, stat){\n        if (err || !helper.usePgPass(stat, file)) {\n            return cb(undefined);\n        }\n\n        var st = fs.createReadStream(file);\n\n        helper.getPassword(connInfo, st, cb);\n    });\n};\n\nmodule.exports.warnTo = helper.warnTo;\n","'use strict'\n\nconst EventEmitter = require('events').EventEmitter\nconst utils = require('./utils')\nconst nodeUtils = require('util')\nconst sasl = require('./crypto/sasl')\nconst TypeOverrides = require('./type-overrides')\n\nconst ConnectionParameters = require('./connection-parameters')\nconst Query = require('./query')\nconst defaults = require('./defaults')\nconst Connection = require('./connection')\nconst crypto = require('./crypto/utils')\n\nconst activeQueryDeprecationNotice = nodeUtils.deprecate(\n  () => {},\n  'Client.activeQuery is deprecated and will be removed in a future version.'\n)\n\nconst queryQueueDeprecationNotice = nodeUtils.deprecate(\n  () => {},\n  'Client.queryQueue is deprecated and will be removed in a future version.'\n)\n\nconst pgPassDeprecationNotice = nodeUtils.deprecate(\n  () => {},\n  'pgpass support is deprecated and will be removed in a future version. ' +\n    'You can provide an async function as the password property to the Client/Pool constructor that returns a password instead. Within this funciton you can call the pgpass module in your own code.'\n)\n\nconst byoPromiseDeprecationNotice = nodeUtils.deprecate(\n  () => {},\n  'Passing a custom Promise implementation to the Client/Pool constructor is deprecated and will be removed in a future version.'\n)\n\nclass Client extends EventEmitter {\n  constructor(config) {\n    super()\n\n    this.connectionParameters = new ConnectionParameters(config)\n    this.user = this.connectionParameters.user\n    this.database = this.connectionParameters.database\n    this.port = this.connectionParameters.port\n    this.host = this.connectionParameters.host\n\n    // \"hiding\" the password so it doesn't show up in stack traces\n    // or if the client is console.logged\n    Object.defineProperty(this, 'password', {\n      configurable: true,\n      enumerable: false,\n      writable: true,\n      value: this.connectionParameters.password,\n    })\n\n    this.replication = this.connectionParameters.replication\n\n    const c = config || {}\n\n    if (c.Promise) {\n      byoPromiseDeprecationNotice()\n    }\n    this._Promise = c.Promise || global.Promise\n    this._types = new TypeOverrides(c.types)\n    this._ending = false\n    this._ended = false\n    this._connecting = false\n    this._connected = false\n    this._connectionError = false\n    this._queryable = true\n    this._activeQuery = null\n\n    this.enableChannelBinding = Boolean(c.enableChannelBinding) // set true to use SCRAM-SHA-256-PLUS when offered\n    this.connection =\n      c.connection ||\n      new Connection({\n        stream: c.stream,\n        ssl: this.connectionParameters.ssl,\n        keepAlive: c.keepAlive || false,\n        keepAliveInitialDelayMillis: c.keepAliveInitialDelayMillis || 0,\n        encoding: this.connectionParameters.client_encoding || 'utf8',\n      })\n    this._queryQueue = []\n    this.binary = c.binary || defaults.binary\n    this.processID = null\n    this.secretKey = null\n    this.ssl = this.connectionParameters.ssl || false\n    // As with Password, make SSL->Key (the private key) non-enumerable.\n    // It won't show up in stack traces\n    // or if the client is console.logged\n    if (this.ssl && this.ssl.key) {\n      Object.defineProperty(this.ssl, 'key', {\n        enumerable: false,\n      })\n    }\n\n    this._connectionTimeoutMillis = c.connectionTimeoutMillis || 0\n  }\n\n  get activeQuery() {\n    activeQueryDeprecationNotice()\n    return this._activeQuery\n  }\n\n  set activeQuery(val) {\n    activeQueryDeprecationNotice()\n    this._activeQuery = val\n  }\n\n  _getActiveQuery() {\n    return this._activeQuery\n  }\n\n  _errorAllQueries(err) {\n    const enqueueError = (query) => {\n      process.nextTick(() => {\n        query.handleError(err, this.connection)\n      })\n    }\n\n    const activeQuery = this._getActiveQuery()\n    if (activeQuery) {\n      enqueueError(activeQuery)\n      this._activeQuery = null\n    }\n\n    this._queryQueue.forEach(enqueueError)\n    this._queryQueue.length = 0\n  }\n\n  _connect(callback) {\n    const self = this\n    const con = this.connection\n    this._connectionCallback = callback\n\n    if (this._connecting || this._connected) {\n      const err = new Error('Client has already been connected. You cannot reuse a client.')\n      process.nextTick(() => {\n        callback(err)\n      })\n      return\n    }\n    this._connecting = true\n\n    if (this._connectionTimeoutMillis > 0) {\n      this.connectionTimeoutHandle = setTimeout(() => {\n        con._ending = true\n        con.stream.destroy(new Error('timeout expired'))\n      }, this._connectionTimeoutMillis)\n\n      if (this.connectionTimeoutHandle.unref) {\n        this.connectionTimeoutHandle.unref()\n      }\n    }\n\n    if (this.host && this.host.indexOf('/') === 0) {\n      con.connect(this.host + '/.s.PGSQL.' + this.port)\n    } else {\n      con.connect(this.port, this.host)\n    }\n\n    // once connection is established send startup message\n    con.on('connect', function () {\n      if (self.ssl) {\n        con.requestSsl()\n      } else {\n        con.startup(self.getStartupConf())\n      }\n    })\n\n    con.on('sslconnect', function () {\n      con.startup(self.getStartupConf())\n    })\n\n    this._attachListeners(con)\n\n    con.once('end', () => {\n      const error = this._ending ? new Error('Connection terminated') : new Error('Connection terminated unexpectedly')\n\n      clearTimeout(this.connectionTimeoutHandle)\n      this._errorAllQueries(error)\n      this._ended = true\n\n      if (!this._ending) {\n        // if the connection is ended without us calling .end()\n        // on this client then we have an unexpected disconnection\n        // treat this as an error unless we've already emitted an error\n        // during connection.\n        if (this._connecting && !this._connectionError) {\n          if (this._connectionCallback) {\n            this._connectionCallback(error)\n          } else {\n            this._handleErrorEvent(error)\n          }\n        } else if (!this._connectionError) {\n          this._handleErrorEvent(error)\n        }\n      }\n\n      process.nextTick(() => {\n        this.emit('end')\n      })\n    })\n  }\n\n  connect(callback) {\n    if (callback) {\n      this._connect(callback)\n      return\n    }\n\n    return new this._Promise((resolve, reject) => {\n      this._connect((error) => {\n        if (error) {\n          reject(error)\n        } else {\n          resolve(this)\n        }\n      })\n    })\n  }\n\n  _attachListeners(con) {\n    // password request handling\n    con.on('authenticationCleartextPassword', this._handleAuthCleartextPassword.bind(this))\n    // password request handling\n    con.on('authenticationMD5Password', this._handleAuthMD5Password.bind(this))\n    // password request handling (SASL)\n    con.on('authenticationSASL', this._handleAuthSASL.bind(this))\n    con.on('authenticationSASLContinue', this._handleAuthSASLContinue.bind(this))\n    con.on('authenticationSASLFinal', this._handleAuthSASLFinal.bind(this))\n    con.on('backendKeyData', this._handleBackendKeyData.bind(this))\n    con.on('error', this._handleErrorEvent.bind(this))\n    con.on('errorMessage', this._handleErrorMessage.bind(this))\n    con.on('readyForQuery', this._handleReadyForQuery.bind(this))\n    con.on('notice', this._handleNotice.bind(this))\n    con.on('rowDescription', this._handleRowDescription.bind(this))\n    con.on('dataRow', this._handleDataRow.bind(this))\n    con.on('portalSuspended', this._handlePortalSuspended.bind(this))\n    con.on('emptyQuery', this._handleEmptyQuery.bind(this))\n    con.on('commandComplete', this._handleCommandComplete.bind(this))\n    con.on('parseComplete', this._handleParseComplete.bind(this))\n    con.on('copyInResponse', this._handleCopyInResponse.bind(this))\n    con.on('copyData', this._handleCopyData.bind(this))\n    con.on('notification', this._handleNotification.bind(this))\n  }\n\n  _getPassword(cb) {\n    const con = this.connection\n    if (typeof this.password === 'function') {\n      this._Promise\n        .resolve()\n        .then(() => this.password())\n        .then((pass) => {\n          if (pass !== undefined) {\n            if (typeof pass !== 'string') {\n              con.emit('error', new TypeError('Password must be a string'))\n              return\n            }\n            this.connectionParameters.password = this.password = pass\n          } else {\n            this.connectionParameters.password = this.password = null\n          }\n          cb()\n        })\n        .catch((err) => {\n          con.emit('error', err)\n        })\n    } else if (this.password !== null) {\n      cb()\n    } else {\n      try {\n        const pgPass = require('pgpass')\n        pgPass(this.connectionParameters, (pass) => {\n          if (undefined !== pass) {\n            pgPassDeprecationNotice()\n            this.connectionParameters.password = this.password = pass\n          }\n          cb()\n        })\n      } catch (e) {\n        this.emit('error', e)\n      }\n    }\n  }\n\n  _handleAuthCleartextPassword(msg) {\n    this._getPassword(() => {\n      this.connection.password(this.password)\n    })\n  }\n\n  _handleAuthMD5Password(msg) {\n    this._getPassword(async () => {\n      try {\n        const hashedPassword = await crypto.postgresMd5PasswordHash(this.user, this.password, msg.salt)\n        this.connection.password(hashedPassword)\n      } catch (e) {\n        this.emit('error', e)\n      }\n    })\n  }\n\n  _handleAuthSASL(msg) {\n    this._getPassword(() => {\n      try {\n        this.saslSession = sasl.startSession(msg.mechanisms, this.enableChannelBinding && this.connection.stream)\n        this.connection.sendSASLInitialResponseMessage(this.saslSession.mechanism, this.saslSession.response)\n      } catch (err) {\n        this.connection.emit('error', err)\n      }\n    })\n  }\n\n  async _handleAuthSASLContinue(msg) {\n    try {\n      await sasl.continueSession(\n        this.saslSession,\n        this.password,\n        msg.data,\n        this.enableChannelBinding && this.connection.stream\n      )\n      this.connection.sendSCRAMClientFinalMessage(this.saslSession.response)\n    } catch (err) {\n      this.connection.emit('error', err)\n    }\n  }\n\n  _handleAuthSASLFinal(msg) {\n    try {\n      sasl.finalizeSession(this.saslSession, msg.data)\n      this.saslSession = null\n    } catch (err) {\n      this.connection.emit('error', err)\n    }\n  }\n\n  _handleBackendKeyData(msg) {\n    this.processID = msg.processID\n    this.secretKey = msg.secretKey\n  }\n\n  _handleReadyForQuery(msg) {\n    if (this._connecting) {\n      this._connecting = false\n      this._connected = true\n      clearTimeout(this.connectionTimeoutHandle)\n\n      // process possible callback argument to Client#connect\n      if (this._connectionCallback) {\n        this._connectionCallback(null, this)\n        // remove callback for proper error handling\n        // after the connect event\n        this._connectionCallback = null\n      }\n      this.emit('connect')\n    }\n    const activeQuery = this._getActiveQuery()\n    this._activeQuery = null\n    this.readyForQuery = true\n    if (activeQuery) {\n      activeQuery.handleReadyForQuery(this.connection)\n    }\n    this._pulseQueryQueue()\n  }\n\n  // if we receive an error event or error message\n  // during the connection process we handle it here\n  _handleErrorWhileConnecting(err) {\n    if (this._connectionError) {\n      // TODO(bmc): this is swallowing errors - we shouldn't do this\n      return\n    }\n    this._connectionError = true\n    clearTimeout(this.connectionTimeoutHandle)\n    if (this._connectionCallback) {\n      return this._connectionCallback(err)\n    }\n    this.emit('error', err)\n  }\n\n  // if we're connected and we receive an error event from the connection\n  // this means the socket is dead - do a hard abort of all queries and emit\n  // the socket error on the client as well\n  _handleErrorEvent(err) {\n    if (this._connecting) {\n      return this._handleErrorWhileConnecting(err)\n    }\n    this._queryable = false\n    this._errorAllQueries(err)\n    this.emit('error', err)\n  }\n\n  // handle error messages from the postgres backend\n  _handleErrorMessage(msg) {\n    if (this._connecting) {\n      return this._handleErrorWhileConnecting(msg)\n    }\n    const activeQuery = this._getActiveQuery()\n\n    if (!activeQuery) {\n      this._handleErrorEvent(msg)\n      return\n    }\n\n    this._activeQuery = null\n    activeQuery.handleError(msg, this.connection)\n  }\n\n  _handleRowDescription(msg) {\n    const activeQuery = this._getActiveQuery()\n    if (activeQuery == null) {\n      const error = new Error('Received unexpected rowDescription message from backend.')\n      this._handleErrorEvent(error)\n      return\n    }\n    // delegate rowDescription to active query\n    activeQuery.handleRowDescription(msg)\n  }\n\n  _handleDataRow(msg) {\n    const activeQuery = this._getActiveQuery()\n    if (activeQuery == null) {\n      const error = new Error('Received unexpected dataRow message from backend.')\n      this._handleErrorEvent(error)\n      return\n    }\n    // delegate dataRow to active query\n    activeQuery.handleDataRow(msg)\n  }\n\n  _handlePortalSuspended(msg) {\n    const activeQuery = this._getActiveQuery()\n    if (activeQuery == null) {\n      const error = new Error('Received unexpected portalSuspended message from backend.')\n      this._handleErrorEvent(error)\n      return\n    }\n    // delegate portalSuspended to active query\n    activeQuery.handlePortalSuspended(this.connection)\n  }\n\n  _handleEmptyQuery(msg) {\n    const activeQuery = this._getActiveQuery()\n    if (activeQuery == null) {\n      const error = new Error('Received unexpected emptyQuery message from backend.')\n      this._handleErrorEvent(error)\n      return\n    }\n    // delegate emptyQuery to active query\n    activeQuery.handleEmptyQuery(this.connection)\n  }\n\n  _handleCommandComplete(msg) {\n    const activeQuery = this._getActiveQuery()\n    if (activeQuery == null) {\n      const error = new Error('Received unexpected commandComplete message from backend.')\n      this._handleErrorEvent(error)\n      return\n    }\n    // delegate commandComplete to active query\n    activeQuery.handleCommandComplete(msg, this.connection)\n  }\n\n  _handleParseComplete() {\n    const activeQuery = this._getActiveQuery()\n    if (activeQuery == null) {\n      const error = new Error('Received unexpected parseComplete message from backend.')\n      this._handleErrorEvent(error)\n      return\n    }\n    // if a prepared statement has a name and properly parses\n    // we track that its already been executed so we don't parse\n    // it again on the same client\n    if (activeQuery.name) {\n      this.connection.parsedStatements[activeQuery.name] = activeQuery.text\n    }\n  }\n\n  _handleCopyInResponse(msg) {\n    const activeQuery = this._getActiveQuery()\n    if (activeQuery == null) {\n      const error = new Error('Received unexpected copyInResponse message from backend.')\n      this._handleErrorEvent(error)\n      return\n    }\n    activeQuery.handleCopyInResponse(this.connection)\n  }\n\n  _handleCopyData(msg) {\n    const activeQuery = this._getActiveQuery()\n    if (activeQuery == null) {\n      const error = new Error('Received unexpected copyData message from backend.')\n      this._handleErrorEvent(error)\n      return\n    }\n    activeQuery.handleCopyData(msg, this.connection)\n  }\n\n  _handleNotification(msg) {\n    this.emit('notification', msg)\n  }\n\n  _handleNotice(msg) {\n    this.emit('notice', msg)\n  }\n\n  getStartupConf() {\n    const params = this.connectionParameters\n\n    const data = {\n      user: params.user,\n      database: params.database,\n    }\n\n    const appName = params.application_name || params.fallback_application_name\n    if (appName) {\n      data.application_name = appName\n    }\n    if (params.replication) {\n      data.replication = '' + params.replication\n    }\n    if (params.statement_timeout) {\n      data.statement_timeout = String(parseInt(params.statement_timeout, 10))\n    }\n    if (params.lock_timeout) {\n      data.lock_timeout = String(parseInt(params.lock_timeout, 10))\n    }\n    if (params.idle_in_transaction_session_timeout) {\n      data.idle_in_transaction_session_timeout = String(parseInt(params.idle_in_transaction_session_timeout, 10))\n    }\n    if (params.options) {\n      data.options = params.options\n    }\n\n    return data\n  }\n\n  cancel(client, query) {\n    if (client.activeQuery === query) {\n      const con = this.connection\n\n      if (this.host && this.host.indexOf('/') === 0) {\n        con.connect(this.host + '/.s.PGSQL.' + this.port)\n      } else {\n        con.connect(this.port, this.host)\n      }\n\n      // once connection is established send cancel message\n      con.on('connect', function () {\n        con.cancel(client.processID, client.secretKey)\n      })\n    } else if (client._queryQueue.indexOf(query) !== -1) {\n      client._queryQueue.splice(client._queryQueue.indexOf(query), 1)\n    }\n  }\n\n  setTypeParser(oid, format, parseFn) {\n    return this._types.setTypeParser(oid, format, parseFn)\n  }\n\n  getTypeParser(oid, format) {\n    return this._types.getTypeParser(oid, format)\n  }\n\n  // escapeIdentifier and escapeLiteral moved to utility functions & exported\n  // on PG\n  // re-exported here for backwards compatibility\n  escapeIdentifier(str) {\n    return utils.escapeIdentifier(str)\n  }\n\n  escapeLiteral(str) {\n    return utils.escapeLiteral(str)\n  }\n\n  _pulseQueryQueue() {\n    if (this.readyForQuery === true) {\n      this._activeQuery = this._queryQueue.shift()\n      const activeQuery = this._getActiveQuery()\n      if (activeQuery) {\n        this.readyForQuery = false\n        this.hasExecuted = true\n\n        const queryError = activeQuery.submit(this.connection)\n        if (queryError) {\n          process.nextTick(() => {\n            activeQuery.handleError(queryError, this.connection)\n            this.readyForQuery = true\n            this._pulseQueryQueue()\n          })\n        }\n      } else if (this.hasExecuted) {\n        this._activeQuery = null\n        this.emit('drain')\n      }\n    }\n  }\n\n  query(config, values, callback) {\n    // can take in strings, config object or query object\n    let query\n    let result\n    let readTimeout\n    let readTimeoutTimer\n    let queryCallback\n\n    if (config === null || config === undefined) {\n      throw new TypeError('Client was passed a null or undefined query')\n    } else if (typeof config.submit === 'function') {\n      readTimeout = config.query_timeout || this.connectionParameters.query_timeout\n      result = query = config\n      if (typeof values === 'function') {\n        query.callback = query.callback || values\n      }\n    } else {\n      readTimeout = config.query_timeout || this.connectionParameters.query_timeout\n      query = new Query(config, values, callback)\n      if (!query.callback) {\n        result = new this._Promise((resolve, reject) => {\n          query.callback = (err, res) => (err ? reject(err) : resolve(res))\n        }).catch((err) => {\n          // replace the stack trace that leads to `TCP.onStreamRead` with one that leads back to the\n          // application that created the query\n          Error.captureStackTrace(err)\n          throw err\n        })\n      }\n    }\n\n    if (readTimeout) {\n      queryCallback = query.callback\n\n      readTimeoutTimer = setTimeout(() => {\n        const error = new Error('Query read timeout')\n\n        process.nextTick(() => {\n          query.handleError(error, this.connection)\n        })\n\n        queryCallback(error)\n\n        // we already returned an error,\n        // just do nothing if query completes\n        query.callback = () => {}\n\n        // Remove from queue\n        const index = this._queryQueue.indexOf(query)\n        if (index > -1) {\n          this._queryQueue.splice(index, 1)\n        }\n\n        this._pulseQueryQueue()\n      }, readTimeout)\n\n      query.callback = (err, res) => {\n        clearTimeout(readTimeoutTimer)\n        queryCallback(err, res)\n      }\n    }\n\n    if (this.binary && !query.binary) {\n      query.binary = true\n    }\n\n    if (query._result && !query._result._types) {\n      query._result._types = this._types\n    }\n\n    if (!this._queryable) {\n      process.nextTick(() => {\n        query.handleError(new Error('Client has encountered a connection error and is not queryable'), this.connection)\n      })\n      return result\n    }\n\n    if (this._ending) {\n      process.nextTick(() => {\n        query.handleError(new Error('Client was closed and is not queryable'), this.connection)\n      })\n      return result\n    }\n\n    this._queryQueue.push(query)\n    this._pulseQueryQueue()\n    return result\n  }\n\n  ref() {\n    this.connection.ref()\n  }\n\n  unref() {\n    this.connection.unref()\n  }\n\n  end(cb) {\n    this._ending = true\n\n    // if we have never connected, then end is a noop, callback immediately\n    if (!this.connection._connecting || this._ended) {\n      if (cb) {\n        cb()\n      } else {\n        return this._Promise.resolve()\n      }\n    }\n\n    if (this._getActiveQuery() || !this._queryable) {\n      // if we have an active query we need to force a disconnect\n      // on the socket - otherwise a hung query could block end forever\n      this.connection.stream.destroy()\n    } else {\n      this.connection.end()\n    }\n\n    if (cb) {\n      this.connection.once('end', cb)\n    } else {\n      return new this._Promise((resolve) => {\n        this.connection.once('end', resolve)\n      })\n    }\n  }\n  get queryQueue() {\n    queryQueueDeprecationNotice()\n    return this._queryQueue\n  }\n}\n\n// expose a Query constructor\nClient.Query = Query\n\nmodule.exports = Client\n","'use strict'\nconst EventEmitter = require('events').EventEmitter\n\nconst NOOP = function () {}\n\nconst removeWhere = (list, predicate) => {\n  const i = list.findIndex(predicate)\n\n  return i === -1 ? undefined : list.splice(i, 1)[0]\n}\n\nclass IdleItem {\n  constructor(client, idleListener, timeoutId) {\n    this.client = client\n    this.idleListener = idleListener\n    this.timeoutId = timeoutId\n  }\n}\n\nclass PendingItem {\n  constructor(callback) {\n    this.callback = callback\n  }\n}\n\nfunction throwOnDoubleRelease() {\n  throw new Error('Release called on client which has already been released to the pool.')\n}\n\nfunction promisify(Promise, callback) {\n  if (callback) {\n    return { callback: callback, result: undefined }\n  }\n  let rej\n  let res\n  const cb = function (err, client) {\n    err ? rej(err) : res(client)\n  }\n  const result = new Promise(function (resolve, reject) {\n    res = resolve\n    rej = reject\n  }).catch((err) => {\n    // replace the stack trace that leads to `TCP.onStreamRead` with one that leads back to the\n    // application that created the query\n    Error.captureStackTrace(err)\n    throw err\n  })\n  return { callback: cb, result: result }\n}\n\nfunction makeIdleListener(pool, client) {\n  return function idleListener(err) {\n    err.client = client\n\n    client.removeListener('error', idleListener)\n    client.on('error', () => {\n      pool.log('additional client error after disconnection due to error', err)\n    })\n    pool._remove(client)\n    // TODO - document that once the pool emits an error\n    // the client has already been closed & purged and is unusable\n    pool.emit('error', err, client)\n  }\n}\n\nclass Pool extends EventEmitter {\n  constructor(options, Client) {\n    super()\n    this.options = Object.assign({}, options)\n\n    if (options != null && 'password' in options) {\n      // \"hiding\" the password so it doesn't show up in stack traces\n      // or if the client is console.logged\n      Object.defineProperty(this.options, 'password', {\n        configurable: true,\n        enumerable: false,\n        writable: true,\n        value: options.password,\n      })\n    }\n    if (options != null && options.ssl && options.ssl.key) {\n      // \"hiding\" the ssl->key so it doesn't show up in stack traces\n      // or if the client is console.logged\n      Object.defineProperty(this.options.ssl, 'key', {\n        enumerable: false,\n      })\n    }\n\n    this.options.max = this.options.max || this.options.poolSize || 10\n    this.options.min = this.options.min || 0\n    this.options.maxUses = this.options.maxUses || Infinity\n    this.options.allowExitOnIdle = this.options.allowExitOnIdle || false\n    this.options.maxLifetimeSeconds = this.options.maxLifetimeSeconds || 0\n    this.log = this.options.log || function () {}\n    this.Client = this.options.Client || Client || require('pg').Client\n    this.Promise = this.options.Promise || global.Promise\n\n    if (typeof this.options.idleTimeoutMillis === 'undefined') {\n      this.options.idleTimeoutMillis = 10000\n    }\n\n    this._clients = []\n    this._idle = []\n    this._expired = new WeakSet()\n    this._pendingQueue = []\n    this._endCallback = undefined\n    this.ending = false\n    this.ended = false\n  }\n\n  _isFull() {\n    return this._clients.length >= this.options.max\n  }\n\n  _isAboveMin() {\n    return this._clients.length > this.options.min\n  }\n\n  _pulseQueue() {\n    this.log('pulse queue')\n    if (this.ended) {\n      this.log('pulse queue ended')\n      return\n    }\n    if (this.ending) {\n      this.log('pulse queue on ending')\n      if (this._idle.length) {\n        this._idle.slice().map((item) => {\n          this._remove(item.client)\n        })\n      }\n      if (!this._clients.length) {\n        this.ended = true\n        this._endCallback()\n      }\n      return\n    }\n\n    // if we don't have any waiting, do nothing\n    if (!this._pendingQueue.length) {\n      this.log('no queued requests')\n      return\n    }\n    // if we don't have any idle clients and we have no more room do nothing\n    if (!this._idle.length && this._isFull()) {\n      return\n    }\n    const pendingItem = this._pendingQueue.shift()\n    if (this._idle.length) {\n      const idleItem = this._idle.pop()\n      clearTimeout(idleItem.timeoutId)\n      const client = idleItem.client\n      client.ref && client.ref()\n      const idleListener = idleItem.idleListener\n\n      return this._acquireClient(client, pendingItem, idleListener, false)\n    }\n    if (!this._isFull()) {\n      return this.newClient(pendingItem)\n    }\n    throw new Error('unexpected condition')\n  }\n\n  _remove(client, callback) {\n    const removed = removeWhere(this._idle, (item) => item.client === client)\n\n    if (removed !== undefined) {\n      clearTimeout(removed.timeoutId)\n    }\n\n    this._clients = this._clients.filter((c) => c !== client)\n    const context = this\n    client.end(() => {\n      context.emit('remove', client)\n\n      if (typeof callback === 'function') {\n        callback()\n      }\n    })\n  }\n\n  connect(cb) {\n    if (this.ending) {\n      const err = new Error('Cannot use a pool after calling end on the pool')\n      return cb ? cb(err) : this.Promise.reject(err)\n    }\n\n    const response = promisify(this.Promise, cb)\n    const result = response.result\n\n    // if we don't have to connect a new client, don't do so\n    if (this._isFull() || this._idle.length) {\n      // if we have idle clients schedule a pulse immediately\n      if (this._idle.length) {\n        process.nextTick(() => this._pulseQueue())\n      }\n\n      if (!this.options.connectionTimeoutMillis) {\n        this._pendingQueue.push(new PendingItem(response.callback))\n        return result\n      }\n\n      const queueCallback = (err, res, done) => {\n        clearTimeout(tid)\n        response.callback(err, res, done)\n      }\n\n      const pendingItem = new PendingItem(queueCallback)\n\n      // set connection timeout on checking out an existing client\n      const tid = setTimeout(() => {\n        // remove the callback from pending waiters because\n        // we're going to call it with a timeout error\n        removeWhere(this._pendingQueue, (i) => i.callback === queueCallback)\n        pendingItem.timedOut = true\n        response.callback(new Error('timeout exceeded when trying to connect'))\n      }, this.options.connectionTimeoutMillis)\n\n      if (tid.unref) {\n        tid.unref()\n      }\n\n      this._pendingQueue.push(pendingItem)\n      return result\n    }\n\n    this.newClient(new PendingItem(response.callback))\n\n    return result\n  }\n\n  newClient(pendingItem) {\n    const client = new this.Client(this.options)\n    this._clients.push(client)\n    const idleListener = makeIdleListener(this, client)\n\n    this.log('checking client timeout')\n\n    // connection timeout logic\n    let tid\n    let timeoutHit = false\n    if (this.options.connectionTimeoutMillis) {\n      tid = setTimeout(() => {\n        this.log('ending client due to timeout')\n        timeoutHit = true\n        // force kill the node driver, and let libpq do its teardown\n        client.connection ? client.connection.stream.destroy() : client.end()\n      }, this.options.connectionTimeoutMillis)\n    }\n\n    this.log('connecting new client')\n    client.connect((err) => {\n      if (tid) {\n        clearTimeout(tid)\n      }\n      client.on('error', idleListener)\n      if (err) {\n        this.log('client failed to connect', err)\n        // remove the dead client from our list of clients\n        this._clients = this._clients.filter((c) => c !== client)\n        if (timeoutHit) {\n          err = new Error('Connection terminated due to connection timeout', { cause: err })\n        }\n\n        // this client wont be released, so move on immediately\n        this._pulseQueue()\n\n        if (!pendingItem.timedOut) {\n          pendingItem.callback(err, undefined, NOOP)\n        }\n      } else {\n        this.log('new client connected')\n\n        if (this.options.maxLifetimeSeconds !== 0) {\n          const maxLifetimeTimeout = setTimeout(() => {\n            this.log('ending client due to expired lifetime')\n            this._expired.add(client)\n            const idleIndex = this._idle.findIndex((idleItem) => idleItem.client === client)\n            if (idleIndex !== -1) {\n              this._acquireClient(\n                client,\n                new PendingItem((err, client, clientRelease) => clientRelease()),\n                idleListener,\n                false\n              )\n            }\n          }, this.options.maxLifetimeSeconds * 1000)\n\n          maxLifetimeTimeout.unref()\n          client.once('end', () => clearTimeout(maxLifetimeTimeout))\n        }\n\n        return this._acquireClient(client, pendingItem, idleListener, true)\n      }\n    })\n  }\n\n  // acquire a client for a pending work item\n  _acquireClient(client, pendingItem, idleListener, isNew) {\n    if (isNew) {\n      this.emit('connect', client)\n    }\n\n    this.emit('acquire', client)\n\n    client.release = this._releaseOnce(client, idleListener)\n\n    client.removeListener('error', idleListener)\n\n    if (!pendingItem.timedOut) {\n      if (isNew && this.options.verify) {\n        this.options.verify(client, (err) => {\n          if (err) {\n            client.release(err)\n            return pendingItem.callback(err, undefined, NOOP)\n          }\n\n          pendingItem.callback(undefined, client, client.release)\n        })\n      } else {\n        pendingItem.callback(undefined, client, client.release)\n      }\n    } else {\n      if (isNew && this.options.verify) {\n        this.options.verify(client, client.release)\n      } else {\n        client.release()\n      }\n    }\n  }\n\n  // returns a function that wraps _release and throws if called more than once\n  _releaseOnce(client, idleListener) {\n    let released = false\n\n    return (err) => {\n      if (released) {\n        throwOnDoubleRelease()\n      }\n\n      released = true\n      this._release(client, idleListener, err)\n    }\n  }\n\n  // release a client back to the poll, include an error\n  // to remove it from the pool\n  _release(client, idleListener, err) {\n    client.on('error', idleListener)\n\n    client._poolUseCount = (client._poolUseCount || 0) + 1\n\n    this.emit('release', err, client)\n\n    // TODO(bmc): expose a proper, public interface _queryable and _ending\n    if (err || this.ending || !client._queryable || client._ending || client._poolUseCount >= this.options.maxUses) {\n      if (client._poolUseCount >= this.options.maxUses) {\n        this.log('remove expended client')\n      }\n\n      return this._remove(client, this._pulseQueue.bind(this))\n    }\n\n    const isExpired = this._expired.has(client)\n    if (isExpired) {\n      this.log('remove expired client')\n      this._expired.delete(client)\n      return this._remove(client, this._pulseQueue.bind(this))\n    }\n\n    // idle timeout\n    let tid\n    if (this.options.idleTimeoutMillis && this._isAboveMin()) {\n      tid = setTimeout(() => {\n        if (this._isAboveMin()) {\n          this.log('remove idle client')\n          this._remove(client, this._pulseQueue.bind(this))\n        }\n      }, this.options.idleTimeoutMillis)\n\n      if (this.options.allowExitOnIdle) {\n        // allow Node to exit if this is all that's left\n        tid.unref()\n      }\n    }\n\n    if (this.options.allowExitOnIdle) {\n      client.unref()\n    }\n\n    this._idle.push(new IdleItem(client, idleListener, tid))\n    this._pulseQueue()\n  }\n\n  query(text, values, cb) {\n    // guard clause against passing a function as the first parameter\n    if (typeof text === 'function') {\n      const response = promisify(this.Promise, text)\n      setImmediate(function () {\n        return response.callback(new Error('Passing a function as the first parameter to pool.query is not supported'))\n      })\n      return response.result\n    }\n\n    // allow plain text query without values\n    if (typeof values === 'function') {\n      cb = values\n      values = undefined\n    }\n    const response = promisify(this.Promise, cb)\n    cb = response.callback\n\n    this.connect((err, client) => {\n      if (err) {\n        return cb(err)\n      }\n\n      let clientReleased = false\n      const onError = (err) => {\n        if (clientReleased) {\n          return\n        }\n        clientReleased = true\n        client.release(err)\n        cb(err)\n      }\n\n      client.once('error', onError)\n      this.log('dispatching query')\n      try {\n        client.query(text, values, (err, res) => {\n          this.log('query dispatched')\n          client.removeListener('error', onError)\n          if (clientReleased) {\n            return\n          }\n          clientReleased = true\n          client.release(err)\n          if (err) {\n            return cb(err)\n          }\n          return cb(undefined, res)\n        })\n      } catch (err) {\n        client.release(err)\n        return cb(err)\n      }\n    })\n    return response.result\n  }\n\n  end(cb) {\n    this.log('ending')\n    if (this.ending) {\n      const err = new Error('Called end on pool more than once')\n      return cb ? cb(err) : this.Promise.reject(err)\n    }\n    this.ending = true\n    const promised = promisify(this.Promise, cb)\n    this._endCallback = promised.callback\n    this._pulseQueue()\n    return promised.result\n  }\n\n  get waitingCount() {\n    return this._pendingQueue.length\n  }\n\n  get idleCount() {\n    return this._idle.length\n  }\n\n  get expiredCount() {\n    return this._clients.reduce((acc, client) => acc + (this._expired.has(client) ? 1 : 0), 0)\n  }\n\n  get totalCount() {\n    return this._clients.length\n  }\n}\nmodule.exports = Pool\n","'use strict'\n\nconst EventEmitter = require('events').EventEmitter\nconst util = require('util')\nconst utils = require('../utils')\n\nconst NativeQuery = (module.exports = function (config, values, callback) {\n  EventEmitter.call(this)\n  config = utils.normalizeQueryConfig(config, values, callback)\n  this.text = config.text\n  this.values = config.values\n  this.name = config.name\n  this.queryMode = config.queryMode\n  this.callback = config.callback\n  this.state = 'new'\n  this._arrayMode = config.rowMode === 'array'\n\n  // if the 'row' event is listened for\n  // then emit them as they come in\n  // without setting singleRowMode to true\n  // this has almost no meaning because libpq\n  // reads all rows into memory before returning any\n  this._emitRowEvents = false\n  this.on(\n    'newListener',\n    function (event) {\n      if (event === 'row') this._emitRowEvents = true\n    }.bind(this)\n  )\n})\n\nutil.inherits(NativeQuery, EventEmitter)\n\nconst errorFieldMap = {\n  sqlState: 'code',\n  statementPosition: 'position',\n  messagePrimary: 'message',\n  context: 'where',\n  schemaName: 'schema',\n  tableName: 'table',\n  columnName: 'column',\n  dataTypeName: 'dataType',\n  constraintName: 'constraint',\n  sourceFile: 'file',\n  sourceLine: 'line',\n  sourceFunction: 'routine',\n}\n\nNativeQuery.prototype.handleError = function (err) {\n  // copy pq error fields into the error object\n  const fields = this.native.pq.resultErrorFields()\n  if (fields) {\n    for (const key in fields) {\n      const normalizedFieldName = errorFieldMap[key] || key\n      err[normalizedFieldName] = fields[key]\n    }\n  }\n  if (this.callback) {\n    this.callback(err)\n  } else {\n    this.emit('error', err)\n  }\n  this.state = 'error'\n}\n\nNativeQuery.prototype.then = function (onSuccess, onFailure) {\n  return this._getPromise().then(onSuccess, onFailure)\n}\n\nNativeQuery.prototype.catch = function (callback) {\n  return this._getPromise().catch(callback)\n}\n\nNativeQuery.prototype._getPromise = function () {\n  if (this._promise) return this._promise\n  this._promise = new Promise(\n    function (resolve, reject) {\n      this._once('end', resolve)\n      this._once('error', reject)\n    }.bind(this)\n  )\n  return this._promise\n}\n\nNativeQuery.prototype.submit = function (client) {\n  this.state = 'running'\n  const self = this\n  this.native = client.native\n  client.native.arrayMode = this._arrayMode\n\n  let after = function (err, rows, results) {\n    client.native.arrayMode = false\n    setImmediate(function () {\n      self.emit('_done')\n    })\n\n    // handle possible query error\n    if (err) {\n      return self.handleError(err)\n    }\n\n    // emit row events for each row in the result\n    if (self._emitRowEvents) {\n      if (results.length > 1) {\n        rows.forEach((rowOfRows, i) => {\n          rowOfRows.forEach((row) => {\n            self.emit('row', row, results[i])\n          })\n        })\n      } else {\n        rows.forEach(function (row) {\n          self.emit('row', row, results)\n        })\n      }\n    }\n\n    // handle successful result\n    self.state = 'end'\n    self.emit('end', results)\n    if (self.callback) {\n      self.callback(null, results)\n    }\n  }\n\n  if (process.domain) {\n    after = process.domain.bind(after)\n  }\n\n  // named query\n  if (this.name) {\n    if (this.name.length > 63) {\n      console.error('Warning! Postgres only supports 63 characters for query names.')\n      console.error('You supplied %s (%s)', this.name, this.name.length)\n      console.error('This can cause conflicts and silent errors executing queries')\n    }\n    const values = (this.values || []).map(utils.prepareValue)\n\n    // check if the client has already executed this named query\n    // if so...just execute it again - skip the planning phase\n    if (client.namedQueries[this.name]) {\n      if (this.text && client.namedQueries[this.name] !== this.text) {\n        const err = new Error(`Prepared statements must be unique - '${this.name}' was used for a different statement`)\n        return after(err)\n      }\n      return client.native.execute(this.name, values, after)\n    }\n    // plan the named query the first time, then execute it\n    return client.native.prepare(this.name, this.text, values.length, function (err) {\n      if (err) return after(err)\n      client.namedQueries[self.name] = self.text\n      return self.native.execute(self.name, values, after)\n    })\n  } else if (this.values) {\n    if (!Array.isArray(this.values)) {\n      const err = new Error('Query values must be an array')\n      return after(err)\n    }\n    const vals = this.values.map(utils.prepareValue)\n    client.native.query(this.text, vals, after)\n  } else if (this.queryMode === 'extended') {\n    client.native.query(this.text, [], after)\n  } else {\n    client.native.query(this.text, after)\n  }\n}\n","'use strict'\n\n// eslint-disable-next-line\nvar Native\n// eslint-disable-next-line no-useless-catch\ntry {\n  // Wrap this `require()` in a try-catch to avoid upstream bundlers from complaining that this might not be available since it is an optional import\n  Native = require('pg-native')\n} catch (e) {\n  throw e\n}\nconst TypeOverrides = require('../type-overrides')\nconst EventEmitter = require('events').EventEmitter\nconst util = require('util')\nconst ConnectionParameters = require('../connection-parameters')\n\nconst NativeQuery = require('./query')\n\nconst Client = (module.exports = function (config) {\n  EventEmitter.call(this)\n  config = config || {}\n\n  this._Promise = config.Promise || global.Promise\n  this._types = new TypeOverrides(config.types)\n\n  this.native = new Native({\n    types: this._types,\n  })\n\n  this._queryQueue = []\n  this._ending = false\n  this._connecting = false\n  this._connected = false\n  this._queryable = true\n\n  // keep these on the object for legacy reasons\n  // for the time being. TODO: deprecate all this jazz\n  const cp = (this.connectionParameters = new ConnectionParameters(config))\n  if (config.nativeConnectionString) cp.nativeConnectionString = config.nativeConnectionString\n  this.user = cp.user\n\n  // \"hiding\" the password so it doesn't show up in stack traces\n  // or if the client is console.logged\n  Object.defineProperty(this, 'password', {\n    configurable: true,\n    enumerable: false,\n    writable: true,\n    value: cp.password,\n  })\n  this.database = cp.database\n  this.host = cp.host\n  this.port = cp.port\n\n  // a hash to hold named queries\n  this.namedQueries = {}\n})\n\nClient.Query = NativeQuery\n\nutil.inherits(Client, EventEmitter)\n\nClient.prototype._errorAllQueries = function (err) {\n  const enqueueError = (query) => {\n    process.nextTick(() => {\n      query.native = this.native\n      query.handleError(err)\n    })\n  }\n\n  if (this._hasActiveQuery()) {\n    enqueueError(this._activeQuery)\n    this._activeQuery = null\n  }\n\n  this._queryQueue.forEach(enqueueError)\n  this._queryQueue.length = 0\n}\n\n// connect to the backend\n// pass an optional callback to be called once connected\n// or with an error if there was a connection error\nClient.prototype._connect = function (cb) {\n  const self = this\n\n  if (this._connecting) {\n    process.nextTick(() => cb(new Error('Client has already been connected. You cannot reuse a client.')))\n    return\n  }\n\n  this._connecting = true\n\n  this.connectionParameters.getLibpqConnectionString(function (err, conString) {\n    if (self.connectionParameters.nativeConnectionString) conString = self.connectionParameters.nativeConnectionString\n    if (err) return cb(err)\n    self.native.connect(conString, function (err) {\n      if (err) {\n        self.native.end()\n        return cb(err)\n      }\n\n      // set internal states to connected\n      self._connected = true\n\n      // handle connection errors from the native layer\n      self.native.on('error', function (err) {\n        self._queryable = false\n        self._errorAllQueries(err)\n        self.emit('error', err)\n      })\n\n      self.native.on('notification', function (msg) {\n        self.emit('notification', {\n          channel: msg.relname,\n          payload: msg.extra,\n        })\n      })\n\n      // signal we are connected now\n      self.emit('connect')\n      self._pulseQueryQueue(true)\n\n      cb(null, this)\n    })\n  })\n}\n\nClient.prototype.connect = function (callback) {\n  if (callback) {\n    this._connect(callback)\n    return\n  }\n\n  return new this._Promise((resolve, reject) => {\n    this._connect((error) => {\n      if (error) {\n        reject(error)\n      } else {\n        resolve(this)\n      }\n    })\n  })\n}\n\n// send a query to the server\n// this method is highly overloaded to take\n// 1) string query, optional array of parameters, optional function callback\n// 2) object query with {\n//    string query\n//    optional array values,\n//    optional function callback instead of as a separate parameter\n//    optional string name to name & cache the query plan\n//    optional string rowMode = 'array' for an array of results\n//  }\nClient.prototype.query = function (config, values, callback) {\n  let query\n  let result\n  let readTimeout\n  let readTimeoutTimer\n  let queryCallback\n\n  if (config === null || config === undefined) {\n    throw new TypeError('Client was passed a null or undefined query')\n  } else if (typeof config.submit === 'function') {\n    readTimeout = config.query_timeout || this.connectionParameters.query_timeout\n    result = query = config\n    // accept query(new Query(...), (err, res) => { }) style\n    if (typeof values === 'function') {\n      config.callback = values\n    }\n  } else {\n    readTimeout = config.query_timeout || this.connectionParameters.query_timeout\n    query = new NativeQuery(config, values, callback)\n    if (!query.callback) {\n      let resolveOut, rejectOut\n      result = new this._Promise((resolve, reject) => {\n        resolveOut = resolve\n        rejectOut = reject\n      }).catch((err) => {\n        Error.captureStackTrace(err)\n        throw err\n      })\n      query.callback = (err, res) => (err ? rejectOut(err) : resolveOut(res))\n    }\n  }\n\n  if (readTimeout) {\n    queryCallback = query.callback\n\n    readTimeoutTimer = setTimeout(() => {\n      const error = new Error('Query read timeout')\n\n      process.nextTick(() => {\n        query.handleError(error, this.connection)\n      })\n\n      queryCallback(error)\n\n      // we already returned an error,\n      // just do nothing if query completes\n      query.callback = () => {}\n\n      // Remove from queue\n      const index = this._queryQueue.indexOf(query)\n      if (index > -1) {\n        this._queryQueue.splice(index, 1)\n      }\n\n      this._pulseQueryQueue()\n    }, readTimeout)\n\n    query.callback = (err, res) => {\n      clearTimeout(readTimeoutTimer)\n      queryCallback(err, res)\n    }\n  }\n\n  if (!this._queryable) {\n    query.native = this.native\n    process.nextTick(() => {\n      query.handleError(new Error('Client has encountered a connection error and is not queryable'))\n    })\n    return result\n  }\n\n  if (this._ending) {\n    query.native = this.native\n    process.nextTick(() => {\n      query.handleError(new Error('Client was closed and is not queryable'))\n    })\n    return result\n  }\n\n  this._queryQueue.push(query)\n  this._pulseQueryQueue()\n  return result\n}\n\n// disconnect from the backend server\nClient.prototype.end = function (cb) {\n  const self = this\n\n  this._ending = true\n\n  if (!this._connected) {\n    this.once('connect', this.end.bind(this, cb))\n  }\n  let result\n  if (!cb) {\n    result = new this._Promise(function (resolve, reject) {\n      cb = (err) => (err ? reject(err) : resolve())\n    })\n  }\n  this.native.end(function () {\n    self._errorAllQueries(new Error('Connection terminated'))\n\n    process.nextTick(() => {\n      self.emit('end')\n      if (cb) cb()\n    })\n  })\n  return result\n}\n\nClient.prototype._hasActiveQuery = function () {\n  return this._activeQuery && this._activeQuery.state !== 'error' && this._activeQuery.state !== 'end'\n}\n\nClient.prototype._pulseQueryQueue = function (initialConnection) {\n  if (!this._connected) {\n    return\n  }\n  if (this._hasActiveQuery()) {\n    return\n  }\n  const query = this._queryQueue.shift()\n  if (!query) {\n    if (!initialConnection) {\n      this.emit('drain')\n    }\n    return\n  }\n  this._activeQuery = query\n  query.submit(this)\n  const self = this\n  query.once('_done', function () {\n    self._pulseQueryQueue()\n  })\n}\n\n// attempt to cancel an in-progress query\nClient.prototype.cancel = function (query) {\n  if (this._activeQuery === query) {\n    this.native.cancel(function () {})\n  } else if (this._queryQueue.indexOf(query) !== -1) {\n    this._queryQueue.splice(this._queryQueue.indexOf(query), 1)\n  }\n}\n\nClient.prototype.ref = function () {}\nClient.prototype.unref = function () {}\n\nClient.prototype.setTypeParser = function (oid, format, parseFn) {\n  return this._types.setTypeParser(oid, format, parseFn)\n}\n\nClient.prototype.getTypeParser = function (oid, format) {\n  return this._types.getTypeParser(oid, format)\n}\n","'use strict'\nmodule.exports = require('./client')\n","'use strict'\n\nconst Client = require('./client')\nconst defaults = require('./defaults')\nconst Connection = require('./connection')\nconst Result = require('./result')\nconst utils = require('./utils')\nconst Pool = require('pg-pool')\nconst TypeOverrides = require('./type-overrides')\nconst { DatabaseError } = require('pg-protocol')\nconst { escapeIdentifier, escapeLiteral } = require('./utils')\n\nconst poolFactory = (Client) => {\n  return class BoundPool extends Pool {\n    constructor(options) {\n      super(options, Client)\n    }\n  }\n}\n\nconst PG = function (clientConstructor) {\n  this.defaults = defaults\n  this.Client = clientConstructor\n  this.Query = this.Client.Query\n  this.Pool = poolFactory(this.Client)\n  this._pools = []\n  this.Connection = Connection\n  this.types = require('pg-types')\n  this.DatabaseError = DatabaseError\n  this.TypeOverrides = TypeOverrides\n  this.escapeIdentifier = escapeIdentifier\n  this.escapeLiteral = escapeLiteral\n  this.Result = Result\n  this.utils = utils\n}\n\nlet clientConstructor = Client\n\nlet forceNative = false\ntry {\n  forceNative = !!process.env.NODE_PG_FORCE_NATIVE\n} catch {\n  // ignore, e.g., Deno without --allow-env\n}\n\nif (forceNative) {\n  clientConstructor = require('./native')\n}\n\nmodule.exports = new PG(clientConstructor)\n\n// lazy require native module...the native module may not have installed\nObject.defineProperty(module.exports, 'native', {\n  configurable: true,\n  enumerable: false,\n  get() {\n    let native = null\n    try {\n      native = new PG(require('./native'))\n    } catch (err) {\n      if (err.code !== 'MODULE_NOT_FOUND') {\n        throw err\n      }\n    }\n\n    // overwrite module.exports.native so that getter is never called again\n    Object.defineProperty(module.exports, 'native', {\n      value: native,\n    })\n\n    return native\n  },\n})\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.withConnection = void 0;\nfunction withConnection(log, f) {\n    return async (client) => {\n        try {\n            try {\n                log(\"Connecting to database...\");\n                await client.connect();\n                log(\"... connected to database\");\n            }\n            catch (e) {\n                log(`Error connecting to database: ${e.message}`);\n                throw e;\n            }\n            const result = await f(client);\n            return result;\n        }\n        catch (e) {\n            log(`Error using connection: ${e.message}`);\n            throw e;\n        }\n        finally {\n            // always try to close the connection\n            try {\n                log(\"Closing connection...\");\n                await client.end();\n                log(\"... connection closed\");\n            }\n            catch (e) {\n                log(`Error closing the connection: ${e.message}`);\n            }\n        }\n    };\n}\nexports.withConnection = withConnection;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.runSchemaQuery = exports.runCreateQuery = exports.createDb = void 0;\nconst pg = require(\"pg\");\nconst with_connection_1 = require(\"./with-connection\");\nconst DUPLICATE_DATABASE = \"42P04\";\n/**\n * @deprecated Use `migrate` instead with `ensureDatabaseExists: true`.\n */\nasync function createDb(dbName, dbConfig, config = {}) {\n    if (typeof dbName !== \"string\") {\n        throw new Error(\"Must pass database name as a string\");\n    }\n    const log = config.logger != null\n        ? config.logger\n        : () => {\n            //\n        };\n    if (dbConfig == null) {\n        throw new Error(\"No config object\");\n    }\n    if (\"client\" in dbConfig) {\n        return runCreateQuery(dbName, log)(dbConfig.client);\n    }\n    if (typeof dbConfig.user !== \"string\" ||\n        typeof dbConfig.password !== \"string\" ||\n        typeof dbConfig.host !== \"string\" ||\n        typeof dbConfig.port !== \"number\") {\n        throw new Error(\"Database config problem\");\n    }\n    const { user, password, host, port } = dbConfig;\n    const client = new pg.Client({\n        database: dbConfig.defaultDatabase != null ? dbConfig.defaultDatabase : \"postgres\",\n        user,\n        password,\n        host,\n        port,\n    });\n    client.on(\"error\", (err) => {\n        log(`pg client emitted an error: ${err.message}`);\n    });\n    const runWith = with_connection_1.withConnection(log, runCreateQuery(dbName, log));\n    return runWith(client);\n}\nexports.createDb = createDb;\nfunction runCreateQuery(dbName, log) {\n    return async (client) => {\n        await client\n            .query(`CREATE DATABASE \"${dbName.replace(/\\\"/g, '\"\"')}\"`)\n            .catch((e) => {\n            switch (e.code) {\n                case DUPLICATE_DATABASE: {\n                    log(`'${dbName}' database already exists`);\n                    return;\n                }\n                default: {\n                    log(e);\n                    throw new Error(`Error creating database. Caused by: '${e.name}: ${e.message}'`);\n                }\n            }\n        });\n    };\n}\nexports.runCreateQuery = runCreateQuery;\nfunction runSchemaQuery(schemaName, log) {\n    return async (client) => {\n        await client\n            .query(`CREATE SCHEMA IF NOT EXISTS ${schemaName}`)\n            .catch((e) => {\n            log(`'${schemaName}' scheme already exists`);\n        });\n    };\n}\nexports.runSchemaQuery = runSchemaQuery;\n","'use strict'\n\nclass SQLStatement {\n\n  /**\n   * @param {string[]} strings\n   * @param {any[]} values\n   */\n  constructor(strings, values) {\n    this.strings = strings\n    this.values = values\n  }\n\n  /** Returns the SQL Statement for Sequelize */\n  get query() {\n    return this.bind ? this.text : this.sql\n  }\n\n  /** Returns the SQL Statement for node-postgres */\n  get text() {\n    return this.strings.reduce((prev, curr, i) => prev + '$' + i + curr)\n  }\n\n  /**\n   * @param {SQLStatement|string} statement\n   * @returns {this}\n   */\n  append(statement) {\n    if (statement instanceof SQLStatement) {\n      this.strings[this.strings.length - 1] += statement.strings[0]\n      this.strings.push.apply(this.strings, statement.strings.slice(1));\n      (this.values || this.bind).push.apply(this.values, statement.values)\n    } else {\n      this.strings[this.strings.length - 1] += statement\n    }\n    return this\n  }\n\n  /**\n   * Use a prepared statement with Sequelize.\n   * Makes `query` return a query with `$n` syntax instead of `?`  and switches the `values` key name to `bind`\n   * @param {boolean} [value=true] value If omitted, defaults to `true`\n   * @returns this\n   */\n  useBind(value) {\n    if (value === undefined) {\n      value = true\n    }\n    if (value && !this.bind) {\n      this.bind = this.values\n      delete this.values\n    } else if (!value && this.bind) {\n      this.values = this.bind\n      delete this.bind\n    }\n    return this\n  }\n\n  /**\n   * @param {string} name\n   * @returns {this}\n   */\n  setName(name) {\n    this.name = name\n    return this\n  }\n}\n\n/** Returns the SQL Statement for mysql */\nObject.defineProperty(SQLStatement.prototype, 'sql', {\n  enumerable: true,\n  get() {\n    return this.strings.join('?')\n  }\n})\n\n/**\n * @param {string[]} strings\n * @param {...any} values\n * @returns {SQLStatement}\n */\nfunction SQL(strings) {\n  return new SQLStatement(strings.slice(0), Array.from(arguments).slice(1))\n}\n\nmodule.exports = SQL\nmodule.exports.SQL = SQL\nmodule.exports.default = SQL\nmodule.exports.SQLStatement = SQLStatement\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.loadSqlFromJs = void 0;\nconst path = require(\"path\");\nconst loadSqlFromJs = (filePath) => {\n    const migrationModule = require(filePath);\n    if (!migrationModule.generateSql) {\n        throw new Error(`Invalid javascript migration file: '${path.basename(filePath)}'.\nIt must to export a 'generateSql' function.`);\n    }\n    const generatedValue = migrationModule.generateSql();\n    if (typeof generatedValue !== \"string\") {\n        throw new Error(`Invalid javascript migration file: '${path.basename(filePath)}'.\n'generateSql' function must return a string literal.`);\n    }\n    return generatedValue;\n};\nexports.loadSqlFromJs = loadSqlFromJs;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.parseFileName = void 0;\nconst parseId = (id) => {\n    const parsed = parseInt(id, 10);\n    if (isNaN(parsed)) {\n        throw new Error(`Migration file name should begin with an integer ID.'`);\n    }\n    return parsed;\n};\nconst parseFileName = (fileName) => {\n    const result = /^(-?\\d+)[-_]?(.*).(sql|js)$/gi.exec(fileName);\n    if (!result) {\n        throw new Error(`Invalid file name: '${fileName}'.`);\n    }\n    const [, id, name, type] = result;\n    const lowerType = type.toLowerCase();\n    if (lowerType !== \"js\" && lowerType !== \"sql\") {\n        throw new Error(\"Not a JS or SQL file\");\n    }\n    return {\n        id: parseId(id),\n        name: name == null || name === \"\" ? fileName : name,\n        type: lowerType,\n    };\n};\nexports.parseFileName = parseFileName;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.loadMigrationFile = void 0;\nconst util_1 = require(\"util\");\nconst fs = require(\"fs\");\nconst path = require(\"path\");\nconst crypto = require(\"crypto\");\nconst load_sql_from_js_1 = require(\"./load-sql-from-js\");\nconst file_name_parser_1 = require(\"./file-name-parser\");\nconst readFile = util_1.promisify(fs.readFile);\nconst getFileName = (filePath) => path.basename(filePath);\nconst getFileContents = async (filePath) => readFile(filePath, \"utf8\");\nconst hashString = (s) => crypto.createHash(\"sha1\").update(s, \"utf8\").digest(\"hex\");\nconst getSqlStringLiteral = (filePath, contents, type) => {\n    switch (type) {\n        case \"sql\":\n            return contents;\n        case \"js\":\n            return load_sql_from_js_1.loadSqlFromJs(filePath);\n        default: {\n            const exhaustiveCheck = type;\n            return exhaustiveCheck;\n        }\n    }\n};\nconst loadMigrationFile = async (filePath) => {\n    const fileName = getFileName(filePath);\n    try {\n        const { id, name, type } = file_name_parser_1.parseFileName(fileName);\n        const contents = await getFileContents(filePath);\n        const sql = getSqlStringLiteral(filePath, contents, type);\n        const hash = hashString(fileName + sql);\n        return {\n            id,\n            name,\n            contents,\n            fileName,\n            hash,\n            sql,\n        };\n    }\n    catch (err) {\n        throw new Error(`${err.message} - Offending file: '${fileName}'.`);\n    }\n};\nexports.loadMigrationFile = loadMigrationFile;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.validateMigrationHashes = exports.validateMigrationOrdering = void 0;\nconst indexNotMatch = (migration, index) => migration.id !== index;\n/** Assert migration IDs are consecutive integers */\nfunction validateMigrationOrdering(migrations) {\n    const notMatchingId = migrations.find(indexNotMatch);\n    if (notMatchingId) {\n        throw new Error(`Found a non-consecutive migration ID on file: '${notMatchingId.fileName}'`);\n    }\n}\nexports.validateMigrationOrdering = validateMigrationOrdering;\n/** Assert hashes match */\nfunction validateMigrationHashes(migrations, appliedMigrations) {\n    const invalidHash = (migration) => {\n        const appliedMigration = appliedMigrations[migration.id];\n        return appliedMigration != null && appliedMigration.hash !== migration.hash;\n    };\n    // Assert migration hashes are still same\n    const invalidHashes = migrations.filter(invalidHash);\n    if (invalidHashes.length > 0) {\n        // Someone has altered one or more migrations which has already run - gasp!\n        const invalidFiles = invalidHashes.map(({ fileName }) => fileName);\n        throw new Error(`Hashes don't match for migrations '${invalidFiles}'.\nThis means that the scripts have changed since it was applied.`);\n    }\n}\nexports.validateMigrationHashes = validateMigrationHashes;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.loadMigrationFiles = void 0;\nconst fs = require(\"fs\");\nconst path = require(\"path\");\nconst util_1 = require(\"util\");\nconst migration_file_1 = require(\"./migration-file\");\nconst validation_1 = require(\"./validation\");\nconst readDir = util_1.promisify(fs.readdir);\nconst isValidFile = (fileName) => /\\.(sql|js)$/gi.test(fileName);\n/**\n * Load the migration files and assert they are reasonably valid.\n *\n * 'Reasonably valid' in this case means obeying the file name and\n * consecutive ordering rules.\n *\n * No assertions are made about the validity of the SQL.\n */\nconst loadMigrationFiles = async (directory, \n// tslint:disable-next-line no-empty\nlog = () => { }) => {\n    log(`Loading migrations from: ${directory}`);\n    const fileNames = await readDir(directory);\n    log(`Found migration files: ${fileNames}`);\n    if (fileNames == null) {\n        return [];\n    }\n    const migrationFiles = [\n        ...fileNames.map((fileName) => path.resolve(directory, fileName)),\n    ].filter(isValidFile);\n    const unorderedMigrations = await Promise.all(migrationFiles.map(migration_file_1.loadMigrationFile));\n    // Arrange in ID order\n    const orderedMigrations = unorderedMigrations.sort((a, b) => a.id - b.id);\n    validation_1.validateMigrationOrdering(orderedMigrations);\n    return orderedMigrations;\n};\nexports.loadMigrationFiles = loadMigrationFiles;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.runMigration = void 0;\nconst sql_template_strings_1 = require(\"sql-template-strings\");\nconst noop = () => {\n    //\n};\nconst insertMigration = async (migrationTableName = 'migrations', migrationSchemaName = 'public', client, migration, log) => {\n    log(`Saving migration to '${migrationSchemaName}.${migrationTableName}': ${migration.id} | ${migration.name} | ${migration.hash}`);\n    const sql = sql_template_strings_1.default `INSERT INTO `\n        .append(`${migrationSchemaName}.${migrationTableName}`)\n        .append(sql_template_strings_1.default ` (\"id\", \"name\", \"hash\") VALUES (${migration.id},${migration.name},${migration.hash})`);\n    return client.query(sql);\n};\nconst runMigration = (migrationTableName = 'migrations', migrationSchemaName = 'public', client, log = noop) => async (migration) => {\n    const inTransaction = migration.sql.includes(\"-- postgres-migrations disable-transaction\") === false;\n    log(`Running migration in transaction: ${inTransaction}`);\n    const begin = inTransaction ? () => client.query(\"START TRANSACTION\") : noop;\n    const end = inTransaction ? () => client.query(\"COMMIT\") : noop;\n    const cleanup = inTransaction ? () => client.query(\"ROLLBACK\") : noop;\n    try {\n        await begin();\n        await client.query(migration.sql);\n        await insertMigration(migrationTableName, migrationSchemaName, client, migration, log);\n        await end();\n        return migration;\n    }\n    catch (err) {\n        try {\n            await cleanup();\n        }\n        catch (_a) {\n            //\n        }\n        throw new Error(`An error occurred running '${migration.name}'. Rolled back this migration. No further migrations were run. Reason: ${err.message}`);\n    }\n};\nexports.runMigration = runMigration;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.withAdvisoryLock = void 0;\nfunction withAdvisoryLock(log, f) {\n    return async (client) => {\n        try {\n            try {\n                log(\"Acquiring advisory lock...\");\n                let acquired = false;\n                while (!acquired) {\n                    const lockResult = await client.query(\"SELECT pg_try_advisory_lock(-8525285245963000605);\");\n                    if (lockResult.rows[0].pg_try_advisory_lock === true) {\n                        acquired = true;\n                    }\n                    else {\n                        await new Promise((res) => setTimeout(res, 1000));\n                    }\n                }\n                log(\"... acquired advisory lock\");\n            }\n            catch (e) {\n                log(`Error acquiring advisory lock: ${e.message}`);\n                throw e;\n            }\n            const result = await f(client);\n            return result;\n        }\n        catch (e) {\n            log(`Error while using lock: ${e.message}`);\n            throw e;\n        }\n        finally {\n            try {\n                log(\"Releasing advisory lock...\");\n                await client.query(\"SELECT pg_advisory_unlock(-8525285245963000605);\");\n                log(\"... released advisory lock\");\n            }\n            catch (e) {\n                log(`Error releasing advisory lock: ${e.message}`);\n            }\n        }\n    };\n}\nexports.withAdvisoryLock = withAdvisoryLock;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.migrate = void 0;\nconst pg = require(\"pg\");\nconst sql_template_strings_1 = require(\"sql-template-strings\");\nconst create_1 = require(\"./create\");\nconst files_loader_1 = require(\"./files-loader\");\nconst run_migration_1 = require(\"./run-migration\");\nconst validation_1 = require(\"./validation\");\nconst with_connection_1 = require(\"./with-connection\");\nconst with_lock_1 = require(\"./with-lock\");\n/**\n * Run the migrations.\n *\n * If `dbConfig.ensureDatabaseExists` is true then `dbConfig.database` will be created if it\n * does not exist.\n *\n * @param dbConfig Details about how to connect to the database\n * @param migrationsDirectory Directory containing the SQL migration files\n * @param config Extra configuration\n * @returns Details about the migrations which were run\n */\nasync function migrate(dbConfig, migrationsDirectory, config = {}) {\n    const log = config.logger != null\n        ? config.logger\n        : () => {\n            //\n        };\n    const options = {\n        tableName: \"tableName\" in config && config.tableName !== undefined ? config.tableName : 'migrations',\n        schemaName: \"schemaName\" in config && config.schemaName !== undefined ? config.schemaName : 'public'\n    };\n    if (dbConfig == null) {\n        throw new Error(\"No config object\");\n    }\n    if (typeof migrationsDirectory !== \"string\") {\n        throw new Error(\"Must pass migrations directory as a string\");\n    }\n    const intendedMigrations = await files_loader_1.loadMigrationFiles(migrationsDirectory, log);\n    if (\"client\" in dbConfig) {\n        // we have been given a client to use, it should already be connected\n        return with_lock_1.withAdvisoryLock(log, runMigrations(intendedMigrations, log, options))(dbConfig.client);\n    }\n    if (typeof dbConfig.database !== \"string\" ||\n        typeof dbConfig.user !== \"string\" ||\n        typeof dbConfig.password !== \"string\" ||\n        typeof dbConfig.host !== \"string\" ||\n        typeof dbConfig.port !== \"number\") {\n        throw new Error(\"Database config problem\");\n    }\n    if (dbConfig.ensureDatabaseExists === true) {\n        // Check whether database exists\n        const { user, password, host, port } = dbConfig;\n        const client = new pg.Client({\n            database: dbConfig.defaultDatabase != null\n                ? dbConfig.defaultDatabase\n                : \"postgres\",\n            user,\n            password,\n            host,\n            port,\n        });\n        const runWith = with_connection_1.withConnection(log, async (connectedClient) => {\n            const result = await connectedClient.query({\n                text: \"SELECT 1 FROM pg_database WHERE datname=$1\",\n                values: [dbConfig.database],\n            });\n            if (result.rowCount !== 1) {\n                await create_1.runCreateQuery(dbConfig.database, log)(connectedClient);\n            }\n        });\n        await runWith(client);\n        // ---\n        const runWith1 = with_connection_1.withConnection(log, async (connectedClient) => {\n            await create_1.runSchemaQuery(options.schemaName, log)(connectedClient);\n        });\n        await runWith1(client);\n    }\n    {\n        const client = new pg.Client(dbConfig);\n        client.on(\"error\", (err) => {\n            log(`pg client emitted an error: ${err.message}`);\n        });\n        const runWith = with_connection_1.withConnection(log, with_lock_1.withAdvisoryLock(log, runMigrations(intendedMigrations, log, options)));\n        return runWith(client);\n    }\n}\nexports.migrate = migrate;\nfunction runMigrations(intendedMigrations, log, options) {\n    return async (client) => {\n        try {\n            log(`Starting migrations against schema ${options.schemaName}`);\n            const appliedMigrations = await fetchAppliedMigrationFromDB(options.tableName, options.schemaName, client, log);\n            validation_1.validateMigrationHashes(intendedMigrations, appliedMigrations);\n            const migrationsToRun = filterMigrations(intendedMigrations, appliedMigrations);\n            const completedMigrations = [];\n            for (const migration of migrationsToRun) {\n                log(`Starting migration: ${migration.id} ${migration.name}`);\n                const result = await run_migration_1.runMigration(options.tableName, options.schemaName, client, log)(migration);\n                log(`Finished migration: ${migration.id} ${migration.name}`);\n                completedMigrations.push(result);\n            }\n            logResult(completedMigrations, log);\n            log(\"Finished migrations\");\n            return completedMigrations;\n        }\n        catch (e) {\n            const error = new Error(`Migration failed. Reason: ${e.message}`);\n            error.cause = e.message;\n            throw error;\n        }\n    };\n}\n/** Queries the database for migrations table and retrieve it rows if exists */\nasync function fetchAppliedMigrationFromDB(migrationTableName, migrationSchemaName, client, log) {\n    let appliedMigrations = [];\n    if (await doesTableExist(client, migrationTableName, migrationSchemaName)) {\n        log(`Migrations table with name '${migrationSchemaName}.${migrationTableName}' exists, filtering not applied migrations.`);\n        const { rows } = await client.query(`SELECT * FROM ${migrationSchemaName}.${migrationTableName} ORDER BY id`);\n        appliedMigrations = rows;\n    }\n    else {\n        await client.query(`\n        CREATE TABLE IF NOT EXISTS ${migrationSchemaName}.${migrationTableName} (\n          id integer PRIMARY KEY,\n          name varchar(100) UNIQUE NOT NULL,\n          hash varchar(40) NOT NULL, -- sha1 hex encoded hash of the file name and contents, to ensure it hasn't been altered since applying the migration\n          executed_at timestamp DEFAULT current_timestamp\n        );\n    `);\n        log(`Migrations table with name '${migrationSchemaName}.${migrationTableName}' has been created!`);\n    }\n    return appliedMigrations;\n}\n/** Work out which migrations to apply */\nfunction filterMigrations(migrations, appliedMigrations) {\n    const notAppliedMigration = (migration) => !appliedMigrations[migration.id];\n    return migrations.filter(notAppliedMigration);\n}\n/** Logs the result */\nfunction logResult(completedMigrations, log) {\n    if (completedMigrations.length === 0) {\n        log(\"No migrations applied\");\n    }\n    else {\n        log(`Successfully applied migrations: ${completedMigrations.map(({ name }) => name)}`);\n    }\n}\n/** Check whether table exists in postgres - http://stackoverflow.com/a/24089729 */\nasync function doesTableExist(client, tableName, schemaName) {\n    const result = await client.query(sql_template_strings_1.default `SELECT EXISTS (\n    SELECT 1\n    FROM information_schema.tables\n    WHERE table_schema = ${schemaName}\n    AND table_name = ${tableName}\n  );`);\n    return result.rows.length > 0 && result.rows[0].exists;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MigrationError = void 0;\nclass MigrationError extends Error {\n}\nexports.MigrationError = MigrationError;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MigrationError = exports.loadMigrationFiles = exports.migrate = exports.createDb = void 0;\nvar create_1 = require(\"./create\");\nObject.defineProperty(exports, \"createDb\", { enumerable: true, get: function () { return create_1.createDb; } });\nvar migrate_1 = require(\"./migrate\");\nObject.defineProperty(exports, \"migrate\", { enumerable: true, get: function () { return migrate_1.migrate; } });\nvar files_loader_1 = require(\"./files-loader\");\nObject.defineProperty(exports, \"loadMigrationFiles\", { enumerable: true, get: function () { return files_loader_1.loadMigrationFiles; } });\nvar types_1 = require(\"./types\");\nObject.defineProperty(exports, \"MigrationError\", { enumerable: true, get: function () { return types_1.MigrationError; } });\n","// src/stripeSync.ts\nimport Stripe2 from \"stripe\";\nimport { pg as sql2 } from \"yesql\";\n\n// src/database/postgres.ts\nimport pg from \"pg\";\nimport { pg as sql } from \"yesql\";\nvar ORDERED_STRIPE_TABLES = [\n  \"subscription_items\",\n  \"subscriptions\",\n  \"subscription_schedules\",\n  \"checkout_session_line_items\",\n  \"checkout_sessions\",\n  \"tax_ids\",\n  \"charges\",\n  \"refunds\",\n  \"credit_notes\",\n  \"disputes\",\n  \"early_fraud_warnings\",\n  \"invoices\",\n  \"payment_intents\",\n  \"payment_methods\",\n  \"setup_intents\",\n  \"prices\",\n  \"plans\",\n  \"products\",\n  \"features\",\n  \"active_entitlements\",\n  \"reviews\",\n  \"_managed_webhooks\",\n  \"customers\",\n  \"_sync_status\"\n];\nvar PostgresClient = class {\n  constructor(config) {\n    this.config = config;\n    this.pool = new pg.Pool(config.poolConfig);\n  }\n  pool;\n  async delete(table, id) {\n    const prepared = sql(`\n    delete from \"${this.config.schema}\".\"${table}\"\n    where id = :id\n    returning id;\n    `)({ id });\n    const { rows } = await this.query(prepared.text, prepared.values);\n    return rows.length > 0;\n  }\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  async query(text, params) {\n    return this.pool.query(text, params);\n  }\n  async upsertMany(entries, table) {\n    if (!entries.length) return [];\n    const chunkSize = 5;\n    const results = [];\n    for (let i = 0; i < entries.length; i += chunkSize) {\n      const chunk = entries.slice(i, i + chunkSize);\n      const queries = [];\n      chunk.forEach((entry) => {\n        const rawData = JSON.stringify(entry);\n        const upsertSql = `\n          INSERT INTO \"${this.config.schema}\".\"${table}\" (\"_raw_data\")\n          VALUES ($1::jsonb)\n          ON CONFLICT (id)\n          DO UPDATE SET\n            \"_raw_data\" = EXCLUDED.\"_raw_data\"\n          RETURNING *\n        `;\n        queries.push(this.pool.query(upsertSql, [rawData]));\n      });\n      results.push(...await Promise.all(queries));\n    }\n    return results.flatMap((it) => it.rows);\n  }\n  async upsertManyWithTimestampProtection(entries, table, accountId, syncTimestamp) {\n    const timestamp = syncTimestamp || (/* @__PURE__ */ new Date()).toISOString();\n    if (!entries.length) return [];\n    const chunkSize = 5;\n    const results = [];\n    for (let i = 0; i < entries.length; i += chunkSize) {\n      const chunk = entries.slice(i, i + chunkSize);\n      const queries = [];\n      chunk.forEach((entry) => {\n        if (table.startsWith(\"_\")) {\n          const columns = Object.keys(entry).filter(\n            (k) => k !== \"last_synced_at\" && k !== \"account_id\"\n          );\n          const upsertSql = `\n            INSERT INTO \"${this.config.schema}\".\"${table}\" (\n              ${columns.map((c) => `\"${c}\"`).join(\", \")}, \"last_synced_at\", \"account_id\"\n            )\n            VALUES (\n              ${columns.map((c) => `:${c}`).join(\", \")}, :last_synced_at, :account_id\n            )\n            ON CONFLICT (\"id\")\n            DO UPDATE SET\n              ${columns.map((c) => `\"${c}\" = EXCLUDED.\"${c}\"`).join(\", \")},\n              \"last_synced_at\" = :last_synced_at,\n              \"account_id\" = EXCLUDED.\"account_id\"\n            WHERE \"${table}\".\"last_synced_at\" IS NULL\n               OR \"${table}\".\"last_synced_at\" < :last_synced_at\n            RETURNING *\n          `;\n          const cleansed = this.cleanseArrayField(entry);\n          cleansed.last_synced_at = timestamp;\n          cleansed.account_id = accountId;\n          const prepared = sql(upsertSql, { useNullForMissing: true })(cleansed);\n          queries.push(this.pool.query(prepared.text, prepared.values));\n        } else {\n          const rawData = JSON.stringify(entry);\n          const upsertSql = `\n            INSERT INTO \"${this.config.schema}\".\"${table}\" (\"_raw_data\", \"_last_synced_at\", \"_account_id\")\n            VALUES ($1::jsonb, $2, $3)\n            ON CONFLICT (id)\n            DO UPDATE SET\n              \"_raw_data\" = EXCLUDED.\"_raw_data\",\n              \"_last_synced_at\" = $2,\n              \"_account_id\" = EXCLUDED.\"_account_id\"\n            WHERE \"${table}\".\"_last_synced_at\" IS NULL\n               OR \"${table}\".\"_last_synced_at\" < $2\n            RETURNING *\n          `;\n          queries.push(this.pool.query(upsertSql, [rawData, timestamp, accountId]));\n        }\n      });\n      results.push(...await Promise.all(queries));\n    }\n    return results.flatMap((it) => it.rows);\n  }\n  cleanseArrayField(obj) {\n    const cleansed = { ...obj };\n    Object.keys(cleansed).map((k) => {\n      const data = cleansed[k];\n      if (Array.isArray(data)) {\n        cleansed[k] = JSON.stringify(data);\n      }\n    });\n    return cleansed;\n  }\n  async findMissingEntries(table, ids) {\n    if (!ids.length) return [];\n    const prepared = sql(`\n    select id from \"${this.config.schema}\".\"${table}\"\n    where id=any(:ids::text[]);\n    `)({ ids });\n    const { rows } = await this.query(prepared.text, prepared.values);\n    const existingIds = rows.map((it) => it.id);\n    const missingIds = ids.filter((it) => !existingIds.includes(it));\n    return missingIds;\n  }\n  // Sync status tracking methods for incremental backfill\n  async getSyncCursor(resource, accountId) {\n    const result = await this.query(\n      `SELECT EXTRACT(EPOCH FROM last_incremental_cursor)::integer as cursor\n       FROM \"${this.config.schema}\".\"_sync_status\"\n       WHERE resource = $1 AND \"account_id\" = $2`,\n      [resource, accountId]\n    );\n    const cursor = result.rows[0]?.cursor ?? null;\n    return cursor;\n  }\n  async updateSyncCursor(resource, accountId, cursor) {\n    await this.query(\n      `INSERT INTO \"${this.config.schema}\".\"_sync_status\" (resource, \"account_id\", last_incremental_cursor, status, last_synced_at)\n       VALUES ($1, $2, to_timestamp($3), 'running', now())\n       ON CONFLICT (resource, \"account_id\")\n       DO UPDATE SET\n         last_incremental_cursor = GREATEST(\n           COALESCE(\"${this.config.schema}\".\"_sync_status\".last_incremental_cursor, to_timestamp(0)),\n           to_timestamp($3)\n         ),\n         last_synced_at = now(),\n         updated_at = now()`,\n      [resource, accountId, cursor.toString()]\n    );\n  }\n  async markSyncRunning(resource, accountId) {\n    await this.query(\n      `INSERT INTO \"${this.config.schema}\".\"_sync_status\" (resource, \"account_id\", status)\n       VALUES ($1, $2, 'running')\n       ON CONFLICT (resource, \"account_id\")\n       DO UPDATE SET status = 'running', updated_at = now()`,\n      [resource, accountId]\n    );\n  }\n  async markSyncComplete(resource, accountId) {\n    await this.query(\n      `UPDATE \"${this.config.schema}\".\"_sync_status\"\n       SET status = 'complete', error_message = NULL, updated_at = now()\n       WHERE resource = $1 AND \"account_id\" = $2`,\n      [resource, accountId]\n    );\n  }\n  async markSyncError(resource, accountId, errorMessage) {\n    await this.query(\n      `UPDATE \"${this.config.schema}\".\"_sync_status\"\n       SET status = 'error', error_message = $3, updated_at = now()\n       WHERE resource = $1 AND \"account_id\" = $2`,\n      [resource, accountId, errorMessage]\n    );\n  }\n  // Account management methods\n  async upsertAccount(accountData, apiKeyHash) {\n    const rawData = JSON.stringify(accountData.raw_data);\n    await this.query(\n      `INSERT INTO \"${this.config.schema}\".\"accounts\" (\"_raw_data\", \"api_key_hashes\", \"first_synced_at\", \"_last_synced_at\")\n       VALUES ($1::jsonb, ARRAY[$2], now(), now())\n       ON CONFLICT (id)\n       DO UPDATE SET\n         \"_raw_data\" = EXCLUDED.\"_raw_data\",\n         \"api_key_hashes\" = (\n           SELECT ARRAY(\n             SELECT DISTINCT unnest(\n               COALESCE(\"${this.config.schema}\".\"accounts\".\"api_key_hashes\", '{}') || ARRAY[$2]\n             )\n           )\n         ),\n         \"_last_synced_at\" = now(),\n         \"_updated_at\" = now()`,\n      [rawData, apiKeyHash]\n    );\n  }\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  async getAllAccounts() {\n    const result = await this.query(\n      `SELECT _raw_data FROM \"${this.config.schema}\".\"accounts\"\n       ORDER BY _last_synced_at DESC`\n    );\n    return result.rows.map((row) => row._raw_data);\n  }\n  /**\n   * Looks up an account ID by API key hash\n   * Uses the GIN index on api_key_hashes for fast lookups\n   * @param apiKeyHash - SHA-256 hash of the Stripe API key\n   * @returns Account ID if found, null otherwise\n   */\n  async getAccountIdByApiKeyHash(apiKeyHash) {\n    const result = await this.query(\n      `SELECT id FROM \"${this.config.schema}\".\"accounts\"\n       WHERE $1 = ANY(api_key_hashes)\n       LIMIT 1`,\n      [apiKeyHash]\n    );\n    return result.rows.length > 0 ? result.rows[0].id : null;\n  }\n  async getAccountRecordCounts(accountId) {\n    const counts = {};\n    for (const table of ORDERED_STRIPE_TABLES) {\n      const accountIdColumn = table.startsWith(\"_\") ? \"account_id\" : \"_account_id\";\n      const result = await this.query(\n        `SELECT COUNT(*) as count FROM \"${this.config.schema}\".\"${table}\"\n         WHERE \"${accountIdColumn}\" = $1`,\n        [accountId]\n      );\n      counts[table] = parseInt(result.rows[0].count);\n    }\n    return counts;\n  }\n  async deleteAccountWithCascade(accountId, useTransaction) {\n    const deletionCounts = {};\n    try {\n      if (useTransaction) {\n        await this.query(\"BEGIN\");\n      }\n      for (const table of ORDERED_STRIPE_TABLES) {\n        const accountIdColumn = table.startsWith(\"_\") ? \"account_id\" : \"_account_id\";\n        const result = await this.query(\n          `DELETE FROM \"${this.config.schema}\".\"${table}\"\n           WHERE \"${accountIdColumn}\" = $1`,\n          [accountId]\n        );\n        deletionCounts[table] = result.rowCount || 0;\n      }\n      const accountResult = await this.query(\n        `DELETE FROM \"${this.config.schema}\".\"accounts\"\n         WHERE \"id\" = $1`,\n        [accountId]\n      );\n      deletionCounts[\"accounts\"] = accountResult.rowCount || 0;\n      if (useTransaction) {\n        await this.query(\"COMMIT\");\n      }\n    } catch (error) {\n      if (useTransaction) {\n        await this.query(\"ROLLBACK\");\n      }\n      throw error;\n    }\n    return deletionCounts;\n  }\n  /**\n   * Hash a string to a 32-bit integer for use with PostgreSQL advisory locks.\n   * Uses a simple hash algorithm that produces consistent results.\n   */\n  hashToInt32(key) {\n    let hash = 0;\n    for (let i = 0; i < key.length; i++) {\n      const char = key.charCodeAt(i);\n      hash = (hash << 5) - hash + char;\n      hash = hash & hash;\n    }\n    return hash;\n  }\n  /**\n   * Acquire a PostgreSQL advisory lock for the given key.\n   * This lock is automatically released when the connection is closed or explicitly released.\n   * Advisory locks are session-level and will block until the lock is available.\n   *\n   * @param key - A string key to lock on (will be hashed to an integer)\n   */\n  async acquireAdvisoryLock(key) {\n    const lockId = this.hashToInt32(key);\n    await this.query(\"SELECT pg_advisory_lock($1)\", [lockId]);\n  }\n  /**\n   * Release a PostgreSQL advisory lock for the given key.\n   *\n   * @param key - The same string key used to acquire the lock\n   */\n  async releaseAdvisoryLock(key) {\n    const lockId = this.hashToInt32(key);\n    await this.query(\"SELECT pg_advisory_unlock($1)\", [lockId]);\n  }\n  /**\n   * Execute a function while holding an advisory lock.\n   * The lock is automatically released after the function completes (success or error).\n   *\n   * IMPORTANT: This acquires a dedicated connection from the pool and holds it for the\n   * duration of the function execution. PostgreSQL advisory locks are session-level,\n   * so we must use the same connection for lock acquisition, operations, and release.\n   *\n   * @param key - A string key to lock on (will be hashed to an integer)\n   * @param fn - The function to execute while holding the lock\n   * @returns The result of the function\n   */\n  async withAdvisoryLock(key, fn) {\n    const lockId = this.hashToInt32(key);\n    const client = await this.pool.connect();\n    try {\n      await client.query(\"SELECT pg_advisory_lock($1)\", [lockId]);\n      return await fn();\n    } finally {\n      try {\n        await client.query(\"SELECT pg_advisory_unlock($1)\", [lockId]);\n      } finally {\n        client.release();\n      }\n    }\n  }\n};\n\n// src/schemas/managed_webhook.ts\nvar managedWebhookSchema = {\n  properties: [\n    \"id\",\n    \"object\",\n    \"url\",\n    \"enabled_events\",\n    \"description\",\n    \"enabled\",\n    \"livemode\",\n    \"metadata\",\n    \"secret\",\n    \"status\",\n    \"api_version\",\n    \"created\",\n    \"account_id\"\n  ]\n};\n\n// src/utils/retry.ts\nimport Stripe from \"stripe\";\nvar DEFAULT_RETRY_CONFIG = {\n  maxRetries: 5,\n  initialDelayMs: 1e3,\n  // 1 second\n  maxDelayMs: 6e4,\n  // 60 seconds\n  jitterMs: 500\n  // randomization to prevent thundering herd\n};\nfunction isRetryableError(error) {\n  if (error instanceof Stripe.errors.StripeRateLimitError) {\n    return true;\n  }\n  if (error instanceof Stripe.errors.StripeAPIError) {\n    const statusCode = error.statusCode;\n    if (statusCode && [500, 502, 503, 504, 424].includes(statusCode)) {\n      return true;\n    }\n  }\n  if (error instanceof Stripe.errors.StripeConnectionError) {\n    return true;\n  }\n  return false;\n}\nfunction getRetryAfterMs(error) {\n  if (!(error instanceof Stripe.errors.StripeRateLimitError)) {\n    return null;\n  }\n  const retryAfterHeader = error.headers?.[\"retry-after\"];\n  if (!retryAfterHeader) {\n    return null;\n  }\n  const retryAfterSeconds = Number(retryAfterHeader);\n  if (isNaN(retryAfterSeconds) || retryAfterSeconds <= 0) {\n    return null;\n  }\n  return retryAfterSeconds * 1e3;\n}\nfunction calculateDelay(attempt, config, retryAfterMs) {\n  if (retryAfterMs !== null && retryAfterMs !== void 0) {\n    const jitter2 = Math.random() * config.jitterMs;\n    return retryAfterMs + jitter2;\n  }\n  const exponentialDelay = Math.min(config.initialDelayMs * Math.pow(2, attempt), config.maxDelayMs);\n  const jitter = Math.random() * config.jitterMs;\n  return exponentialDelay + jitter;\n}\nfunction sleep(ms) {\n  return new Promise((resolve) => setTimeout(resolve, ms));\n}\nfunction getErrorType(error) {\n  if (error instanceof Stripe.errors.StripeRateLimitError) {\n    return \"rate_limit\";\n  }\n  if (error instanceof Stripe.errors.StripeAPIError) {\n    return `api_error_${error.statusCode}`;\n  }\n  if (error instanceof Stripe.errors.StripeConnectionError) {\n    return \"connection_error\";\n  }\n  return \"unknown\";\n}\nasync function withRetry(fn, config = {}, logger) {\n  const retryConfig = { ...DEFAULT_RETRY_CONFIG, ...config };\n  let lastError;\n  for (let attempt = 0; attempt <= retryConfig.maxRetries; attempt++) {\n    try {\n      return await fn();\n    } catch (error) {\n      lastError = error;\n      if (!isRetryableError(error)) {\n        throw error;\n      }\n      if (attempt >= retryConfig.maxRetries) {\n        logger?.error(\n          {\n            error: error instanceof Error ? error.message : String(error),\n            errorType: getErrorType(error),\n            attempt: attempt + 1,\n            maxRetries: retryConfig.maxRetries\n          },\n          \"Max retries exhausted for Stripe error\"\n        );\n        throw error;\n      }\n      const retryAfterMs = getRetryAfterMs(error);\n      const delay = calculateDelay(attempt, retryConfig, retryAfterMs);\n      logger?.warn(\n        {\n          error: error instanceof Error ? error.message : String(error),\n          errorType: getErrorType(error),\n          attempt: attempt + 1,\n          maxRetries: retryConfig.maxRetries,\n          delayMs: Math.round(delay),\n          retryAfterMs: retryAfterMs ?? void 0,\n          nextAttempt: attempt + 2\n        },\n        \"Transient Stripe error, retrying after delay\"\n      );\n      await sleep(delay);\n    }\n  }\n  throw lastError;\n}\n\n// src/utils/stripeClientWrapper.ts\nfunction createRetryableStripeClient(stripe, retryConfig = {}, logger) {\n  const isTest = process.env.NODE_ENV === \"test\" || process.env.VITEST === \"true\" || process.env.JEST_WORKER_ID !== void 0;\n  if (isTest) {\n    return stripe;\n  }\n  return new Proxy(stripe, {\n    get(target, prop, receiver) {\n      const original = Reflect.get(target, prop, receiver);\n      if (original && typeof original === \"object\" && !isPromise(original)) {\n        return wrapResource(original, retryConfig, logger);\n      }\n      return original;\n    }\n  });\n}\nfunction wrapResource(resource, retryConfig, logger) {\n  return new Proxy(resource, {\n    get(target, prop, receiver) {\n      const original = Reflect.get(target, prop, receiver);\n      if (typeof original === \"function\") {\n        return function(...args) {\n          const result = original.apply(target, args);\n          if (result && typeof result === \"object\" && Symbol.asyncIterator in result) {\n            return result;\n          }\n          if (isPromise(result)) {\n            return withRetry(() => Promise.resolve(result), retryConfig, logger);\n          }\n          return result;\n        };\n      }\n      if (original && typeof original === \"object\" && !isPromise(original)) {\n        return wrapResource(original, retryConfig, logger);\n      }\n      return original;\n    }\n  });\n}\nfunction isPromise(value) {\n  return value !== null && typeof value === \"object\" && typeof value.then === \"function\";\n}\n\n// src/utils/hashApiKey.ts\nimport { createHash } from \"crypto\";\nfunction hashApiKey(apiKey) {\n  return createHash(\"sha256\").update(apiKey).digest(\"hex\");\n}\n\n// src/stripeSync.ts\nfunction getUniqueIds(entries, key) {\n  const set = new Set(\n    entries.map((subscription) => subscription?.[key]?.toString()).filter((it) => Boolean(it))\n  );\n  return Array.from(set);\n}\nvar StripeSync = class {\n  constructor(config) {\n    this.config = config;\n    const baseStripe = new Stripe2(config.stripeSecretKey, {\n      // https://github.com/stripe/stripe-node#configuration\n      // @ts-ignore\n      apiVersion: config.stripeApiVersion,\n      appInfo: {\n        name: \"Stripe Postgres Sync\"\n      }\n    });\n    this.stripe = createRetryableStripeClient(baseStripe, {}, config.logger);\n    this.config.logger = config.logger ?? console;\n    this.config.logger?.info(\n      { autoExpandLists: config.autoExpandLists, stripeApiVersion: config.stripeApiVersion },\n      \"StripeSync initialized\"\n    );\n    const poolConfig = config.poolConfig ?? {};\n    if (config.databaseUrl) {\n      poolConfig.connectionString = config.databaseUrl;\n    }\n    if (config.maxPostgresConnections) {\n      poolConfig.max = config.maxPostgresConnections;\n    }\n    if (poolConfig.max === void 0) {\n      poolConfig.max = 10;\n    }\n    if (poolConfig.keepAlive === void 0) {\n      poolConfig.keepAlive = true;\n    }\n    this.postgresClient = new PostgresClient({\n      schema: \"stripe\",\n      poolConfig\n    });\n  }\n  stripe;\n  postgresClient;\n  cachedAccount = null;\n  /**\n   * Get the Stripe account ID. Uses database lookup by API key hash for fast lookups,\n   * with fallback to Stripe API if not found (first-time setup or new API key).\n   */\n  async getAccountId(objectAccountId) {\n    if (this.cachedAccount?.id) {\n      return this.cachedAccount.id;\n    }\n    const apiKeyHash = hashApiKey(this.config.stripeSecretKey);\n    try {\n      const accountId = await this.postgresClient.getAccountIdByApiKeyHash(apiKeyHash);\n      if (accountId) {\n        return accountId;\n      }\n    } catch (error) {\n      this.config.logger?.warn(\n        error,\n        \"Failed to lookup account by API key hash, falling back to API\"\n      );\n    }\n    let account;\n    try {\n      const accountIdParam = objectAccountId || this.config.stripeAccountId;\n      account = accountIdParam ? await this.stripe.accounts.retrieve(accountIdParam) : await this.stripe.accounts.retrieve();\n    } catch (error) {\n      this.config.logger?.error(error, \"Failed to retrieve account from Stripe API\");\n      throw new Error(\"Failed to retrieve Stripe account. Please ensure API key is valid.\");\n    }\n    this.cachedAccount = account;\n    await this.upsertAccount(account, apiKeyHash);\n    return account.id;\n  }\n  /**\n   * Upsert Stripe account information to the database\n   * @param account - Stripe account object\n   * @param apiKeyHash - SHA-256 hash of API key to store for fast lookups\n   */\n  async upsertAccount(account, apiKeyHash) {\n    try {\n      await this.postgresClient.upsertAccount(\n        {\n          id: account.id,\n          raw_data: account\n        },\n        apiKeyHash\n      );\n    } catch (error) {\n      this.config.logger?.error(error, \"Failed to upsert account to database\");\n      const errorMessage = error instanceof Error ? error.message : \"Unknown error\";\n      throw new Error(`Failed to upsert account to database: ${errorMessage}`);\n    }\n  }\n  /**\n   * Get the current account being synced\n   */\n  async getCurrentAccount() {\n    if (this.cachedAccount) {\n      return this.cachedAccount;\n    }\n    await this.getAccountId();\n    return this.cachedAccount;\n  }\n  /**\n   * Get all accounts that have been synced to the database\n   */\n  async getAllSyncedAccounts() {\n    try {\n      const accountsData = await this.postgresClient.getAllAccounts();\n      return accountsData;\n    } catch (error) {\n      this.config.logger?.error(error, \"Failed to retrieve accounts from database\");\n      throw new Error(\"Failed to retrieve synced accounts from database\");\n    }\n  }\n  /**\n   * DANGEROUS: Delete an account and all associated data from the database\n   * This operation cannot be undone!\n   *\n   * @param accountId - The Stripe account ID to delete\n   * @param options - Options for deletion behavior\n   * @param options.dryRun - If true, only count records without deleting (default: false)\n   * @param options.useTransaction - If true, use transaction for atomic deletion (default: true)\n   * @returns Deletion summary with counts and warnings\n   */\n  async dangerouslyDeleteSyncedAccountData(accountId, options) {\n    const dryRun = options?.dryRun ?? false;\n    const useTransaction = options?.useTransaction ?? true;\n    this.config.logger?.info(\n      `${dryRun ? \"Preview\" : \"Deleting\"} account ${accountId} (transaction: ${useTransaction})`\n    );\n    try {\n      const counts = await this.postgresClient.getAccountRecordCounts(accountId);\n      const warnings = [];\n      let totalRecords = 0;\n      for (const [table, count] of Object.entries(counts)) {\n        if (count > 0) {\n          totalRecords += count;\n          warnings.push(`Will delete ${count} ${table} record${count !== 1 ? \"s\" : \"\"}`);\n        }\n      }\n      if (totalRecords > 1e5) {\n        warnings.push(\n          `Large dataset detected (${totalRecords} total records). Consider using useTransaction: false for better performance.`\n        );\n      }\n      if (this.cachedAccount?.id === accountId) {\n        warnings.push(\n          \"Warning: Deleting the current account. Cache will be cleared after deletion.\"\n        );\n      }\n      if (dryRun) {\n        this.config.logger?.info(`Dry-run complete: ${totalRecords} total records would be deleted`);\n        return {\n          deletedAccountId: accountId,\n          deletedRecordCounts: counts,\n          warnings\n        };\n      }\n      const deletionCounts = await this.postgresClient.deleteAccountWithCascade(\n        accountId,\n        useTransaction\n      );\n      if (this.cachedAccount?.id === accountId) {\n        this.cachedAccount = null;\n      }\n      this.config.logger?.info(\n        `Successfully deleted account ${accountId} with ${totalRecords} total records`\n      );\n      return {\n        deletedAccountId: accountId,\n        deletedRecordCounts: deletionCounts,\n        warnings\n      };\n    } catch (error) {\n      this.config.logger?.error(error, `Failed to delete account ${accountId}`);\n      const errorMessage = error instanceof Error ? error.message : \"Unknown error\";\n      throw new Error(`Failed to delete account ${accountId}: ${errorMessage}`);\n    }\n  }\n  async processWebhook(payload, signature) {\n    let webhookSecret = this.config.stripeWebhookSecret;\n    if (!webhookSecret) {\n      const accountId = await this.getAccountId();\n      const result = await this.postgresClient.query(\n        `SELECT secret FROM \"stripe\".\"_managed_webhooks\" WHERE account_id = $1 LIMIT 1`,\n        [accountId]\n      );\n      if (result.rows.length > 0) {\n        webhookSecret = result.rows[0].secret;\n      }\n    }\n    if (!webhookSecret) {\n      throw new Error(\n        \"No webhook secret provided. Either create a managed webhook or configure stripeWebhookSecret.\"\n      );\n    }\n    const event = await this.stripe.webhooks.constructEventAsync(payload, signature, webhookSecret);\n    return this.processEvent(event);\n  }\n  // Event handler registry - maps event types to handler functions\n  // Note: Uses 'any' for event parameter to allow handlers with specific Stripe event types\n  // (e.g., CustomerDeletedEvent, ProductDeletedEvent) which TypeScript won't accept\n  // as contravariant parameters when using the base Stripe.Event type\n  eventHandlers = {\n    \"charge.captured\": this.handleChargeEvent.bind(this),\n    \"charge.expired\": this.handleChargeEvent.bind(this),\n    \"charge.failed\": this.handleChargeEvent.bind(this),\n    \"charge.pending\": this.handleChargeEvent.bind(this),\n    \"charge.refunded\": this.handleChargeEvent.bind(this),\n    \"charge.succeeded\": this.handleChargeEvent.bind(this),\n    \"charge.updated\": this.handleChargeEvent.bind(this),\n    \"customer.deleted\": this.handleCustomerDeletedEvent.bind(this),\n    \"customer.created\": this.handleCustomerEvent.bind(this),\n    \"customer.updated\": this.handleCustomerEvent.bind(this),\n    \"checkout.session.async_payment_failed\": this.handleCheckoutSessionEvent.bind(this),\n    \"checkout.session.async_payment_succeeded\": this.handleCheckoutSessionEvent.bind(this),\n    \"checkout.session.completed\": this.handleCheckoutSessionEvent.bind(this),\n    \"checkout.session.expired\": this.handleCheckoutSessionEvent.bind(this),\n    \"customer.subscription.created\": this.handleSubscriptionEvent.bind(this),\n    \"customer.subscription.deleted\": this.handleSubscriptionEvent.bind(this),\n    \"customer.subscription.paused\": this.handleSubscriptionEvent.bind(this),\n    \"customer.subscription.pending_update_applied\": this.handleSubscriptionEvent.bind(this),\n    \"customer.subscription.pending_update_expired\": this.handleSubscriptionEvent.bind(this),\n    \"customer.subscription.trial_will_end\": this.handleSubscriptionEvent.bind(this),\n    \"customer.subscription.resumed\": this.handleSubscriptionEvent.bind(this),\n    \"customer.subscription.updated\": this.handleSubscriptionEvent.bind(this),\n    \"customer.tax_id.updated\": this.handleTaxIdEvent.bind(this),\n    \"customer.tax_id.created\": this.handleTaxIdEvent.bind(this),\n    \"customer.tax_id.deleted\": this.handleTaxIdDeletedEvent.bind(this),\n    \"invoice.created\": this.handleInvoiceEvent.bind(this),\n    \"invoice.deleted\": this.handleInvoiceEvent.bind(this),\n    \"invoice.finalized\": this.handleInvoiceEvent.bind(this),\n    \"invoice.finalization_failed\": this.handleInvoiceEvent.bind(this),\n    \"invoice.paid\": this.handleInvoiceEvent.bind(this),\n    \"invoice.payment_action_required\": this.handleInvoiceEvent.bind(this),\n    \"invoice.payment_failed\": this.handleInvoiceEvent.bind(this),\n    \"invoice.payment_succeeded\": this.handleInvoiceEvent.bind(this),\n    \"invoice.upcoming\": this.handleInvoiceEvent.bind(this),\n    \"invoice.sent\": this.handleInvoiceEvent.bind(this),\n    \"invoice.voided\": this.handleInvoiceEvent.bind(this),\n    \"invoice.marked_uncollectible\": this.handleInvoiceEvent.bind(this),\n    \"invoice.updated\": this.handleInvoiceEvent.bind(this),\n    \"product.created\": this.handleProductEvent.bind(this),\n    \"product.updated\": this.handleProductEvent.bind(this),\n    \"product.deleted\": this.handleProductDeletedEvent.bind(this),\n    \"price.created\": this.handlePriceEvent.bind(this),\n    \"price.updated\": this.handlePriceEvent.bind(this),\n    \"price.deleted\": this.handlePriceDeletedEvent.bind(this),\n    \"plan.created\": this.handlePlanEvent.bind(this),\n    \"plan.updated\": this.handlePlanEvent.bind(this),\n    \"plan.deleted\": this.handlePlanDeletedEvent.bind(this),\n    \"setup_intent.canceled\": this.handleSetupIntentEvent.bind(this),\n    \"setup_intent.created\": this.handleSetupIntentEvent.bind(this),\n    \"setup_intent.requires_action\": this.handleSetupIntentEvent.bind(this),\n    \"setup_intent.setup_failed\": this.handleSetupIntentEvent.bind(this),\n    \"setup_intent.succeeded\": this.handleSetupIntentEvent.bind(this),\n    \"subscription_schedule.aborted\": this.handleSubscriptionScheduleEvent.bind(this),\n    \"subscription_schedule.canceled\": this.handleSubscriptionScheduleEvent.bind(this),\n    \"subscription_schedule.completed\": this.handleSubscriptionScheduleEvent.bind(this),\n    \"subscription_schedule.created\": this.handleSubscriptionScheduleEvent.bind(this),\n    \"subscription_schedule.expiring\": this.handleSubscriptionScheduleEvent.bind(this),\n    \"subscription_schedule.released\": this.handleSubscriptionScheduleEvent.bind(this),\n    \"subscription_schedule.updated\": this.handleSubscriptionScheduleEvent.bind(this),\n    \"payment_method.attached\": this.handlePaymentMethodEvent.bind(this),\n    \"payment_method.automatically_updated\": this.handlePaymentMethodEvent.bind(this),\n    \"payment_method.detached\": this.handlePaymentMethodEvent.bind(this),\n    \"payment_method.updated\": this.handlePaymentMethodEvent.bind(this),\n    \"charge.dispute.created\": this.handleDisputeEvent.bind(this),\n    \"charge.dispute.funds_reinstated\": this.handleDisputeEvent.bind(this),\n    \"charge.dispute.funds_withdrawn\": this.handleDisputeEvent.bind(this),\n    \"charge.dispute.updated\": this.handleDisputeEvent.bind(this),\n    \"charge.dispute.closed\": this.handleDisputeEvent.bind(this),\n    \"payment_intent.amount_capturable_updated\": this.handlePaymentIntentEvent.bind(this),\n    \"payment_intent.canceled\": this.handlePaymentIntentEvent.bind(this),\n    \"payment_intent.created\": this.handlePaymentIntentEvent.bind(this),\n    \"payment_intent.partially_funded\": this.handlePaymentIntentEvent.bind(this),\n    \"payment_intent.payment_failed\": this.handlePaymentIntentEvent.bind(this),\n    \"payment_intent.processing\": this.handlePaymentIntentEvent.bind(this),\n    \"payment_intent.requires_action\": this.handlePaymentIntentEvent.bind(this),\n    \"payment_intent.succeeded\": this.handlePaymentIntentEvent.bind(this),\n    \"credit_note.created\": this.handleCreditNoteEvent.bind(this),\n    \"credit_note.updated\": this.handleCreditNoteEvent.bind(this),\n    \"credit_note.voided\": this.handleCreditNoteEvent.bind(this),\n    \"radar.early_fraud_warning.created\": this.handleEarlyFraudWarningEvent.bind(this),\n    \"radar.early_fraud_warning.updated\": this.handleEarlyFraudWarningEvent.bind(this),\n    \"refund.created\": this.handleRefundEvent.bind(this),\n    \"refund.failed\": this.handleRefundEvent.bind(this),\n    \"refund.updated\": this.handleRefundEvent.bind(this),\n    \"charge.refund.updated\": this.handleRefundEvent.bind(this),\n    \"review.closed\": this.handleReviewEvent.bind(this),\n    \"review.opened\": this.handleReviewEvent.bind(this),\n    \"entitlements.active_entitlement_summary.updated\": this.handleEntitlementSummaryEvent.bind(this)\n  };\n  async processEvent(event) {\n    const objectAccountId = event.data?.object && typeof event.data.object === \"object\" && \"account\" in event.data.object ? event.data.object.account : void 0;\n    const accountId = await this.getAccountId(objectAccountId);\n    await this.getCurrentAccount();\n    const handler = this.eventHandlers[event.type];\n    if (handler) {\n      const entityId = event.data?.object && typeof event.data.object === \"object\" && \"id\" in event.data.object ? event.data.object.id : \"unknown\";\n      this.config.logger?.info(`Received webhook ${event.id}: ${event.type} for ${entityId}`);\n      await handler(event, accountId);\n    } else {\n      this.config.logger?.warn(\n        `Received unhandled webhook event: ${event.type} (${event.id}). Ignoring.`\n      );\n    }\n  }\n  /**\n   * Returns an array of all webhook event types that this sync engine can handle.\n   * Useful for configuring webhook endpoints with specific event subscriptions.\n   */\n  getSupportedEventTypes() {\n    return Object.keys(\n      this.eventHandlers\n    ).sort();\n  }\n  // Event handler methods\n  async handleChargeEvent(event, accountId) {\n    const { entity: charge, refetched } = await this.fetchOrUseWebhookData(\n      event.data.object,\n      (id) => this.stripe.charges.retrieve(id),\n      (charge2) => charge2.status === \"failed\" || charge2.status === \"succeeded\"\n    );\n    await this.upsertCharges([charge], accountId, false, this.getSyncTimestamp(event, refetched));\n  }\n  async handleCustomerDeletedEvent(event, accountId) {\n    const customer = {\n      id: event.data.object.id,\n      object: \"customer\",\n      deleted: true\n    };\n    await this.upsertCustomers([customer], accountId, this.getSyncTimestamp(event, false));\n  }\n  async handleCustomerEvent(event, accountId) {\n    const { entity: customer, refetched } = await this.fetchOrUseWebhookData(\n      event.data.object,\n      (id) => this.stripe.customers.retrieve(id),\n      (customer2) => customer2.deleted === true\n    );\n    await this.upsertCustomers([customer], accountId, this.getSyncTimestamp(event, refetched));\n  }\n  async handleCheckoutSessionEvent(event, accountId) {\n    const { entity: checkoutSession, refetched } = await this.fetchOrUseWebhookData(\n      event.data.object,\n      (id) => this.stripe.checkout.sessions.retrieve(id)\n    );\n    await this.upsertCheckoutSessions(\n      [checkoutSession],\n      accountId,\n      false,\n      this.getSyncTimestamp(event, refetched)\n    );\n  }\n  async handleSubscriptionEvent(event, accountId) {\n    const { entity: subscription, refetched } = await this.fetchOrUseWebhookData(\n      event.data.object,\n      (id) => this.stripe.subscriptions.retrieve(id),\n      (subscription2) => subscription2.status === \"canceled\" || subscription2.status === \"incomplete_expired\"\n    );\n    await this.upsertSubscriptions(\n      [subscription],\n      accountId,\n      false,\n      this.getSyncTimestamp(event, refetched)\n    );\n  }\n  async handleTaxIdEvent(event, accountId) {\n    const { entity: taxId, refetched } = await this.fetchOrUseWebhookData(\n      event.data.object,\n      (id) => this.stripe.taxIds.retrieve(id)\n    );\n    await this.upsertTaxIds([taxId], accountId, false, this.getSyncTimestamp(event, refetched));\n  }\n  async handleTaxIdDeletedEvent(event, _accountId) {\n    const taxId = event.data.object;\n    await this.deleteTaxId(taxId.id);\n  }\n  async handleInvoiceEvent(event, accountId) {\n    const { entity: invoice, refetched } = await this.fetchOrUseWebhookData(\n      event.data.object,\n      (id) => this.stripe.invoices.retrieve(id),\n      (invoice2) => invoice2.status === \"void\"\n    );\n    await this.upsertInvoices([invoice], accountId, false, this.getSyncTimestamp(event, refetched));\n  }\n  async handleProductEvent(event, accountId) {\n    try {\n      const { entity: product, refetched } = await this.fetchOrUseWebhookData(\n        event.data.object,\n        (id) => this.stripe.products.retrieve(id)\n      );\n      await this.upsertProducts([product], accountId, this.getSyncTimestamp(event, refetched));\n    } catch (err) {\n      if (err instanceof Stripe2.errors.StripeAPIError && err.code === \"resource_missing\") {\n        const product = event.data.object;\n        await this.deleteProduct(product.id);\n      } else {\n        throw err;\n      }\n    }\n  }\n  async handleProductDeletedEvent(event, _accountId) {\n    const product = event.data.object;\n    await this.deleteProduct(product.id);\n  }\n  async handlePriceEvent(event, accountId) {\n    try {\n      const { entity: price, refetched } = await this.fetchOrUseWebhookData(\n        event.data.object,\n        (id) => this.stripe.prices.retrieve(id)\n      );\n      await this.upsertPrices([price], accountId, false, this.getSyncTimestamp(event, refetched));\n    } catch (err) {\n      if (err instanceof Stripe2.errors.StripeAPIError && err.code === \"resource_missing\") {\n        const price = event.data.object;\n        await this.deletePrice(price.id);\n      } else {\n        throw err;\n      }\n    }\n  }\n  async handlePriceDeletedEvent(event, _accountId) {\n    const price = event.data.object;\n    await this.deletePrice(price.id);\n  }\n  async handlePlanEvent(event, accountId) {\n    try {\n      const { entity: plan, refetched } = await this.fetchOrUseWebhookData(\n        event.data.object,\n        (id) => this.stripe.plans.retrieve(id)\n      );\n      await this.upsertPlans([plan], accountId, false, this.getSyncTimestamp(event, refetched));\n    } catch (err) {\n      if (err instanceof Stripe2.errors.StripeAPIError && err.code === \"resource_missing\") {\n        const plan = event.data.object;\n        await this.deletePlan(plan.id);\n      } else {\n        throw err;\n      }\n    }\n  }\n  async handlePlanDeletedEvent(event, _accountId) {\n    const plan = event.data.object;\n    await this.deletePlan(plan.id);\n  }\n  async handleSetupIntentEvent(event, accountId) {\n    const { entity: setupIntent, refetched } = await this.fetchOrUseWebhookData(\n      event.data.object,\n      (id) => this.stripe.setupIntents.retrieve(id),\n      (setupIntent2) => setupIntent2.status === \"canceled\" || setupIntent2.status === \"succeeded\"\n    );\n    await this.upsertSetupIntents(\n      [setupIntent],\n      accountId,\n      false,\n      this.getSyncTimestamp(event, refetched)\n    );\n  }\n  async handleSubscriptionScheduleEvent(event, accountId) {\n    const { entity: subscriptionSchedule, refetched } = await this.fetchOrUseWebhookData(\n      event.data.object,\n      (id) => this.stripe.subscriptionSchedules.retrieve(id),\n      (schedule) => schedule.status === \"canceled\" || schedule.status === \"completed\"\n    );\n    await this.upsertSubscriptionSchedules(\n      [subscriptionSchedule],\n      accountId,\n      false,\n      this.getSyncTimestamp(event, refetched)\n    );\n  }\n  async handlePaymentMethodEvent(event, accountId) {\n    const { entity: paymentMethod, refetched } = await this.fetchOrUseWebhookData(\n      event.data.object,\n      (id) => this.stripe.paymentMethods.retrieve(id)\n    );\n    await this.upsertPaymentMethods(\n      [paymentMethod],\n      accountId,\n      false,\n      this.getSyncTimestamp(event, refetched)\n    );\n  }\n  async handleDisputeEvent(event, accountId) {\n    const { entity: dispute, refetched } = await this.fetchOrUseWebhookData(\n      event.data.object,\n      (id) => this.stripe.disputes.retrieve(id),\n      (dispute2) => dispute2.status === \"won\" || dispute2.status === \"lost\"\n    );\n    await this.upsertDisputes([dispute], accountId, false, this.getSyncTimestamp(event, refetched));\n  }\n  async handlePaymentIntentEvent(event, accountId) {\n    const { entity: paymentIntent, refetched } = await this.fetchOrUseWebhookData(\n      event.data.object,\n      (id) => this.stripe.paymentIntents.retrieve(id),\n      // Final states - do not re-fetch from API\n      (entity) => entity.status === \"canceled\" || entity.status === \"succeeded\"\n    );\n    await this.upsertPaymentIntents(\n      [paymentIntent],\n      accountId,\n      false,\n      this.getSyncTimestamp(event, refetched)\n    );\n  }\n  async handleCreditNoteEvent(event, accountId) {\n    const { entity: creditNote, refetched } = await this.fetchOrUseWebhookData(\n      event.data.object,\n      (id) => this.stripe.creditNotes.retrieve(id),\n      (creditNote2) => creditNote2.status === \"void\"\n    );\n    await this.upsertCreditNotes(\n      [creditNote],\n      accountId,\n      false,\n      this.getSyncTimestamp(event, refetched)\n    );\n  }\n  async handleEarlyFraudWarningEvent(event, accountId) {\n    const { entity: earlyFraudWarning, refetched } = await this.fetchOrUseWebhookData(\n      event.data.object,\n      (id) => this.stripe.radar.earlyFraudWarnings.retrieve(id)\n    );\n    await this.upsertEarlyFraudWarning(\n      [earlyFraudWarning],\n      accountId,\n      false,\n      this.getSyncTimestamp(event, refetched)\n    );\n  }\n  async handleRefundEvent(event, accountId) {\n    const { entity: refund, refetched } = await this.fetchOrUseWebhookData(\n      event.data.object,\n      (id) => this.stripe.refunds.retrieve(id)\n    );\n    await this.upsertRefunds([refund], accountId, false, this.getSyncTimestamp(event, refetched));\n  }\n  async handleReviewEvent(event, accountId) {\n    const { entity: review, refetched } = await this.fetchOrUseWebhookData(\n      event.data.object,\n      (id) => this.stripe.reviews.retrieve(id)\n    );\n    await this.upsertReviews([review], accountId, false, this.getSyncTimestamp(event, refetched));\n  }\n  async handleEntitlementSummaryEvent(event, accountId) {\n    const activeEntitlementSummary = event.data.object;\n    let entitlements = activeEntitlementSummary.entitlements;\n    let refetched = false;\n    if (this.config.revalidateObjectsViaStripeApi?.includes(\"entitlements\")) {\n      const { lastResponse, ...rest } = await this.stripe.entitlements.activeEntitlements.list({\n        customer: activeEntitlementSummary.customer\n      });\n      entitlements = rest;\n      refetched = true;\n    }\n    await this.deleteRemovedActiveEntitlements(\n      activeEntitlementSummary.customer,\n      entitlements.data.map((entitlement) => entitlement.id)\n    );\n    await this.upsertActiveEntitlements(\n      activeEntitlementSummary.customer,\n      entitlements.data,\n      accountId,\n      false,\n      this.getSyncTimestamp(event, refetched)\n    );\n  }\n  getSyncTimestamp(event, refetched) {\n    return refetched ? (/* @__PURE__ */ new Date()).toISOString() : new Date(event.created * 1e3).toISOString();\n  }\n  shouldRefetchEntity(entity) {\n    return this.config.revalidateObjectsViaStripeApi?.includes(entity.object);\n  }\n  async fetchOrUseWebhookData(entity, fetchFn, entityInFinalState) {\n    if (!entity.id) return { entity, refetched: false };\n    if (entityInFinalState && entityInFinalState(entity)) return { entity, refetched: false };\n    if (this.shouldRefetchEntity(entity)) {\n      const fetchedEntity = await fetchFn(entity.id);\n      return { entity: fetchedEntity, refetched: true };\n    }\n    return { entity, refetched: false };\n  }\n  async syncSingleEntity(stripeId) {\n    const accountId = await this.getAccountId();\n    if (stripeId.startsWith(\"cus_\")) {\n      return this.stripe.customers.retrieve(stripeId).then((it) => {\n        if (!it || it.deleted) return;\n        return this.upsertCustomers([it], accountId);\n      });\n    } else if (stripeId.startsWith(\"in_\")) {\n      return this.stripe.invoices.retrieve(stripeId).then((it) => this.upsertInvoices([it], accountId));\n    } else if (stripeId.startsWith(\"price_\")) {\n      return this.stripe.prices.retrieve(stripeId).then((it) => this.upsertPrices([it], accountId));\n    } else if (stripeId.startsWith(\"prod_\")) {\n      return this.stripe.products.retrieve(stripeId).then((it) => this.upsertProducts([it], accountId));\n    } else if (stripeId.startsWith(\"sub_\")) {\n      return this.stripe.subscriptions.retrieve(stripeId).then((it) => this.upsertSubscriptions([it], accountId));\n    } else if (stripeId.startsWith(\"seti_\")) {\n      return this.stripe.setupIntents.retrieve(stripeId).then((it) => this.upsertSetupIntents([it], accountId));\n    } else if (stripeId.startsWith(\"pm_\")) {\n      return this.stripe.paymentMethods.retrieve(stripeId).then((it) => this.upsertPaymentMethods([it], accountId));\n    } else if (stripeId.startsWith(\"dp_\") || stripeId.startsWith(\"du_\")) {\n      return this.stripe.disputes.retrieve(stripeId).then((it) => this.upsertDisputes([it], accountId));\n    } else if (stripeId.startsWith(\"ch_\")) {\n      return this.stripe.charges.retrieve(stripeId).then((it) => this.upsertCharges([it], accountId, true));\n    } else if (stripeId.startsWith(\"pi_\")) {\n      return this.stripe.paymentIntents.retrieve(stripeId).then((it) => this.upsertPaymentIntents([it], accountId));\n    } else if (stripeId.startsWith(\"txi_\")) {\n      return this.stripe.taxIds.retrieve(stripeId).then((it) => this.upsertTaxIds([it], accountId));\n    } else if (stripeId.startsWith(\"cn_\")) {\n      return this.stripe.creditNotes.retrieve(stripeId).then((it) => this.upsertCreditNotes([it], accountId));\n    } else if (stripeId.startsWith(\"issfr_\")) {\n      return this.stripe.radar.earlyFraudWarnings.retrieve(stripeId).then((it) => this.upsertEarlyFraudWarning([it], accountId));\n    } else if (stripeId.startsWith(\"prv_\")) {\n      return this.stripe.reviews.retrieve(stripeId).then((it) => this.upsertReviews([it], accountId));\n    } else if (stripeId.startsWith(\"re_\")) {\n      return this.stripe.refunds.retrieve(stripeId).then((it) => this.upsertRefunds([it], accountId));\n    } else if (stripeId.startsWith(\"feat_\")) {\n      return this.stripe.entitlements.features.retrieve(stripeId).then((it) => this.upsertFeatures([it], accountId));\n    } else if (stripeId.startsWith(\"cs_\")) {\n      return this.stripe.checkout.sessions.retrieve(stripeId).then((it) => this.upsertCheckoutSessions([it], accountId));\n    }\n  }\n  async syncBackfill(params) {\n    const { object } = params ?? { object: this.getSupportedEventTypes };\n    let products, prices, customers, checkoutSessions, subscriptions, subscriptionSchedules, invoices, setupIntents, paymentMethods, disputes, charges, paymentIntents, plans, taxIds, creditNotes, earlyFraudWarnings, refunds;\n    await this.getCurrentAccount();\n    switch (object) {\n      case \"all\":\n        products = await this.syncProducts(params);\n        prices = await this.syncPrices(params);\n        plans = await this.syncPlans(params);\n        customers = await this.syncCustomers(params);\n        subscriptions = await this.syncSubscriptions(params);\n        subscriptionSchedules = await this.syncSubscriptionSchedules(params);\n        invoices = await this.syncInvoices(params);\n        charges = await this.syncCharges(params);\n        setupIntents = await this.syncSetupIntents(params);\n        paymentMethods = await this.syncPaymentMethods(params);\n        paymentIntents = await this.syncPaymentIntents(params);\n        taxIds = await this.syncTaxIds(params);\n        creditNotes = await this.syncCreditNotes(params);\n        disputes = await this.syncDisputes(params);\n        earlyFraudWarnings = await this.syncEarlyFraudWarnings(params);\n        refunds = await this.syncRefunds(params);\n        checkoutSessions = await this.syncCheckoutSessions(params);\n        break;\n      case \"customer\":\n        customers = await this.syncCustomers(params);\n        break;\n      case \"invoice\":\n        invoices = await this.syncInvoices(params);\n        break;\n      case \"price\":\n        prices = await this.syncPrices(params);\n        break;\n      case \"product\":\n        products = await this.syncProducts(params);\n        break;\n      case \"subscription\":\n        subscriptions = await this.syncSubscriptions(params);\n        break;\n      case \"subscription_schedules\":\n        subscriptionSchedules = await this.syncSubscriptionSchedules(params);\n        break;\n      case \"setup_intent\":\n        setupIntents = await this.syncSetupIntents(params);\n        break;\n      case \"payment_method\":\n        paymentMethods = await this.syncPaymentMethods(params);\n        break;\n      case \"dispute\":\n        disputes = await this.syncDisputes(params);\n        break;\n      case \"charge\":\n        charges = await this.syncCharges(params);\n        break;\n      case \"payment_intent\":\n        paymentIntents = await this.syncPaymentIntents(params);\n      case \"plan\":\n        plans = await this.syncPlans(params);\n        break;\n      case \"tax_id\":\n        taxIds = await this.syncTaxIds(params);\n        break;\n      case \"credit_note\":\n        creditNotes = await this.syncCreditNotes(params);\n        break;\n      case \"early_fraud_warning\":\n        earlyFraudWarnings = await this.syncEarlyFraudWarnings(params);\n        break;\n      case \"refund\":\n        refunds = await this.syncRefunds(params);\n        break;\n      case \"checkout_sessions\":\n        checkoutSessions = await this.syncCheckoutSessions(params);\n        break;\n      default:\n        break;\n    }\n    return {\n      products,\n      prices,\n      customers,\n      checkoutSessions,\n      subscriptions,\n      subscriptionSchedules,\n      invoices,\n      setupIntents,\n      paymentMethods,\n      disputes,\n      charges,\n      paymentIntents,\n      plans,\n      taxIds,\n      creditNotes,\n      earlyFraudWarnings,\n      refunds\n    };\n  }\n  async syncProducts(syncParams) {\n    this.config.logger?.info(\"Syncing products\");\n    const accountId = await this.getAccountId();\n    const params = { limit: 100 };\n    if (syncParams?.created) {\n      params.created = syncParams.created;\n    } else {\n      const cursor = await this.postgresClient.getSyncCursor(\"products\", accountId);\n      if (cursor) {\n        params.created = { gte: cursor };\n        this.config.logger?.info(`Incremental sync from cursor: ${cursor}`);\n      }\n    }\n    return this.fetchAndUpsert(\n      () => this.stripe.products.list(params),\n      (products) => this.upsertProducts(products, accountId),\n      accountId,\n      \"products\"\n    );\n  }\n  async syncPrices(syncParams) {\n    this.config.logger?.info(\"Syncing prices\");\n    const accountId = await this.getAccountId();\n    const params = { limit: 100 };\n    if (syncParams?.created) {\n      params.created = syncParams.created;\n    } else {\n      const cursor = await this.postgresClient.getSyncCursor(\"prices\", accountId);\n      if (cursor) {\n        params.created = { gte: cursor };\n        this.config.logger?.info(`Incremental sync from cursor: ${cursor}`);\n      }\n    }\n    return this.fetchAndUpsert(\n      () => this.stripe.prices.list(params),\n      (prices) => this.upsertPrices(prices, accountId, syncParams?.backfillRelatedEntities),\n      accountId,\n      \"prices\"\n    );\n  }\n  async syncPlans(syncParams) {\n    this.config.logger?.info(\"Syncing plans\");\n    const accountId = await this.getAccountId();\n    const params = { limit: 100 };\n    if (syncParams?.created) {\n      params.created = syncParams.created;\n    } else {\n      const cursor = await this.postgresClient.getSyncCursor(\"plans\", accountId);\n      if (cursor) {\n        params.created = { gte: cursor };\n        this.config.logger?.info(`Incremental sync from cursor: ${cursor}`);\n      }\n    }\n    return this.fetchAndUpsert(\n      () => this.stripe.plans.list(params),\n      (plans) => this.upsertPlans(plans, accountId, syncParams?.backfillRelatedEntities),\n      accountId,\n      \"plans\"\n    );\n  }\n  async syncCustomers(syncParams) {\n    this.config.logger?.info(\"Syncing customers\");\n    const accountId = await this.getAccountId();\n    const params = { limit: 100 };\n    if (syncParams?.created) {\n      params.created = syncParams.created;\n    } else {\n      const cursor = await this.postgresClient.getSyncCursor(\"customers\", accountId);\n      if (cursor) {\n        params.created = { gte: cursor };\n        this.config.logger?.info(`Incremental sync from cursor: ${cursor}`);\n      }\n    }\n    return this.fetchAndUpsert(\n      () => this.stripe.customers.list(params),\n      // @ts-expect-error\n      (items) => this.upsertCustomers(items, accountId),\n      accountId,\n      \"customers\"\n    );\n  }\n  async syncSubscriptions(syncParams) {\n    this.config.logger?.info(\"Syncing subscriptions\");\n    const accountId = await this.getAccountId();\n    const params = { status: \"all\", limit: 100 };\n    if (syncParams?.created) {\n      params.created = syncParams.created;\n    } else {\n      const cursor = await this.postgresClient.getSyncCursor(\"subscriptions\", accountId);\n      if (cursor) {\n        params.created = { gte: cursor };\n        this.config.logger?.info(`Incremental sync from cursor: ${cursor}`);\n      }\n    }\n    return this.fetchAndUpsert(\n      () => this.stripe.subscriptions.list(params),\n      (items) => this.upsertSubscriptions(items, accountId, syncParams?.backfillRelatedEntities),\n      accountId,\n      \"subscriptions\"\n    );\n  }\n  async syncSubscriptionSchedules(syncParams) {\n    this.config.logger?.info(\"Syncing subscription schedules\");\n    const accountId = await this.getAccountId();\n    const params = { limit: 100 };\n    if (syncParams?.created) {\n      params.created = syncParams.created;\n    } else {\n      const cursor = await this.postgresClient.getSyncCursor(\"subscription_schedules\", accountId);\n      if (cursor) {\n        params.created = { gte: cursor };\n        this.config.logger?.info(`Incremental sync from cursor: ${cursor}`);\n      }\n    }\n    return this.fetchAndUpsert(\n      () => this.stripe.subscriptionSchedules.list(params),\n      (items) => this.upsertSubscriptionSchedules(items, accountId, syncParams?.backfillRelatedEntities),\n      accountId,\n      \"subscription_schedules\"\n    );\n  }\n  async syncInvoices(syncParams) {\n    this.config.logger?.info(\"Syncing invoices\");\n    const accountId = await this.getAccountId();\n    const params = { limit: 100 };\n    if (syncParams?.created) {\n      params.created = syncParams.created;\n    } else {\n      const cursor = await this.postgresClient.getSyncCursor(\"invoices\", accountId);\n      if (cursor) {\n        params.created = { gte: cursor };\n        this.config.logger?.info(`Incremental sync from cursor: ${cursor}`);\n      }\n    }\n    return this.fetchAndUpsert(\n      () => this.stripe.invoices.list(params),\n      (items) => this.upsertInvoices(items, accountId, syncParams?.backfillRelatedEntities),\n      accountId,\n      \"invoices\"\n    );\n  }\n  async syncCharges(syncParams) {\n    this.config.logger?.info(\"Syncing charges\");\n    const accountId = await this.getAccountId();\n    const params = { limit: 100 };\n    if (syncParams?.created) {\n      params.created = syncParams.created;\n    } else {\n      const cursor = await this.postgresClient.getSyncCursor(\"charges\", accountId);\n      if (cursor) {\n        params.created = { gte: cursor };\n        this.config.logger?.info(`Incremental sync from cursor: ${cursor}`);\n      }\n    }\n    return this.fetchAndUpsert(\n      () => this.stripe.charges.list(params),\n      (items) => this.upsertCharges(items, accountId, syncParams?.backfillRelatedEntities),\n      accountId,\n      \"charges\"\n    );\n  }\n  async syncSetupIntents(syncParams) {\n    this.config.logger?.info(\"Syncing setup_intents\");\n    const accountId = await this.getAccountId();\n    const params = { limit: 100 };\n    if (syncParams?.created) {\n      params.created = syncParams.created;\n    } else {\n      const cursor = await this.postgresClient.getSyncCursor(\"setup_intents\", accountId);\n      if (cursor) {\n        params.created = { gte: cursor };\n        this.config.logger?.info(`Incremental sync from cursor: ${cursor}`);\n      }\n    }\n    return this.fetchAndUpsert(\n      () => this.stripe.setupIntents.list(params),\n      (items) => this.upsertSetupIntents(items, accountId, syncParams?.backfillRelatedEntities),\n      accountId,\n      \"setup_intents\"\n    );\n  }\n  async syncPaymentIntents(syncParams) {\n    this.config.logger?.info(\"Syncing payment_intents\");\n    const accountId = await this.getAccountId();\n    const params = { limit: 100 };\n    if (syncParams?.created) {\n      params.created = syncParams.created;\n    } else {\n      const cursor = await this.postgresClient.getSyncCursor(\"payment_intents\", accountId);\n      if (cursor) {\n        params.created = { gte: cursor };\n        this.config.logger?.info(`Incremental sync from cursor: ${cursor}`);\n      }\n    }\n    return this.fetchAndUpsert(\n      () => this.stripe.paymentIntents.list(params),\n      (items) => this.upsertPaymentIntents(items, accountId, syncParams?.backfillRelatedEntities),\n      accountId,\n      \"payment_intents\"\n    );\n  }\n  async syncTaxIds(syncParams) {\n    this.config.logger?.info(\"Syncing tax_ids\");\n    const accountId = await this.getAccountId();\n    const params = { limit: 100 };\n    return this.fetchAndUpsert(\n      () => this.stripe.taxIds.list(params),\n      (items) => this.upsertTaxIds(items, accountId, syncParams?.backfillRelatedEntities),\n      accountId\n    );\n  }\n  async syncPaymentMethods(syncParams) {\n    this.config.logger?.info(\"Syncing payment method\");\n    const accountId = await this.getAccountId();\n    const prepared = sql2(\n      `select id from \"stripe\".\"customers\" WHERE COALESCE(deleted, false) <> true;`\n    )([]);\n    const customerIds = await this.postgresClient.query(prepared.text, prepared.values).then(({ rows }) => rows.map((it) => it.id));\n    this.config.logger?.info(`Getting payment methods for ${customerIds.length} customers`);\n    let synced = 0;\n    for (const customerIdChunk of chunkArray(customerIds, 10)) {\n      await Promise.all(\n        customerIdChunk.map(async (customerId) => {\n          const syncResult = await this.fetchAndUpsert(\n            () => this.stripe.paymentMethods.list({\n              limit: 100,\n              customer: customerId\n            }),\n            (items) => this.upsertPaymentMethods(items, accountId, syncParams?.backfillRelatedEntities),\n            accountId\n          );\n          synced += syncResult.synced;\n        })\n      );\n    }\n    return { synced };\n  }\n  async syncDisputes(syncParams) {\n    this.config.logger?.info(\"Syncing disputes\");\n    const accountId = await this.getAccountId();\n    const params = { limit: 100 };\n    if (syncParams?.created) {\n      params.created = syncParams.created;\n    } else {\n      const cursor = await this.postgresClient.getSyncCursor(\"disputes\", accountId);\n      if (cursor) {\n        params.created = { gte: cursor };\n        this.config.logger?.info(`Incremental sync from cursor: ${cursor}`);\n      }\n    }\n    return this.fetchAndUpsert(\n      () => this.stripe.disputes.list(params),\n      (items) => this.upsertDisputes(items, accountId, syncParams?.backfillRelatedEntities),\n      accountId,\n      \"disputes\"\n    );\n  }\n  async syncEarlyFraudWarnings(syncParams) {\n    this.config.logger?.info(\"Syncing early fraud warnings\");\n    const accountId = await this.getAccountId();\n    const params = { limit: 100 };\n    if (syncParams?.created) {\n      params.created = syncParams.created;\n    } else {\n      const cursor = await this.postgresClient.getSyncCursor(\"early_fraud_warnings\", accountId);\n      if (cursor) {\n        params.created = { gte: cursor };\n        this.config.logger?.info(`Incremental sync from cursor: ${cursor}`);\n      }\n    }\n    return this.fetchAndUpsert(\n      () => this.stripe.radar.earlyFraudWarnings.list(params),\n      (items) => this.upsertEarlyFraudWarning(items, accountId, syncParams?.backfillRelatedEntities),\n      accountId,\n      \"early_fraud_warnings\"\n    );\n  }\n  async syncRefunds(syncParams) {\n    this.config.logger?.info(\"Syncing refunds\");\n    const accountId = await this.getAccountId();\n    const params = { limit: 100 };\n    if (syncParams?.created) {\n      params.created = syncParams.created;\n    } else {\n      const cursor = await this.postgresClient.getSyncCursor(\"refunds\", accountId);\n      if (cursor) {\n        params.created = { gte: cursor };\n        this.config.logger?.info(`Incremental sync from cursor: ${cursor}`);\n      }\n    }\n    return this.fetchAndUpsert(\n      () => this.stripe.refunds.list(params),\n      (items) => this.upsertRefunds(items, accountId, syncParams?.backfillRelatedEntities),\n      accountId,\n      \"refunds\"\n    );\n  }\n  async syncCreditNotes(syncParams) {\n    this.config.logger?.info(\"Syncing credit notes\");\n    const accountId = await this.getAccountId();\n    const params = { limit: 100 };\n    if (syncParams?.created) {\n      params.created = syncParams.created;\n    } else {\n      const cursor = await this.postgresClient.getSyncCursor(\"credit_notes\", accountId);\n      if (cursor) {\n        params.created = { gte: cursor };\n        this.config.logger?.info(`Incremental sync from cursor: ${cursor}`);\n      }\n    }\n    return this.fetchAndUpsert(\n      () => this.stripe.creditNotes.list(params),\n      (creditNotes) => this.upsertCreditNotes(creditNotes, accountId),\n      accountId,\n      \"credit_notes\"\n    );\n  }\n  async syncFeatures(syncParams) {\n    this.config.logger?.info(\"Syncing features\");\n    const accountId = await this.getAccountId();\n    const params = { limit: 100, ...syncParams?.pagination };\n    return this.fetchAndUpsert(\n      () => this.stripe.entitlements.features.list(params),\n      (features) => this.upsertFeatures(features, accountId),\n      accountId\n    );\n  }\n  async syncEntitlements(customerId, syncParams) {\n    this.config.logger?.info(\"Syncing entitlements\");\n    const accountId = await this.getAccountId();\n    const params = {\n      customer: customerId,\n      limit: 100,\n      ...syncParams?.pagination\n    };\n    return this.fetchAndUpsert(\n      () => this.stripe.entitlements.activeEntitlements.list(params),\n      (entitlements) => this.upsertActiveEntitlements(customerId, entitlements, accountId),\n      accountId\n    );\n  }\n  async syncCheckoutSessions(syncParams) {\n    this.config.logger?.info(\"Syncing checkout sessions\");\n    const accountId = await this.getAccountId();\n    const params = {\n      limit: 100\n    };\n    if (syncParams?.created) {\n      params.created = syncParams.created;\n    } else {\n      const cursor = await this.postgresClient.getSyncCursor(\"checkout_sessions\", accountId);\n      if (cursor) {\n        params.created = { gte: cursor };\n        this.config.logger?.info(`Incremental sync from cursor: ${cursor}`);\n      }\n    }\n    return this.fetchAndUpsert(\n      () => this.stripe.checkout.sessions.list(params),\n      (items) => this.upsertCheckoutSessions(items, accountId, syncParams?.backfillRelatedEntities),\n      accountId,\n      \"checkout_sessions\"\n    );\n  }\n  async fetchAndUpsert(fetch, upsert, accountId, resourceName) {\n    const CHECKPOINT_SIZE = 100;\n    let totalSynced = 0;\n    let currentBatch = [];\n    if (resourceName) {\n      await this.postgresClient.markSyncRunning(resourceName, accountId);\n    }\n    try {\n      this.config.logger?.info(\"Fetching items to sync from Stripe\");\n      try {\n        for await (const item of fetch()) {\n          currentBatch.push(item);\n          if (currentBatch.length >= CHECKPOINT_SIZE) {\n            this.config.logger?.info(`Upserting batch of ${currentBatch.length} items`);\n            await upsert(currentBatch, accountId);\n            totalSynced += currentBatch.length;\n            if (resourceName) {\n              const maxCreated = Math.max(\n                ...currentBatch.map((i) => i.created || 0)\n              );\n              if (maxCreated > 0) {\n                await this.postgresClient.updateSyncCursor(resourceName, accountId, maxCreated);\n                this.config.logger?.info(`Checkpoint: cursor updated to ${maxCreated}`);\n              }\n            }\n            currentBatch = [];\n          }\n        }\n        if (currentBatch.length > 0) {\n          this.config.logger?.info(`Upserting final batch of ${currentBatch.length} items`);\n          await upsert(currentBatch, accountId);\n          totalSynced += currentBatch.length;\n          if (resourceName) {\n            const maxCreated = Math.max(\n              ...currentBatch.map((i) => i.created || 0)\n            );\n            if (maxCreated > 0) {\n              await this.postgresClient.updateSyncCursor(resourceName, accountId, maxCreated);\n            }\n          }\n        }\n      } catch (error) {\n        if (currentBatch.length > 0) {\n          this.config.logger?.info(\n            `Error occurred, saving partial progress: ${currentBatch.length} items`\n          );\n          await upsert(currentBatch, accountId);\n          totalSynced += currentBatch.length;\n          if (resourceName) {\n            const maxCreated = Math.max(\n              ...currentBatch.map((i) => i.created || 0)\n            );\n            if (maxCreated > 0) {\n              await this.postgresClient.updateSyncCursor(resourceName, accountId, maxCreated);\n            }\n          }\n        }\n        throw error;\n      }\n      if (resourceName) {\n        await this.postgresClient.markSyncComplete(resourceName, accountId);\n      }\n      this.config.logger?.info(`Sync complete: ${totalSynced} items synced`);\n      return { synced: totalSynced };\n    } catch (error) {\n      if (resourceName) {\n        await this.postgresClient.markSyncError(\n          resourceName,\n          accountId,\n          error instanceof Error ? error.message : \"Unknown error\"\n        );\n      }\n      throw error;\n    }\n  }\n  async upsertCharges(charges, accountId, backfillRelatedEntities, syncTimestamp) {\n    if (backfillRelatedEntities ?? this.config.backfillRelatedEntities) {\n      await Promise.all([\n        this.backfillCustomers(getUniqueIds(charges, \"customer\"), accountId),\n        this.backfillInvoices(getUniqueIds(charges, \"invoice\"), accountId)\n      ]);\n    }\n    await this.expandEntity(\n      charges,\n      \"refunds\",\n      (id) => this.stripe.refunds.list({ charge: id, limit: 100 })\n    );\n    return this.postgresClient.upsertManyWithTimestampProtection(\n      charges,\n      \"charges\",\n      accountId,\n      syncTimestamp\n    );\n  }\n  async backfillCharges(chargeIds, accountId) {\n    const missingChargeIds = await this.postgresClient.findMissingEntries(\"charges\", chargeIds);\n    await this.fetchMissingEntities(\n      missingChargeIds,\n      (id) => this.stripe.charges.retrieve(id)\n    ).then((charges) => this.upsertCharges(charges, accountId));\n  }\n  async backfillPaymentIntents(paymentIntentIds, accountId) {\n    const missingIds = await this.postgresClient.findMissingEntries(\n      \"payment_intents\",\n      paymentIntentIds\n    );\n    await this.fetchMissingEntities(\n      missingIds,\n      (id) => this.stripe.paymentIntents.retrieve(id)\n    ).then((paymentIntents) => this.upsertPaymentIntents(paymentIntents, accountId));\n  }\n  async upsertCreditNotes(creditNotes, accountId, backfillRelatedEntities, syncTimestamp) {\n    if (backfillRelatedEntities ?? this.config.backfillRelatedEntities) {\n      await Promise.all([\n        this.backfillCustomers(getUniqueIds(creditNotes, \"customer\"), accountId),\n        this.backfillInvoices(getUniqueIds(creditNotes, \"invoice\"), accountId)\n      ]);\n    }\n    await this.expandEntity(\n      creditNotes,\n      \"lines\",\n      (id) => this.stripe.creditNotes.listLineItems(id, { limit: 100 })\n    );\n    return this.postgresClient.upsertManyWithTimestampProtection(\n      creditNotes,\n      \"credit_notes\",\n      accountId,\n      syncTimestamp\n    );\n  }\n  async upsertCheckoutSessions(checkoutSessions, accountId, backfillRelatedEntities, syncTimestamp) {\n    if (backfillRelatedEntities ?? this.config.backfillRelatedEntities) {\n      await Promise.all([\n        this.backfillCustomers(getUniqueIds(checkoutSessions, \"customer\"), accountId),\n        this.backfillSubscriptions(getUniqueIds(checkoutSessions, \"subscription\"), accountId),\n        this.backfillPaymentIntents(getUniqueIds(checkoutSessions, \"payment_intent\"), accountId),\n        this.backfillInvoices(getUniqueIds(checkoutSessions, \"invoice\"), accountId)\n      ]);\n    }\n    const rows = await this.postgresClient.upsertManyWithTimestampProtection(\n      checkoutSessions,\n      \"checkout_sessions\",\n      accountId,\n      syncTimestamp\n    );\n    await this.fillCheckoutSessionsLineItems(\n      checkoutSessions.map((cs) => cs.id),\n      accountId,\n      syncTimestamp\n    );\n    return rows;\n  }\n  async upsertEarlyFraudWarning(earlyFraudWarnings, accountId, backfillRelatedEntities, syncTimestamp) {\n    if (backfillRelatedEntities ?? this.config.backfillRelatedEntities) {\n      await Promise.all([\n        this.backfillPaymentIntents(getUniqueIds(earlyFraudWarnings, \"payment_intent\"), accountId),\n        this.backfillCharges(getUniqueIds(earlyFraudWarnings, \"charge\"), accountId)\n      ]);\n    }\n    return this.postgresClient.upsertManyWithTimestampProtection(\n      earlyFraudWarnings,\n      \"early_fraud_warnings\",\n      accountId,\n      syncTimestamp\n    );\n  }\n  async upsertRefunds(refunds, accountId, backfillRelatedEntities, syncTimestamp) {\n    if (backfillRelatedEntities ?? this.config.backfillRelatedEntities) {\n      await Promise.all([\n        this.backfillPaymentIntents(getUniqueIds(refunds, \"payment_intent\"), accountId),\n        this.backfillCharges(getUniqueIds(refunds, \"charge\"), accountId)\n      ]);\n    }\n    return this.postgresClient.upsertManyWithTimestampProtection(\n      refunds,\n      \"refunds\",\n      accountId,\n      syncTimestamp\n    );\n  }\n  async upsertReviews(reviews, accountId, backfillRelatedEntities, syncTimestamp) {\n    if (backfillRelatedEntities ?? this.config.backfillRelatedEntities) {\n      await Promise.all([\n        this.backfillPaymentIntents(getUniqueIds(reviews, \"payment_intent\"), accountId),\n        this.backfillCharges(getUniqueIds(reviews, \"charge\"), accountId)\n      ]);\n    }\n    return this.postgresClient.upsertManyWithTimestampProtection(\n      reviews,\n      \"reviews\",\n      accountId,\n      syncTimestamp\n    );\n  }\n  async upsertCustomers(customers, accountId, syncTimestamp) {\n    const deletedCustomers = customers.filter((customer) => customer.deleted);\n    const nonDeletedCustomers = customers.filter((customer) => !customer.deleted);\n    await this.postgresClient.upsertManyWithTimestampProtection(\n      nonDeletedCustomers,\n      \"customers\",\n      accountId,\n      syncTimestamp\n    );\n    await this.postgresClient.upsertManyWithTimestampProtection(\n      deletedCustomers,\n      \"customers\",\n      accountId,\n      syncTimestamp\n    );\n    return customers;\n  }\n  async backfillCustomers(customerIds, accountId) {\n    const missingIds = await this.postgresClient.findMissingEntries(\"customers\", customerIds);\n    await this.fetchMissingEntities(missingIds, (id) => this.stripe.customers.retrieve(id)).then((entries) => this.upsertCustomers(entries, accountId)).catch((err) => {\n      this.config.logger?.error(err, \"Failed to backfill\");\n      throw err;\n    });\n  }\n  async upsertDisputes(disputes, accountId, backfillRelatedEntities, syncTimestamp) {\n    if (backfillRelatedEntities ?? this.config.backfillRelatedEntities) {\n      await this.backfillCharges(getUniqueIds(disputes, \"charge\"), accountId);\n    }\n    return this.postgresClient.upsertManyWithTimestampProtection(\n      disputes,\n      \"disputes\",\n      accountId,\n      syncTimestamp\n    );\n  }\n  async upsertInvoices(invoices, accountId, backfillRelatedEntities, syncTimestamp) {\n    if (backfillRelatedEntities ?? this.config.backfillRelatedEntities) {\n      await Promise.all([\n        this.backfillCustomers(getUniqueIds(invoices, \"customer\"), accountId),\n        this.backfillSubscriptions(getUniqueIds(invoices, \"subscription\"), accountId)\n      ]);\n    }\n    await this.expandEntity(\n      invoices,\n      \"lines\",\n      (id) => this.stripe.invoices.listLineItems(id, { limit: 100 })\n    );\n    return this.postgresClient.upsertManyWithTimestampProtection(\n      invoices,\n      \"invoices\",\n      accountId,\n      syncTimestamp\n    );\n  }\n  backfillInvoices = async (invoiceIds, accountId) => {\n    const missingIds = await this.postgresClient.findMissingEntries(\"invoices\", invoiceIds);\n    await this.fetchMissingEntities(missingIds, (id) => this.stripe.invoices.retrieve(id)).then(\n      (entries) => this.upsertInvoices(entries, accountId)\n    );\n  };\n  backfillPrices = async (priceIds, accountId) => {\n    const missingIds = await this.postgresClient.findMissingEntries(\"prices\", priceIds);\n    await this.fetchMissingEntities(missingIds, (id) => this.stripe.prices.retrieve(id)).then(\n      (entries) => this.upsertPrices(entries, accountId)\n    );\n  };\n  async upsertPlans(plans, accountId, backfillRelatedEntities, syncTimestamp) {\n    if (backfillRelatedEntities ?? this.config.backfillRelatedEntities) {\n      await this.backfillProducts(getUniqueIds(plans, \"product\"), accountId);\n    }\n    return this.postgresClient.upsertManyWithTimestampProtection(\n      plans,\n      \"plans\",\n      accountId,\n      syncTimestamp\n    );\n  }\n  async deletePlan(id) {\n    return this.postgresClient.delete(\"plans\", id);\n  }\n  async upsertPrices(prices, accountId, backfillRelatedEntities, syncTimestamp) {\n    if (backfillRelatedEntities ?? this.config.backfillRelatedEntities) {\n      await this.backfillProducts(getUniqueIds(prices, \"product\"), accountId);\n    }\n    return this.postgresClient.upsertManyWithTimestampProtection(\n      prices,\n      \"prices\",\n      accountId,\n      syncTimestamp\n    );\n  }\n  async deletePrice(id) {\n    return this.postgresClient.delete(\"prices\", id);\n  }\n  async upsertProducts(products, accountId, syncTimestamp) {\n    return this.postgresClient.upsertManyWithTimestampProtection(\n      products,\n      \"products\",\n      accountId,\n      syncTimestamp\n    );\n  }\n  async deleteProduct(id) {\n    return this.postgresClient.delete(\"products\", id);\n  }\n  async backfillProducts(productIds, accountId) {\n    const missingProductIds = await this.postgresClient.findMissingEntries(\"products\", productIds);\n    await this.fetchMissingEntities(\n      missingProductIds,\n      (id) => this.stripe.products.retrieve(id)\n    ).then((products) => this.upsertProducts(products, accountId));\n  }\n  async upsertPaymentIntents(paymentIntents, accountId, backfillRelatedEntities, syncTimestamp) {\n    if (backfillRelatedEntities ?? this.config.backfillRelatedEntities) {\n      await Promise.all([\n        this.backfillCustomers(getUniqueIds(paymentIntents, \"customer\"), accountId),\n        this.backfillInvoices(getUniqueIds(paymentIntents, \"invoice\"), accountId)\n      ]);\n    }\n    return this.postgresClient.upsertManyWithTimestampProtection(\n      paymentIntents,\n      \"payment_intents\",\n      accountId,\n      syncTimestamp\n    );\n  }\n  async upsertPaymentMethods(paymentMethods, accountId, backfillRelatedEntities = false, syncTimestamp) {\n    if (backfillRelatedEntities ?? this.config.backfillRelatedEntities) {\n      await this.backfillCustomers(getUniqueIds(paymentMethods, \"customer\"), accountId);\n    }\n    return this.postgresClient.upsertManyWithTimestampProtection(\n      paymentMethods,\n      \"payment_methods\",\n      accountId,\n      syncTimestamp\n    );\n  }\n  async upsertSetupIntents(setupIntents, accountId, backfillRelatedEntities, syncTimestamp) {\n    if (backfillRelatedEntities ?? this.config.backfillRelatedEntities) {\n      await this.backfillCustomers(getUniqueIds(setupIntents, \"customer\"), accountId);\n    }\n    return this.postgresClient.upsertManyWithTimestampProtection(\n      setupIntents,\n      \"setup_intents\",\n      accountId,\n      syncTimestamp\n    );\n  }\n  async upsertTaxIds(taxIds, accountId, backfillRelatedEntities, syncTimestamp) {\n    if (backfillRelatedEntities ?? this.config.backfillRelatedEntities) {\n      await this.backfillCustomers(getUniqueIds(taxIds, \"customer\"), accountId);\n    }\n    return this.postgresClient.upsertManyWithTimestampProtection(\n      taxIds,\n      \"tax_ids\",\n      accountId,\n      syncTimestamp\n    );\n  }\n  async deleteTaxId(id) {\n    return this.postgresClient.delete(\"tax_ids\", id);\n  }\n  async upsertSubscriptionItems(subscriptionItems, accountId, syncTimestamp) {\n    const modifiedSubscriptionItems = subscriptionItems.map((subscriptionItem) => {\n      const priceId = subscriptionItem.price.id.toString();\n      const deleted = subscriptionItem.deleted;\n      const quantity = subscriptionItem.quantity;\n      return {\n        ...subscriptionItem,\n        price: priceId,\n        deleted: deleted ?? false,\n        quantity: quantity ?? null\n      };\n    });\n    await this.postgresClient.upsertManyWithTimestampProtection(\n      modifiedSubscriptionItems,\n      \"subscription_items\",\n      accountId,\n      syncTimestamp\n    );\n  }\n  async fillCheckoutSessionsLineItems(checkoutSessionIds, accountId, syncTimestamp) {\n    for (const checkoutSessionId of checkoutSessionIds) {\n      const lineItemResponses = [];\n      for await (const lineItem of this.stripe.checkout.sessions.listLineItems(checkoutSessionId, {\n        limit: 100\n      })) {\n        lineItemResponses.push(lineItem);\n      }\n      await this.upsertCheckoutSessionLineItems(\n        lineItemResponses,\n        checkoutSessionId,\n        accountId,\n        syncTimestamp\n      );\n    }\n  }\n  async upsertCheckoutSessionLineItems(lineItems, checkoutSessionId, accountId, syncTimestamp) {\n    await this.backfillPrices(\n      lineItems.map((lineItem) => lineItem.price?.id?.toString() ?? void 0).filter((id) => id !== void 0),\n      accountId\n    );\n    const modifiedLineItems = lineItems.map((lineItem) => {\n      const priceId = typeof lineItem.price === \"object\" && lineItem.price?.id ? lineItem.price.id.toString() : lineItem.price?.toString() || null;\n      return {\n        ...lineItem,\n        price: priceId,\n        checkout_session: checkoutSessionId\n      };\n    });\n    await this.postgresClient.upsertManyWithTimestampProtection(\n      modifiedLineItems,\n      \"checkout_session_line_items\",\n      accountId,\n      syncTimestamp\n    );\n  }\n  async markDeletedSubscriptionItems(subscriptionId, currentSubItemIds) {\n    let prepared = sql2(`\n    select id from \"stripe\".\"subscription_items\"\n    where subscription = :subscriptionId and COALESCE(deleted, false) = false;\n    `)({ subscriptionId });\n    const { rows } = await this.postgresClient.query(prepared.text, prepared.values);\n    const deletedIds = rows.filter(\n      ({ id }) => currentSubItemIds.includes(id) === false\n    );\n    if (deletedIds.length > 0) {\n      const ids = deletedIds.map(({ id }) => id);\n      prepared = sql2(`\n      update \"stripe\".\"subscription_items\"\n      set _raw_data = jsonb_set(_raw_data, '{deleted}', 'true'::jsonb)\n      where id=any(:ids::text[]);\n      `)({ ids });\n      const { rowCount } = await this.postgresClient.query(prepared.text, prepared.values);\n      return { rowCount: rowCount || 0 };\n    } else {\n      return { rowCount: 0 };\n    }\n  }\n  async upsertSubscriptionSchedules(subscriptionSchedules, accountId, backfillRelatedEntities, syncTimestamp) {\n    if (backfillRelatedEntities ?? this.config.backfillRelatedEntities) {\n      const customerIds = getUniqueIds(subscriptionSchedules, \"customer\");\n      await this.backfillCustomers(customerIds, accountId);\n    }\n    const rows = await this.postgresClient.upsertManyWithTimestampProtection(\n      subscriptionSchedules,\n      \"subscription_schedules\",\n      accountId,\n      syncTimestamp\n    );\n    return rows;\n  }\n  async upsertSubscriptions(subscriptions, accountId, backfillRelatedEntities, syncTimestamp) {\n    if (backfillRelatedEntities ?? this.config.backfillRelatedEntities) {\n      const customerIds = getUniqueIds(subscriptions, \"customer\");\n      await this.backfillCustomers(customerIds, accountId);\n    }\n    await this.expandEntity(\n      subscriptions,\n      \"items\",\n      (id) => this.stripe.subscriptionItems.list({ subscription: id, limit: 100 })\n    );\n    const rows = await this.postgresClient.upsertManyWithTimestampProtection(\n      subscriptions,\n      \"subscriptions\",\n      accountId,\n      syncTimestamp\n    );\n    const allSubscriptionItems = subscriptions.flatMap((subscription) => subscription.items.data);\n    await this.upsertSubscriptionItems(allSubscriptionItems, accountId, syncTimestamp);\n    const markSubscriptionItemsDeleted = [];\n    for (const subscription of subscriptions) {\n      const subscriptionItems = subscription.items.data;\n      const subItemIds = subscriptionItems.map((x) => x.id);\n      markSubscriptionItemsDeleted.push(\n        this.markDeletedSubscriptionItems(subscription.id, subItemIds)\n      );\n    }\n    await Promise.all(markSubscriptionItemsDeleted);\n    return rows;\n  }\n  async deleteRemovedActiveEntitlements(customerId, currentActiveEntitlementIds) {\n    const prepared = sql2(`\n      delete from \"stripe\".\"active_entitlements\"\n      where customer = :customerId and id <> ALL(:currentActiveEntitlementIds::text[]);\n      `)({ customerId, currentActiveEntitlementIds });\n    const { rowCount } = await this.postgresClient.query(prepared.text, prepared.values);\n    return { rowCount: rowCount || 0 };\n  }\n  async upsertFeatures(features, accountId, syncTimestamp) {\n    return this.postgresClient.upsertManyWithTimestampProtection(\n      features,\n      \"features\",\n      accountId,\n      syncTimestamp\n    );\n  }\n  async backfillFeatures(featureIds, accountId) {\n    const missingFeatureIds = await this.postgresClient.findMissingEntries(\"features\", featureIds);\n    await this.fetchMissingEntities(\n      missingFeatureIds,\n      (id) => this.stripe.entitlements.features.retrieve(id)\n    ).then((features) => this.upsertFeatures(features, accountId)).catch((err) => {\n      this.config.logger?.error(err, \"Failed to backfill features\");\n      throw err;\n    });\n  }\n  async upsertActiveEntitlements(customerId, activeEntitlements, accountId, backfillRelatedEntities, syncTimestamp) {\n    if (backfillRelatedEntities ?? this.config.backfillRelatedEntities) {\n      await Promise.all([\n        this.backfillCustomers(getUniqueIds(activeEntitlements, \"customer\"), accountId),\n        this.backfillFeatures(getUniqueIds(activeEntitlements, \"feature\"), accountId)\n      ]);\n    }\n    const entitlements = activeEntitlements.map((entitlement) => ({\n      id: entitlement.id,\n      object: entitlement.object,\n      feature: typeof entitlement.feature === \"string\" ? entitlement.feature : entitlement.feature.id,\n      customer: customerId,\n      livemode: entitlement.livemode,\n      lookup_key: entitlement.lookup_key\n    }));\n    return this.postgresClient.upsertManyWithTimestampProtection(\n      entitlements,\n      \"active_entitlements\",\n      accountId,\n      syncTimestamp\n    );\n  }\n  async findOrCreateManagedWebhook(url, params) {\n    const webhookParams = {\n      enabled_events: this.getSupportedEventTypes(),\n      ...params\n    };\n    const accountId = await this.getAccountId();\n    const lockKey = `webhook:${accountId}:${url}`;\n    return this.postgresClient.withAdvisoryLock(lockKey, async () => {\n      const existingWebhook = await this.getManagedWebhookByUrl(url);\n      if (existingWebhook) {\n        try {\n          const stripeWebhook = await this.stripe.webhookEndpoints.retrieve(existingWebhook.id);\n          if (stripeWebhook.status === \"enabled\") {\n            return stripeWebhook;\n          }\n          this.config.logger?.info(\n            { webhookId: existingWebhook.id },\n            \"Webhook is disabled, deleting and will recreate\"\n          );\n          await this.stripe.webhookEndpoints.del(existingWebhook.id);\n          await this.postgresClient.delete(\"_managed_webhooks\", existingWebhook.id);\n        } catch (error) {\n          const stripeError = error;\n          if (stripeError?.statusCode === 404 || stripeError?.code === \"resource_missing\") {\n            this.config.logger?.warn(\n              { error, webhookId: existingWebhook.id },\n              \"Webhook not found in Stripe (404), removing from database\"\n            );\n            await this.postgresClient.delete(\"_managed_webhooks\", existingWebhook.id);\n          } else {\n            this.config.logger?.error(\n              { error, webhookId: existingWebhook.id },\n              \"Error retrieving webhook from Stripe, keeping in database\"\n            );\n            throw error;\n          }\n        }\n      }\n      const allDbWebhooks = await this.listManagedWebhooks();\n      for (const dbWebhook of allDbWebhooks) {\n        if (dbWebhook.url !== url) {\n          this.config.logger?.info(\n            { webhookId: dbWebhook.id, oldUrl: dbWebhook.url, newUrl: url },\n            \"Webhook URL mismatch, deleting\"\n          );\n          try {\n            await this.stripe.webhookEndpoints.del(dbWebhook.id);\n          } catch (error) {\n            this.config.logger?.warn(\n              { error, webhookId: dbWebhook.id },\n              \"Failed to delete old webhook from Stripe\"\n            );\n          }\n          await this.postgresClient.delete(\"_managed_webhooks\", dbWebhook.id);\n        }\n      }\n      try {\n        const stripeWebhooks = await this.stripe.webhookEndpoints.list({ limit: 100 });\n        for (const stripeWebhook of stripeWebhooks.data) {\n          const isManagedByMetadata = stripeWebhook.metadata?.managed_by?.toLowerCase().replace(/[\\s\\-]+/g, \"\") === \"stripesync\";\n          const normalizedDescription = stripeWebhook.description?.toLowerCase().replace(/[\\s\\-]+/g, \"\") || \"\";\n          const isManagedByDescription = normalizedDescription.includes(\"stripesync\");\n          if (isManagedByMetadata || isManagedByDescription) {\n            const existsInDb = allDbWebhooks.some((dbWebhook) => dbWebhook.id === stripeWebhook.id);\n            if (!existsInDb) {\n              this.config.logger?.warn(\n                { webhookId: stripeWebhook.id, url: stripeWebhook.url },\n                \"Found orphaned managed webhook in Stripe, deleting\"\n              );\n              await this.stripe.webhookEndpoints.del(stripeWebhook.id);\n            }\n          }\n        }\n      } catch (error) {\n        this.config.logger?.warn({ error }, \"Failed to check for orphaned webhooks\");\n      }\n      const webhook = await this.stripe.webhookEndpoints.create({\n        ...webhookParams,\n        url,\n        // Always set metadata to identify managed webhooks\n        metadata: {\n          ...webhookParams.metadata,\n          managed_by: \"stripe-sync\"\n        }\n      });\n      const accountId2 = await this.getAccountId();\n      await this.upsertManagedWebhooks([webhook], accountId2);\n      return webhook;\n    });\n  }\n  async getManagedWebhook(id) {\n    const accountId = await this.getAccountId();\n    const result = await this.postgresClient.query(\n      `SELECT * FROM \"stripe\".\"_managed_webhooks\" WHERE id = $1 AND \"account_id\" = $2`,\n      [id, accountId]\n    );\n    return result.rows.length > 0 ? result.rows[0] : null;\n  }\n  /**\n   * Get a managed webhook by URL and account ID.\n   * Used for race condition recovery: when createManagedWebhook hits a unique constraint\n   * violation (another instance created the webhook), we need to fetch the existing webhook\n   * by URL since we only know the URL, not the ID of the webhook that won the race.\n   */\n  async getManagedWebhookByUrl(url) {\n    const accountId = await this.getAccountId();\n    const result = await this.postgresClient.query(\n      `SELECT * FROM \"stripe\".\"_managed_webhooks\" WHERE url = $1 AND \"account_id\" = $2`,\n      [url, accountId]\n    );\n    return result.rows.length > 0 ? result.rows[0] : null;\n  }\n  async listManagedWebhooks() {\n    const accountId = await this.getAccountId();\n    const result = await this.postgresClient.query(\n      `SELECT * FROM \"stripe\".\"_managed_webhooks\" WHERE \"account_id\" = $1 ORDER BY created DESC`,\n      [accountId]\n    );\n    return result.rows;\n  }\n  async updateManagedWebhook(id, params) {\n    const webhook = await this.stripe.webhookEndpoints.update(id, params);\n    const accountId = await this.getAccountId();\n    await this.upsertManagedWebhooks([webhook], accountId);\n    return webhook;\n  }\n  async deleteManagedWebhook(id) {\n    await this.stripe.webhookEndpoints.del(id);\n    return this.postgresClient.delete(\"_managed_webhooks\", id);\n  }\n  async upsertManagedWebhooks(webhooks, accountId, syncTimestamp) {\n    const filteredWebhooks = webhooks.map((webhook) => {\n      const filtered = {};\n      for (const prop of managedWebhookSchema.properties) {\n        if (prop in webhook) {\n          filtered[prop] = webhook[prop];\n        }\n      }\n      return filtered;\n    });\n    return this.postgresClient.upsertManyWithTimestampProtection(\n      filteredWebhooks,\n      \"_managed_webhooks\",\n      accountId,\n      syncTimestamp\n    );\n  }\n  async backfillSubscriptions(subscriptionIds, accountId) {\n    const missingSubscriptionIds = await this.postgresClient.findMissingEntries(\n      \"subscriptions\",\n      subscriptionIds\n    );\n    await this.fetchMissingEntities(\n      missingSubscriptionIds,\n      (id) => this.stripe.subscriptions.retrieve(id)\n    ).then((subscriptions) => this.upsertSubscriptions(subscriptions, accountId));\n  }\n  backfillSubscriptionSchedules = async (subscriptionIds, accountId) => {\n    const missingSubscriptionIds = await this.postgresClient.findMissingEntries(\n      \"subscription_schedules\",\n      subscriptionIds\n    );\n    await this.fetchMissingEntities(\n      missingSubscriptionIds,\n      (id) => this.stripe.subscriptionSchedules.retrieve(id)\n    ).then(\n      (subscriptionSchedules) => this.upsertSubscriptionSchedules(subscriptionSchedules, accountId)\n    );\n  };\n  /**\n   * Stripe only sends the first 10 entries by default, the option will actively fetch all entries.\n   */\n  async expandEntity(entities, property, listFn) {\n    if (!this.config.autoExpandLists) return;\n    for (const entity of entities) {\n      if (entity[property]?.has_more) {\n        const allData = [];\n        for await (const fetchedEntity of listFn(entity.id)) {\n          allData.push(fetchedEntity);\n        }\n        entity[property] = {\n          ...entity[property],\n          data: allData,\n          has_more: false\n        };\n      }\n    }\n  }\n  async fetchMissingEntities(ids, fetch) {\n    if (!ids.length) return [];\n    const entities = [];\n    for (const id of ids) {\n      const entity = await fetch(id);\n      entities.push(entity);\n    }\n    return entities;\n  }\n};\nfunction chunkArray(array, chunkSize) {\n  const result = [];\n  for (let i = 0; i < array.length; i += chunkSize) {\n    result.push(array.slice(i, i + chunkSize));\n  }\n  return result;\n}\n\n// src/database/migrate.ts\nimport { Client } from \"pg\";\nimport { migrate } from \"pg-node-migrations\";\nimport fs from \"fs\";\nimport path from \"path\";\nimport { fileURLToPath } from \"url\";\nvar __filename2 = fileURLToPath(import.meta.url);\nvar __dirname2 = path.dirname(__filename2);\nasync function doesTableExist(client, schema, tableName) {\n  const result = await client.query(\n    `SELECT EXISTS (\n      SELECT 1\n      FROM information_schema.tables\n      WHERE table_schema = $1\n      AND table_name = $2\n    )`,\n    [schema, tableName]\n  );\n  return result.rows[0]?.exists || false;\n}\nasync function renameMigrationsTableIfNeeded(client, schema = \"stripe\", logger) {\n  const oldTableExists = await doesTableExist(client, schema, \"migrations\");\n  const newTableExists = await doesTableExist(client, schema, \"_migrations\");\n  if (oldTableExists && !newTableExists) {\n    logger?.info(\"Renaming migrations table to _migrations\");\n    await client.query(`ALTER TABLE \"${schema}\".\"migrations\" RENAME TO \"_migrations\"`);\n    logger?.info(\"Successfully renamed migrations table\");\n  }\n}\nasync function cleanupSchema(client, schema, logger) {\n  logger?.warn(`Migrations table is empty - dropping and recreating schema \"${schema}\"`);\n  await client.query(`DROP SCHEMA IF EXISTS \"${schema}\" CASCADE`);\n  await client.query(`CREATE SCHEMA \"${schema}\"`);\n  logger?.info(`Schema \"${schema}\" has been reset`);\n}\nasync function connectAndMigrate(client, migrationsDirectory, config, logOnError = false) {\n  if (!fs.existsSync(migrationsDirectory)) {\n    config.logger?.info(`Migrations directory ${migrationsDirectory} not found, skipping`);\n    return;\n  }\n  const optionalConfig = {\n    schemaName: \"stripe\",\n    tableName: \"_migrations\"\n  };\n  try {\n    await migrate({ client }, migrationsDirectory, optionalConfig);\n  } catch (error) {\n    if (logOnError && error instanceof Error) {\n      config.logger?.error(error, \"Migration error:\");\n    } else {\n      throw error;\n    }\n  }\n}\nasync function runMigrations(config) {\n  const client = new Client({\n    connectionString: config.databaseUrl,\n    ssl: config.ssl,\n    connectionTimeoutMillis: 1e4\n  });\n  const schema = \"stripe\";\n  try {\n    await client.connect();\n    await client.query(`CREATE SCHEMA IF NOT EXISTS ${schema};`);\n    await renameMigrationsTableIfNeeded(client, schema, config.logger);\n    const tableExists = await doesTableExist(client, schema, \"_migrations\");\n    if (tableExists) {\n      const migrationCount = await client.query(\n        `SELECT COUNT(*) as count FROM \"${schema}\".\"_migrations\"`\n      );\n      const isEmpty = migrationCount.rows[0]?.count === \"0\";\n      if (isEmpty) {\n        await cleanupSchema(client, schema, config.logger);\n      }\n    }\n    config.logger?.info(\"Running migrations\");\n    await connectAndMigrate(client, path.resolve(__dirname2, \"./migrations\"), config);\n  } catch (err) {\n    config.logger?.error(err, \"Error running migrations\");\n    throw err;\n  } finally {\n    await client.end();\n    config.logger?.info(\"Finished migrations\");\n  }\n}\nexport {\n  PostgresClient,\n  StripeSync,\n  hashApiKey,\n  runMigrations\n};\n","// ESM wrapper for pg\nimport pg from '../lib/index.js'\n\n// Re-export all the properties\nexport const Client = pg.Client\nexport const Pool = pg.Pool\nexport const Connection = pg.Connection\nexport const types = pg.types\nexport const Query = pg.Query\nexport const DatabaseError = pg.DatabaseError\nexport const escapeIdentifier = pg.escapeIdentifier\nexport const escapeLiteral = pg.escapeLiteral\nexport const Result = pg.Result\nexport const TypeOverrides = pg.TypeOverrides\n\n// Also export the defaults\nexport const defaults = pg.defaults\n\n// Re-export the default\nexport default pg\n"],"names":[],"mappings":"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","ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56]}