{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/app/splash/page.tsx"],"sourcesContent":["\"use client\"\n\nimport { useEffect, useState } from \"react\"\nimport { useRouter } from \"next/navigation\"\nimport { useAuth } from \"@/hooks/use-auth\"\n\nexport default function SplashPage() {\n  const router = useRouter()\n  const { isAuthenticated, isLoading, user } = useAuth()\n  const [showLogo, setShowLogo] = useState(false)\n  const [fadeOut, setFadeOut] = useState(false)\n\n  useEffect(() => {\n    const logoTimer = setTimeout(() => setShowLogo(true), 300)\n    return () => clearTimeout(logoTimer)\n  }, [])\n\n  useEffect(() => {\n    if (isLoading) return\n\n    const fadeTimer = setTimeout(() => setFadeOut(true), 1500)\n    \n    const navigateTimer = setTimeout(() => {\n      if (!isAuthenticated) {\n        router.push(\"/login\")\n        return\n      }\n\n      const hasCompletedSurvey = localStorage.getItem(\"survey_myName\")\n      const selectedMode = localStorage.getItem(\"selected_mode\")\n\n      if (user?.firstName && !hasCompletedSurvey) {\n        localStorage.setItem(\"survey_myName\", user.firstName)\n      }\n\n      if (hasCompletedSurvey && selectedMode) {\n        if (selectedMode === \"wedding\") {\n          const weddingDate = localStorage.getItem(\"wedding_date\")\n          if (weddingDate) {\n            const target = new Date(weddingDate)\n            const today = new Date()\n            today.setHours(0, 0, 0, 0)\n            target.setHours(0, 0, 0, 0)\n            const diff = Math.ceil((target.getTime() - today.getTime()) / (1000 * 60 * 60 * 24))\n            if (diff < 0) {\n              localStorage.setItem(\"selected_mode\", \"family\")\n              localStorage.setItem(\"family_transition_pending\", \"true\")\n              router.push(\"/family\")\n              return\n            }\n          }\n          router.push(\"/wedding\")\n        } else if (selectedMode === \"dating\") {\n          router.push(\"/dating\")\n        } else if (selectedMode === \"family\") {\n          router.push(\"/family\")\n        } else {\n          router.push(\"/dating\")\n        }\n      } else if (hasCompletedSurvey) {\n        router.push(\"/dating\")\n      } else {\n        router.push(\"/survey/step1\")\n      }\n    }, 2000)\n\n    return () => {\n      clearTimeout(fadeTimer)\n      clearTimeout(navigateTimer)\n    }\n  }, [isLoading, isAuthenticated, user, router])\n\n  return (\n    <main \n      className={`min-h-dvh bg-white flex items-center justify-center transition-opacity duration-500 ${\n        fadeOut ? \"opacity-0\" : \"opacity-100\"\n      }`}\n    >\n      <div \n        className={`text-center transition-all duration-1000 ${\n          showLogo ? \"opacity-100 scale-100\" : \"opacity-0 scale-90\"\n        }`}\n      >\n        <h1 className=\"text-5xl font-bold text-blue-500 tracking-tight\">\n          WE:VE\n        </h1>\n        <p className=\"mt-3 text-[15px] text-[#8B95A1]\">\n          Our Every Moment Together\n        </p>\n        \n        <div className=\"mt-8 flex justify-center\">\n          <div className=\"w-8 h-8 border-3 border-blue-500 border-t-transparent rounded-full animate-spin\" />\n        </div>\n      </div>\n    </main>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAJA;;;;;AAMe,SAAS;IACtB,MAAM,SAAS,IAAA,+QAAS;IACxB,MAAM,EAAE,eAAe,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,IAAA,+HAAO;IACpD,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,iVAAQ,EAAC;IACzC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iVAAQ,EAAC;IAEvC,IAAA,kVAAS,EAAC;QACR,MAAM,YAAY,WAAW,IAAM,YAAY,OAAO;QACtD,OAAO,IAAM,aAAa;IAC5B,GAAG,EAAE;IAEL,IAAA,kVAAS,EAAC;QACR,IAAI,WAAW;QAEf,MAAM,YAAY,WAAW,IAAM,WAAW,OAAO;QAErD,MAAM,gBAAgB,WAAW;YAC/B,IAAI,CAAC,iBAAiB;gBACpB,OAAO,IAAI,CAAC;gBACZ;YACF;YAEA,MAAM,qBAAqB,aAAa,OAAO,CAAC;YAChD,MAAM,eAAe,aAAa,OAAO,CAAC;YAE1C,IAAI,MAAM,aAAa,CAAC,oBAAoB;gBAC1C,aAAa,OAAO,CAAC,iBAAiB,KAAK,SAAS;YACtD;YAEA,IAAI,sBAAsB,cAAc;gBACtC,IAAI,iBAAiB,WAAW;oBAC9B,MAAM,cAAc,aAAa,OAAO,CAAC;oBACzC,IAAI,aAAa;wBACf,MAAM,SAAS,IAAI,KAAK;wBACxB,MAAM,QAAQ,IAAI;wBAClB,MAAM,QAAQ,CAAC,GAAG,GAAG,GAAG;wBACxB,OAAO,QAAQ,CAAC,GAAG,GAAG,GAAG;wBACzB,MAAM,OAAO,KAAK,IAAI,CAAC,CAAC,OAAO,OAAO,KAAK,MAAM,OAAO,EAAE,IAAI,CAAC,OAAO,KAAK,KAAK,EAAE;wBAClF,IAAI,OAAO,GAAG;4BACZ,aAAa,OAAO,CAAC,iBAAiB;4BACtC,aAAa,OAAO,CAAC,6BAA6B;4BAClD,OAAO,IAAI,CAAC;4BACZ;wBACF;oBACF;oBACA,OAAO,IAAI,CAAC;gBACd,OAAO,IAAI,iBAAiB,UAAU;oBACpC,OAAO,IAAI,CAAC;gBACd,OAAO,IAAI,iBAAiB,UAAU;oBACpC,OAAO,IAAI,CAAC;gBACd,OAAO;oBACL,OAAO,IAAI,CAAC;gBACd;YACF,OAAO,IAAI,oBAAoB;gBAC7B,OAAO,IAAI,CAAC;YACd,OAAO;gBACL,OAAO,IAAI,CAAC;YACd;QACF,GAAG;QAEH,OAAO;YACL,aAAa;YACb,aAAa;QACf;IACF,GAAG;QAAC;QAAW;QAAiB;QAAM;KAAO;IAE7C,qBACE,8WAAC;QACC,WAAW,CAAC,oFAAoF,EAC9F,UAAU,cAAc,eACxB;kBAEF,cAAA,8WAAC;YACC,WAAW,CAAC,yCAAyC,EACnD,WAAW,0BAA0B,sBACrC;;8BAEF,8WAAC;oBAAG,WAAU;8BAAkD;;;;;;8BAGhE,8WAAC;oBAAE,WAAU;8BAAkC;;;;;;8BAI/C,8WAAC;oBAAI,WAAU;8BACb,cAAA,8WAAC;wBAAI,WAAU;;;;;;;;;;;;;;;;;;;;;;AAKzB"}}]
}