module.exports=[14013,a=>{"use strict";var b=a.i(64781),c=a.i(89982),d=a.i(30505),e=a.i(71074),f=a.i(35573),g=a.i(46886),h=a.i(1556),i=a.i(10784),j=a.i(43579),k=a.i(84980),l=a.i(71949),m=a.i(43825),n=a.i(17956),o=a.i(41327),p=a.i(20035);let q=[{icon:h.Calendar,label:"ì¼ì • ì¶”ê°€",color:"bg-green-50 text-green-600",href:"/family/calendar"},{icon:m.Plane,label:"ì—¬í–‰ ê³„íš",color:"bg-purple-50 text-purple-600",href:"/travel"},{icon:j.Book,label:"ì¶”ì–µ ë³´ê¸°",color:"bg-amber-50 text-amber-600",href:"/family/archive"}];function r(){let[a,h]=(0,c.useState)(0),[m,r]=(0,c.useState)(""),[s,t]=(0,c.useState)(!1),[u,v]=(0,c.useState)([]),[w,x]=(0,c.useState)([]),[y,z]=(0,c.useState)([]),[A,B]=(0,c.useState)([]),[C,D]=(0,c.useState)(0),[E,F]=(0,c.useState)(!0),[G,H]=(0,c.useState)({my:"í˜„ì •",partner:"ì£¼í˜¸"}),[I,J]=(0,c.useState)(0);(0,c.useEffect)(()=>{let a=localStorage.getItem("survey_myName")||"í˜„ì •",b=localStorage.getItem("survey_partnerName")||"ì£¼í˜¸",c=localStorage.getItem("survey_firstMeetDate");if(H({my:a,partner:b}),c){let a=new Date(c);J(Math.ceil(Math.abs(new Date().getTime()-a.getTime())/864e5))}else{let a=new Date("2025-12-20"),b=Math.floor((new Date().getTime()-a.getTime())/864e5);h(b>0?b:0)}let d=new Date().getHours();d<12?r("ì¢‹ì€ ì•„ì¹¨ì´ì—ìš”"):d<18?r("ì¢‹ì€ ì˜¤í›„ì˜ˆìš”"):r("ì¢‹ì€ ì €ë…ì´ì—ìš”"),K()},[]);let K=async()=>{F(!0);try{let a=new Date().toISOString().split("T")[0],[b,c,d,e,f]=await Promise.all([fetch("/api/notifications?mode=family"),fetch(`/api/events?mode=family&date=${a}`),fetch("/api/albums?mode=family"),fetch("/api/travels"),fetch("/api/photos?mode=family")]),g=await b.json(),h=await c.json(),i=await d.json(),j=await e.json(),k=await f.json();v(g.map(a=>({id:String(a.id),type:a.type,title:a.title,message:a.message,time:L(a.createdAt)}))),x(h.map(a=>({id:a.id,time:a.time||"00:00",title:a.title,category:a.category||"ì¼ì •"}))),z(i.slice(0,3)),B(j),D(k.length)}catch(a){console.error("Error fetching data:",a)}finally{F(!1)}},L=a=>{let b=new Date(a),c=new Date().getTime()-b.getTime(),d=Math.floor(c/6e4),e=Math.floor(c/36e5),f=Math.floor(c/864e5);return d<1?"ë°©ê¸ˆ":d<60?`${d}ë¶„ ì „`:e<24?`${e}ì‹œê°„ ì „`:`${f}ì¼ ì „`},M=A.find(a=>new Date(a.startDate)>=new Date);return(0,b.jsxs)("div",{className:"min-h-screen bg-[#F2F4F6] pb-24",children:[(0,b.jsx)("header",{className:"fixed top-0 left-0 right-0 z-50 bg-[#F2F4F6]/90 backdrop-blur-md",children:(0,b.jsxs)("div",{className:"flex items-center justify-between px-5 py-3 max-w-md mx-auto",children:[(0,b.jsx)(p.ModeSwitch,{currentMode:"family"}),(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsxs)("button",{onClick:()=>t(!s),className:"relative","data-testid":"button-notifications",children:[(0,b.jsx)(e.Bell,{className:"w-6 h-6 text-[#4E5968]",strokeWidth:1.8}),u.length>0&&(0,b.jsx)("span",{className:"absolute top-0 right-0 w-1.5 h-1.5 bg-green-500 rounded-full"})]}),(0,b.jsx)(o.NotificationModal,{isOpen:s,onClose:()=>t(!1),notifications:u,onClearAll:()=>v([]),mode:"family"})]})]})}),(0,b.jsxs)("main",{className:"pt-16 px-5 space-y-4 max-w-md mx-auto",children:[(0,b.jsxs)("div",{className:"mt-2 flex justify-between items-start",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("p",{className:"text-[13px] text-[#8B95A1] mb-1",children:[m,", ",G.my,"ë‹˜"]}),(0,b.jsx)("h1",{className:"text-[26px] leading-[1.35] font-bold text-[#191F28]",children:I>0||a>0?(0,b.jsxs)(b.Fragment,{children:["í•¨ê»˜í•œ ì§€",(0,b.jsx)("br",{}),(0,b.jsxs)("span",{className:"text-green-600",children:["D+",I>0?I:a]}),"ì¼"]}):(0,b.jsxs)(b.Fragment,{children:["ìš°ë¦¬ ê°€ì¡±ì˜",(0,b.jsx)("br",{}),(0,b.jsx)("span",{className:"text-green-600",children:"ì¼ìƒ"})]})})]}),(0,b.jsx)("div",{className:"w-12 h-12 rounded-full bg-green-100 flex items-center justify-center",children:(0,b.jsx)(l.Home,{className:"w-6 h-6 text-green-600"})})]}),(0,b.jsx)("div",{className:"bg-white rounded-[24px] p-5 shadow-weve",children:(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsxs)("div",{className:"flex -space-x-2",children:[(0,b.jsx)("div",{className:"w-14 h-14 rounded-full bg-pink-100 flex items-center justify-center border-2 border-white",children:(0,b.jsx)("span",{className:"text-2xl",children:"ðŸ‘©"})}),(0,b.jsx)("div",{className:"w-14 h-14 rounded-full bg-blue-100 flex items-center justify-center border-2 border-white",children:(0,b.jsx)("span",{className:"text-2xl",children:"ðŸ‘¨"})})]}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("p",{className:"text-[17px] font-bold text-[#191F28]",children:[G.my," & ",G.partner]}),(0,b.jsx)("p",{className:"text-[13px] text-[#8B95A1]",children:"í•¨ê»˜í•˜ëŠ” ì¼ìƒ"})]}),(0,b.jsx)(f.Heart,{className:"w-6 h-6 text-green-500",fill:"#22c55e"})]})}),(0,b.jsx)("div",{className:"grid grid-cols-3 gap-3",children:q.map(a=>{let c=a.icon;return(0,b.jsxs)(d.default,{href:a.href,className:"bg-white rounded-[20px] p-4 shadow-weve flex flex-col items-center gap-2 hover:scale-[1.02] active:scale-[0.98] transition-transform",children:[(0,b.jsx)("div",{className:`w-12 h-12 rounded-full ${a.color} flex items-center justify-center`,children:(0,b.jsx)(c,{className:"w-6 h-6"})}),(0,b.jsx)("span",{className:"text-[13px] font-medium text-[#333D4B]",children:a.label})]},a.label)})}),(0,b.jsxs)("div",{className:"bg-white rounded-[24px] p-5 shadow-weve",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,b.jsx)("h3",{className:"font-bold text-[19px] text-[#191F28]",children:"ì˜¤ëŠ˜ì˜ ì¼ì •"}),(0,b.jsxs)(d.default,{href:"/family/calendar",className:"text-[13px] font-medium text-[#8B95A1] flex items-center gap-0.5",children:["ë”ë³´ê¸° ",(0,b.jsx)(g.ChevronRight,{className:"w-4 h-4"})]})]}),E?(0,b.jsx)("div",{className:"py-8 text-center text-[#8B95A1]",children:"ë¡œë”© ì¤‘..."}):w.length>0?(0,b.jsx)("div",{className:"space-y-2",children:w.map(a=>(0,b.jsxs)("div",{className:"flex items-center gap-3 py-3",children:[(0,b.jsx)("div",{className:"w-12 h-12 rounded-[14px] bg-[#F2F4F6] flex items-center justify-center flex-shrink-0",children:(0,b.jsx)("span",{className:"text-[13px] font-bold text-[#4E5968]",children:a.time})}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("p",{className:"text-[15px] font-medium text-[#333D4B]",children:a.title}),(0,b.jsx)("span",{className:`text-[11px] font-bold px-2 py-0.5 rounded-full ${(a=>{switch(a){case"í•¨ê»˜":return"bg-green-100 text-green-600";case"ë°ì´íŠ¸":return"bg-pink-100 text-pink-600";default:return"bg-gray-100 text-gray-600"}})(a.category)}`,children:a.category})]}),(0,b.jsx)(g.ChevronRight,{className:"w-5 h-5 text-[#B0B8C1]"})]},a.id))}):(0,b.jsxs)("div",{className:"py-8 text-center",children:[(0,b.jsx)("p",{className:"text-[#8B95A1] text-[15px] mb-3",children:"ì˜¤ëŠ˜ ì¼ì •ì´ ì—†ì–´ìš”"}),(0,b.jsxs)(d.default,{href:"/family/calendar",className:"inline-flex items-center gap-2 px-4 py-2.5 bg-green-600 text-white text-[14px] font-bold rounded-[12px]",children:[(0,b.jsx)(k.Plus,{className:"w-4 h-4"}),"ì¼ì • ì¶”ê°€í•˜ê¸°"]})]})]}),(0,b.jsxs)("div",{className:"bg-white rounded-[24px] p-5 shadow-weve",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(j.Book,{className:"w-5 h-5 text-amber-500"}),(0,b.jsx)("h3",{className:"font-bold text-[19px] text-[#191F28]",children:"ì¶”ì–µ ë³´ê´€í•¨"})]}),(0,b.jsxs)(d.default,{href:"/family/archive",className:"text-[13px] font-medium text-[#8B95A1] flex items-center gap-0.5",children:["ë”ë³´ê¸° ",(0,b.jsx)(g.ChevronRight,{className:"w-4 h-4"})]})]}),E?(0,b.jsx)("div",{className:"py-4 text-center text-[#8B95A1]",children:"ë¡œë”© ì¤‘..."}):y.length>0?(0,b.jsxs)("div",{className:"flex gap-3 overflow-x-auto scrollbar-hide pb-2 -mx-1 px-1",children:[y.map(a=>(0,b.jsxs)(d.default,{href:`/family/archive/${a.id}`,className:"flex-shrink-0 w-36 bg-gradient-to-br from-amber-50 to-amber-100 rounded-[16px] p-3 hover:scale-[1.02] transition-transform",children:[(0,b.jsx)("div",{className:"w-full aspect-square bg-amber-200/50 rounded-[12px] mb-2 flex items-center justify-center",children:(0,b.jsx)(i.ImageIcon,{className:"w-8 h-8 text-amber-400"})}),(0,b.jsx)("p",{className:"font-bold text-[14px] text-[#333D4B] truncate",children:a.title}),(0,b.jsxs)("p",{className:"text-[12px] text-[#8B95A1]",children:[a.photoCount,"ìž¥"]})]},a.id)),(0,b.jsxs)(d.default,{href:"/family/archive",className:"flex-shrink-0 w-36 bg-[#F2F4F6] rounded-[16px] p-3 flex flex-col items-center justify-center gap-2",children:[(0,b.jsx)("div",{className:"w-10 h-10 rounded-full bg-white flex items-center justify-center",children:(0,b.jsx)(g.ChevronRight,{className:"w-5 h-5 text-[#8B95A1]"})}),(0,b.jsx)("p",{className:"text-[13px] text-[#8B95A1] text-center",children:"ë” ë§Žì€ ì¶”ì–µ"})]})]}):(0,b.jsxs)("div",{className:"py-6 text-center",children:[(0,b.jsx)(i.ImageIcon,{className:"w-12 h-12 text-amber-200 mx-auto mb-2"}),(0,b.jsx)("p",{className:"text-[#8B95A1] text-[14px]",children:"ì•„ì§ ì¶”ì–µì´ ì—†ì–´ìš”"}),(0,b.jsx)("p",{className:"text-[#B0B8C1] text-[12px] mt-1",children:"ì‚¬ì§„ì„ ì¶”ê°€í•´ì„œ ì¶”ì–µì„ ë‚¨ê²¨ë³´ì„¸ìš”"})]})]}),M&&(0,b.jsx)(n.TravelEntryCard,{mode:"family",trip:{id:String(M.id),destination:M.destination,startDate:M.startDate,endDate:M.endDate}}),(0,b.jsxs)("div",{className:"bg-white rounded-[24px] overflow-hidden shadow-weve",children:[(0,b.jsx)("div",{className:"w-full h-32 bg-cover bg-center relative",style:{backgroundImage:"linear-gradient(135deg, #a8e6cf 0%, #88d8b0 100%)"},children:(0,b.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("p",{className:"text-white/80 text-[13px] mb-1",children:"ìš°ë¦¬ì˜ ì¶”ì–µ"}),(0,b.jsx)("p",{className:"text-white text-lg font-bold",children:C>0?"ì‚¬ì§„ì„ í™•ì¸í•´ë³´ì„¸ìš”":"ì‚¬ì§„ì„ ì¶”ê°€í•´ë³´ì„¸ìš”"})]})})}),(0,b.jsxs)(d.default,{href:"/family/archive",className:"p-4 flex justify-between items-center",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{className:"text-[15px] font-bold text-[#333D4B]",children:"ì¶”ì–µ ë³´ê¸°"}),(0,b.jsx)("div",{className:"text-[12px] text-[#8B95A1] mt-0.5",children:C>0?`${C}ìž¥ì˜ ì‚¬ì§„`:"ì•„ì§ ì‚¬ì§„ì´ ì—†ì–´ìš”"})]}),(0,b.jsx)(g.ChevronRight,{className:"w-5 h-5 text-[#B0B8C1]"})]})]})]})]})}var s=a.i(46712),t=a.i(98498),u=a.i(28980);let v=[{date:"2024.03.14",label:"ì²« ë§Œë‚¨",icon:f.Heart,color:"text-pink-500"},{date:"2024.06.21",label:"100ì¼",icon:f.Heart,color:"text-pink-500"},{date:"2024.12.25",label:"ì²« í¬ë¦¬ìŠ¤ë§ˆìŠ¤",icon:u.Sparkles,color:"text-amber-500"},{date:"2025.03.14",label:"1ì£¼ë…„",icon:f.Heart,color:"text-pink-500"},{date:"2025.08.15",label:"í”„ë¡œí¬ì¦ˆ",icon:t.Gem,color:"text-[#3182F6]"},{date:"2025.12.20",label:"ê²°í˜¼ì‹",icon:l.Home,color:"text-green-500"}];function w({onComplete:a}){let[d,e]=(0,c.useState)(0),[f,h]=(0,c.useState)(0);return(0,c.useEffect)(()=>{if(1===d){let a=setInterval(()=>{h(b=>b>=v.length?(clearInterval(a),b):b+1)},600);return()=>clearInterval(a)}},[d]),(0,c.useEffect)(()=>{if(0===d){let a=setTimeout(()=>e(1),2e3);return()=>clearTimeout(a)}},[d]),(0,b.jsxs)("div",{className:"fixed inset-0 z-50 bg-[#191F28] overflow-hidden",children:[0===d&&(0,b.jsxs)("div",{className:"absolute inset-0 flex flex-col items-center justify-center p-8 animate-fade-in",children:[(0,b.jsx)("div",{className:"relative mb-8",children:(0,b.jsx)("div",{className:"w-24 h-24 rounded-full bg-green-500/20 flex items-center justify-center",children:(0,b.jsx)(l.Home,{className:"w-12 h-12 text-green-500 animate-pulse"})})}),(0,b.jsx)("h1",{className:"text-3xl md:text-4xl font-bold text-white text-center mb-4",children:"ê°€ì¡±ì´ ëœ ê²ƒì„ ì¶•í•˜í•©ë‹ˆë‹¤!"}),(0,b.jsxs)("p",{className:"text-white/60 text-center max-w-xs text-[15px]",children:["í˜„ì • ë‹˜ê³¼ ì£¼í˜¸ ë‹˜, ì´ì œ í•˜ë‚˜ì˜ ê°€ì¡±ìœ¼ë¡œ",(0,b.jsx)("br",{}),"ìƒˆë¡œìš´ ì´ì•¼ê¸°ë¥¼ ì‹œìž‘í•´ë³´ì„¸ìš”"]})]}),1===d&&(0,b.jsx)("div",{className:"absolute inset-0 flex flex-col p-6 overflow-y-auto",children:(0,b.jsxs)("div",{className:"flex-1 flex flex-col items-center justify-center",children:[(0,b.jsx)("p",{className:"text-[12px] tracking-[0.2em] text-white/40 uppercase mb-3",children:"Our Journey"}),(0,b.jsxs)("h2",{className:"text-2xl font-bold text-white text-center mb-8 text-balance",children:["ì—°ì• ë¶€í„° ê²°í˜¼ê¹Œì§€",(0,b.jsx)("br",{}),(0,b.jsx)("span",{className:"text-green-500",children:"ìš°ë¦¬ì˜ ì†Œì¤‘í•œ ê¸°ë¡"})]}),(0,b.jsxs)("div",{className:"relative w-full max-w-xs space-y-3",children:[(0,b.jsx)("div",{className:"absolute left-5 top-0 bottom-0 w-0.5 bg-white/10 rounded-full"}),v.map((a,c)=>{let d=a.icon;return(0,b.jsxs)("div",{className:`relative flex items-center gap-4 transition-all duration-500 ${c<f?"opacity-100 translate-x-0":"opacity-0 -translate-x-4"}`,children:[(0,b.jsx)("div",{className:"relative z-10 w-10 h-10 rounded-full bg-[#2D2D3A] flex items-center justify-center",children:(0,b.jsx)(d,{className:`w-4 h-4 ${a.color}`})}),(0,b.jsxs)("div",{className:"flex-1 py-2.5 px-4 bg-white/5 rounded-[14px]",children:[(0,b.jsx)("p",{className:"text-[11px] text-white/40",children:a.date}),(0,b.jsx)("p",{className:"text-[14px] font-medium text-white",children:a.label})]})]},a.date)})]}),f>=v.length&&(0,b.jsx)("div",{className:"mt-8 animate-fade-in",children:(0,b.jsxs)("button",{onClick:()=>e(2),className:"flex items-center gap-2 px-6 py-3.5 bg-green-600 hover:bg-green-700 text-white font-semibold rounded-[14px] transition-colors",children:[(0,b.jsx)("span",{children:"ì¶”ì–µ ë³´ê´€í•˜ê¸°"}),(0,b.jsx)(g.ChevronRight,{className:"w-4 h-4"})]})})]})}),2===d&&(0,b.jsxs)("div",{className:"absolute inset-0 flex flex-col items-center justify-center p-8 animate-fade-in",children:[(0,b.jsx)("div",{className:"relative mb-8",children:(0,b.jsx)("div",{className:"w-20 h-20 rounded-full bg-green-500/20 flex items-center justify-center",children:(0,b.jsx)(j.Book,{className:"w-10 h-10 text-green-500"})})}),(0,b.jsx)("h2",{className:"text-2xl font-bold text-white text-center mb-3",children:"ì¶”ì–µì´ ížˆìŠ¤í† ë¦¬ ë¶ì— ì €ìž¥ë˜ì—ˆì–´ìš”"}),(0,b.jsxs)("p",{className:"text-white/50 text-center text-[14px] max-w-xs mb-8",children:["ì—°ì• ë¶€í„° ê²°í˜¼ê¹Œì§€ì˜ ëª¨ë“  ìˆœê°„ì´",(0,b.jsx)("br",{}),"ì•ˆì „í•˜ê²Œ ë³´ê´€ë˜ì—ˆì–´ìš”. ì–¸ì œë“  êº¼ë‚´ë³¼ ìˆ˜ ìžˆì–´ìš”."]}),(0,b.jsxs)("div",{className:"w-full max-w-xs space-y-3",children:[(0,b.jsx)("button",{onClick:a,className:"w-full py-4 bg-green-600 hover:bg-green-700 text-white font-semibold rounded-[14px] transition-colors",children:"ê°€ì¡± ëª¨ë“œ ì‹œìž‘í•˜ê¸°"}),(0,b.jsx)("p",{className:"text-center text-[12px] text-white/30",children:"ì´ì œ, ë¶€ë¶€ë¡œì„œì˜ ì²« íŽ˜ì´ì§€ë¥¼ ì‹œìž‘í•´ ë³¼ê¹Œìš”?"})]})]})]})}function x(){let[a,d]=(0,c.useState)(!1);return((0,c.useEffect)(()=>{localStorage.getItem("weve-family-intro-seen")||d(!0)},[]),a)?(0,b.jsx)(w,{onComplete:()=>{localStorage.setItem("weve-family-intro-seen","true"),d(!1)}}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(r,{}),(0,b.jsx)(s.FamilyBottomNav,{})]})}a.s(["default",()=>x],14013)}];

//# sourceMappingURL=app_family_page_tsx_28f85529._.js.map