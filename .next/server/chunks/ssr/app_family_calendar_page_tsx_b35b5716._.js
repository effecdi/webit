module.exports=[52259,a=>{"use strict";var b=a.i(64781),c=a.i(89982),d=a.i(60493),e=a.i(46886),f=a.i(84980),g=a.i(32267),h=a.i(94480),i=a.i(31799),j=a.i(96826),k=a.i(76929),l=a.i(19113);let m={me:{bg:"bg-pink-500",light:"bg-pink-50",text:"text-pink-500",label:"나"},partner:{bg:"bg-blue-500",light:"bg-blue-50",text:"text-blue-500",label:"파트너"},together:{bg:"bg-green-500",light:"bg-green-50",text:"text-green-500",label:"함께"},anniversary:{bg:"bg-amber-500",light:"bg-amber-50",text:"text-amber-500",label:"기념일"}};function n(){let[a,n]=(0,c.useState)(new Date),[o,p]=(0,c.useState)([]);(0,c.useEffect)(()=>{q()},[]);let q=async()=>{try{let a=await fetch("/api/events?userId=default&mode=family"),b=(await a.json()).map(a=>({id:String(a.id),date:new Date(a.date).toISOString().split("T")[0],title:a.title,category:a.category,time:a.time,location:a.location}));p(b)}catch(a){console.error("Failed to fetch events:",a)}},[r,s]=(0,c.useState)(null),[t,u]=(0,c.useState)(!1),[v,w]=(0,c.useState)(null),[x,y]=(0,c.useState)(!1),[z,A]=(0,c.useState)(null),[B,C]=(0,c.useState)({title:"",category:"together",time:"",location:""}),D=a.getFullYear(),E=a.getMonth(),F=(0,c.useMemo)(()=>{let a=new Date(D,E,1),b=new Date(D,E+1,0),c=a.getDay(),d=b.getDate(),e=[];for(let a=0;a<c;a++)e.push(null);for(let a=1;a<=d;a++)e.push(a);return e},[D,E]),G=a=>{w(a),C({title:a.title,category:a.category,time:a.time||"",location:a.location||""}),s(a.date),u(!0)},H=a=>{A(a),y(!0)},I=()=>{C({title:"",category:"together",time:"",location:""}),w(null),u(!1)},J=r?o.filter(a=>a.date===r):[],K=o.filter(a=>new Date(a.date)>=new Date).sort((a,b)=>new Date(a.date).getTime()-new Date(b.date).getTime()).slice(0,5);return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"px-5 py-5 max-w-md mx-auto",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-5",children:[(0,b.jsx)("button",{onClick:()=>n(new Date(D,E-1,1)),className:"w-10 h-10 flex items-center justify-center rounded-full hover:bg-white transition-colors",children:(0,b.jsx)(d.ChevronLeft,{className:"w-5 h-5 text-[#4E5968]"})}),(0,b.jsxs)("h2",{className:"text-[18px] font-bold text-[#191F28]",children:[D,"년 ",E+1,"월"]}),(0,b.jsx)("button",{onClick:()=>n(new Date(D,E+1,1)),className:"w-10 h-10 flex items-center justify-center rounded-full hover:bg-white transition-colors",children:(0,b.jsx)(e.ChevronRight,{className:"w-5 h-5 text-[#4E5968]"})})]}),(0,b.jsx)("div",{className:"flex flex-wrap gap-3 mb-4",children:Object.entries(m).map(([a,c])=>(0,b.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,b.jsx)("div",{className:`w-2.5 h-2.5 rounded-full ${c.bg}`}),(0,b.jsx)("span",{className:"text-[12px] text-[#8B95A1]",children:c.label})]},a))}),(0,b.jsxs)("div",{className:"bg-white rounded-[20px] shadow-sm overflow-hidden mb-5",children:[(0,b.jsx)("div",{className:"grid grid-cols-7 border-b border-[#F2F4F6]",children:["일","월","화","수","목","금","토"].map((a,c)=>(0,b.jsx)("div",{className:`py-3 text-center text-[13px] font-medium ${0===c?"text-red-400":6===c?"text-blue-400":"text-[#8B95A1]"}`,children:a},a))}),(0,b.jsx)("div",{className:"grid grid-cols-7",children:F.map((a,c)=>{let d,e=a?`${D}-${String(E+1).padStart(2,"0")}-${String(a).padStart(2,"0")}`:null,f=a?(d=`${D}-${String(E+1).padStart(2,"0")}-${String(a).padStart(2,"0")}`,o.filter(a=>a.date===d)):[],g=e===r,h=a===new Date().getDate()&&E===new Date().getMonth()&&D===new Date().getFullYear(),i=c%7;return(0,b.jsx)("button",{disabled:!a,onClick:()=>a&&void s(`${D}-${String(E+1).padStart(2,"0")}-${String(a).padStart(2,"0")}`),className:`relative aspect-square p-1 transition-colors ${a?"hover:bg-[#F8F9FA] cursor-pointer":""} ${g?"bg-green-50":""}`,children:a&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("span",{className:`text-[14px] font-medium flex items-center justify-center ${h?"w-7 h-7 bg-green-500 text-white rounded-full mx-auto":""} ${!h&&0===i?"text-red-400":""} ${!h&&6===i?"text-blue-400":""} ${!h&&0!==i&&6!==i?"text-[#191F28]":""}`,children:a}),f.length>0&&(0,b.jsx)("div",{className:"absolute bottom-1.5 left-1/2 -translate-x-1/2 flex gap-0.5",children:f.slice(0,3).map(a=>(0,b.jsx)("div",{className:`w-1.5 h-1.5 rounded-full ${m[a.category].bg}`},a.id))})]})},c)})})]}),r&&(0,b.jsxs)("section",{className:"bg-white rounded-[20px] shadow-sm p-5 mb-5",children:[(0,b.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,b.jsx)("h3",{className:"text-[16px] font-bold text-[#191F28]",children:new Date(r).toLocaleDateString("ko-KR",{month:"long",day:"numeric"})})}),J.length>0?(0,b.jsx)("div",{className:"space-y-2",children:J.map(a=>(0,b.jsxs)("div",{className:`flex items-center gap-3 p-3.5 rounded-[12px] ${m[a.category].light}`,children:[(0,b.jsx)("div",{className:`w-1 h-10 rounded-full ${m[a.category].bg}`}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("p",{className:"text-[14px] font-medium text-[#191F28]",children:a.title}),(0,b.jsxs)("div",{className:"flex items-center gap-2 mt-0.5",children:[a.time&&(0,b.jsxs)("span",{className:"text-[12px] text-[#8B95A1] flex items-center gap-0.5",children:[(0,b.jsx)(k.Clock,{className:"w-3 h-3"})," ",a.time]}),a.location&&(0,b.jsxs)("span",{className:"text-[12px] text-[#8B95A1] flex items-center gap-0.5",children:[(0,b.jsx)(l.MapPin,{className:"w-3 h-3"})," ",a.location]})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)("button",{onClick:()=>G(a),className:"w-8 h-8 rounded-full hover:bg-white flex items-center justify-center transition-colors",children:(0,b.jsx)(i.Edit2,{className:"w-4 h-4 text-[#8B95A1]"})}),(0,b.jsx)("button",{onClick:()=>H(a),className:"w-8 h-8 rounded-full hover:bg-red-50 flex items-center justify-center transition-colors",children:(0,b.jsx)(j.Trash2,{className:"w-4 h-4 text-[#FF6B6B]"})})]})]},a.id))}):(0,b.jsx)("p",{className:"text-center text-[#8B95A1] text-[14px] py-6",children:"일정이 없습니다"})]}),(0,b.jsxs)("section",{className:"bg-white rounded-[20px] shadow-sm p-5",children:[(0,b.jsx)("h3",{className:"text-[17px] font-bold text-[#191F28] mb-4",children:"다가오는 일정"}),(0,b.jsxs)("div",{className:"space-y-2",children:[K.map(a=>(0,b.jsxs)("div",{className:"flex items-center gap-3 p-4 bg-[#F8F9FA] rounded-[12px]",children:[(0,b.jsx)("div",{className:`w-1 h-10 rounded-full ${m[a.category].bg}`}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("p",{className:"text-[14px] font-medium text-[#191F28]",children:a.title}),(0,b.jsxs)("div",{className:"flex items-center gap-2 mt-0.5",children:[(0,b.jsx)("span",{className:"text-[12px] text-[#8B95A1]",children:new Date(a.date).toLocaleDateString("ko-KR",{month:"short",day:"numeric"})}),a.time&&(0,b.jsxs)("span",{className:"text-[12px] text-[#8B95A1] flex items-center gap-0.5",children:[(0,b.jsx)(k.Clock,{className:"w-3 h-3"})," ",a.time]})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsx)("button",{onClick:()=>G(a),className:"w-8 h-8 rounded-full hover:bg-[#E5E8EB] flex items-center justify-center transition-colors",children:(0,b.jsx)(i.Edit2,{className:"w-4 h-4 text-[#8B95A1]"})}),(0,b.jsx)("button",{onClick:()=>H(a),className:"w-8 h-8 rounded-full hover:bg-red-50 flex items-center justify-center transition-colors",children:(0,b.jsx)(j.Trash2,{className:"w-4 h-4 text-[#FF6B6B]"})})]}),(0,b.jsx)("span",{className:`text-[11px] font-medium px-2 py-1 rounded-full ${m[a.category].light} ${m[a.category].text}`,children:m[a.category].label})]},a.id)),0===K.length&&(0,b.jsx)("p",{className:"text-center text-[#8B95A1] text-[14px] py-6",children:"다가오는 일정이 없습니다"})]})]})]}),(0,b.jsx)("button",{onClick:()=>{if(!r){let a=new Date;s(`${a.getFullYear()}-${String(a.getMonth()+1).padStart(2,"0")}-${String(a.getDate()).padStart(2,"0")}`)}w(null),C({title:"",category:"together",time:"",location:""}),u(!0)},className:"fixed bottom-24 right-5 w-14 h-14 bg-green-500 hover:bg-green-600 text-white rounded-full shadow-lg flex items-center justify-center transition-all hover:scale-105 active:scale-95 z-40",children:(0,b.jsx)(f.Plus,{className:"w-6 h-6"})}),t&&(0,b.jsxs)("div",{className:"fixed inset-0 z-[60] flex items-end justify-center bg-black/50",children:[(0,b.jsx)("div",{className:"absolute inset-0",onClick:I}),(0,b.jsxs)("div",{className:"relative w-full max-w-md bg-white rounded-t-[24px] animate-in slide-in-from-bottom duration-300",onClick:a=>a.stopPropagation(),children:[(0,b.jsx)("div",{className:"flex justify-center pt-3 pb-2",children:(0,b.jsx)("div",{className:"w-10 h-1 bg-[#E5E8EB] rounded-full"})}),(0,b.jsxs)("div",{className:"flex items-center justify-between px-5 pb-4 border-b border-[#F2F4F6]",children:[(0,b.jsx)("button",{onClick:I,children:(0,b.jsx)(g.X,{className:"w-6 h-6 text-[#8B95A1]"})}),(0,b.jsx)("h3",{className:"text-[17px] font-bold text-[#191F28]",children:v?"일정 수정":"일정 추가"}),(0,b.jsx)("button",{onClick:()=>{r&&B.title&&(v?p(o.map(a=>a.id===v.id?{...a,title:B.title,category:B.category,time:B.time||void 0,location:B.location||void 0,date:r}:a)):p([...o,{id:Date.now().toString(),date:r,title:B.title,category:B.category,time:B.time||void 0,location:B.location||void 0}]),I())},disabled:!B.title,className:`text-[15px] font-semibold ${B.title?"text-green-500":"text-[#B0B8C1]"}`,children:v?"수정":"저장"})]}),(0,b.jsxs)("div",{className:"px-5 py-5 space-y-5",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-[13px] font-medium text-[#4E5968] mb-2",children:"일정 제목"}),(0,b.jsx)("input",{type:"text",value:B.title,onChange:a=>C({...B,title:a.target.value}),className:"w-full px-4 py-3.5 bg-[#F2F4F6] rounded-[12px] text-[15px] text-[#191F28] placeholder:text-[#B0B8C1] focus:outline-none focus:ring-2 focus:ring-green-500",placeholder:"일정을 입력하세요"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-[13px] font-medium text-[#4E5968] mb-2",children:"카테고리"}),(0,b.jsx)("div",{className:"grid grid-cols-2 gap-2",children:Object.entries(m).map(([a,c])=>(0,b.jsxs)("button",{onClick:()=>C({...B,category:a}),className:`flex items-center justify-center gap-2 py-3 rounded-[12px] text-[14px] font-medium transition-all ${B.category===a?`${c.bg} text-white`:"bg-[#F2F4F6] text-[#4E5968]"}`,children:[B.category===a&&(0,b.jsx)(h.Check,{className:"w-4 h-4"}),c.label]},a))})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-[13px] font-medium text-[#4E5968] mb-2",children:"시간 (선택)"}),(0,b.jsx)("input",{type:"time",value:B.time,onChange:a=>C({...B,time:a.target.value}),className:"w-full px-4 py-3.5 bg-[#F2F4F6] rounded-[12px] text-[15px] text-[#191F28] focus:outline-none focus:ring-2 focus:ring-green-500"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-[13px] font-medium text-[#4E5968] mb-2",children:"장소 (선택)"}),(0,b.jsx)("input",{type:"text",value:B.location,onChange:a=>C({...B,location:a.target.value}),className:"w-full px-4 py-3.5 bg-[#F2F4F6] rounded-[12px] text-[15px] text-[#191F28] placeholder:text-[#B0B8C1] focus:outline-none focus:ring-2 focus:ring-green-500",placeholder:"장소를 입력하세요"})]})]}),(0,b.jsx)("div",{className:"h-8"})]})]}),x&&z&&(0,b.jsx)("div",{className:"fixed inset-0 z-[60] bg-black/50 flex items-center justify-center px-5",onClick:()=>{y(!1),A(null)},children:(0,b.jsxs)("div",{className:"bg-white rounded-[24px] w-full max-w-sm p-6 animate-in zoom-in-95 duration-200",onClick:a=>a.stopPropagation(),children:[(0,b.jsxs)("div",{className:"text-center mb-6",children:[(0,b.jsx)("div",{className:"w-14 h-14 bg-red-50 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,b.jsx)(j.Trash2,{className:"w-7 h-7 text-[#FF6B6B]"})}),(0,b.jsx)("h3",{className:"text-[19px] font-bold text-[#191F28] mb-2",children:"일정을 삭제할까요?"}),(0,b.jsx)("p",{className:"text-[14px] text-[#8B95A1]",children:z.title})]}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)("button",{onClick:()=>{y(!1),A(null)},className:"flex-1 py-3.5 rounded-[14px] bg-[#F2F4F6] text-[#4E5968] font-semibold text-[15px] hover:bg-[#E5E8EB] transition-colors",children:"취소"}),(0,b.jsx)("button",{onClick:()=>{z&&(p(o.filter(a=>a.id!==z.id)),A(null),y(!1))},className:"flex-1 py-3.5 rounded-[14px] bg-[#FF6B6B] text-white font-semibold text-[15px] hover:bg-[#FF5252] transition-colors",children:"삭제"})]})]})})]})}var o=a.i(46712),p=a.i(11374),q=a.i(30505);function r(){return(0,b.jsxs)("main",{className:"min-h-dvh bg-[#F2F4F6] pb-20",children:[(0,b.jsx)("header",{className:"sticky top-0 z-30 bg-white border-b border-[#E5E8EB]",children:(0,b.jsx)("div",{className:"flex items-center justify-between px-4 h-14 max-w-md mx-auto",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(q.default,{href:"/family",className:"w-10 h-10 flex items-center justify-center rounded-full hover:bg-[#F2F4F6] transition-colors",children:(0,b.jsx)(p.ArrowLeft,{className:"w-5 h-5 text-[#191F28]"})}),(0,b.jsx)("h1",{className:"text-[17px] font-bold text-[#191F28]",children:"캘린더"})]})})}),(0,b.jsx)(n,{}),(0,b.jsx)(o.FamilyBottomNav,{})]})}a.s(["default",()=>r],52259)}];

//# sourceMappingURL=app_family_calendar_page_tsx_b35b5716._.js.map