module.exports=[72146,(a,b,c)=>{"use strict";b.exports=a.r(75411).vendored["react-ssr"].ReactServerDOMTurbopackClient},59947,(a,b,c)=>{"use strict";b.exports=a.r(75411).vendored["react-ssr"].ReactDOM},35573,a=>{"use strict";let b=(0,a.i(61237).default)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);a.s(["Heart",()=>b],35573)},1556,a=>{"use strict";let b=(0,a.i(61237).default)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);a.s(["Calendar",()=>b],1556)},10784,a=>{"use strict";let b=(0,a.i(61237).default)("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);a.s(["ImageIcon",()=>b],10784)},71949,a=>{"use strict";let b=(0,a.i(61237).default)("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);a.s(["Home",()=>b],71949)},61237,a=>{"use strict";var b=a.i(89982);let c=(...a)=>a.filter((a,b,c)=>!!a&&""!==a.trim()&&c.indexOf(a)===b).join(" ").trim();var d={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let e=(0,b.forwardRef)(({color:a="currentColor",size:e=24,strokeWidth:f=2,absoluteStrokeWidth:g,className:h="",children:i,iconNode:j,...k},l)=>(0,b.createElement)("svg",{ref:l,...d,width:e,height:e,stroke:a,strokeWidth:g?24*Number(f)/Number(e):f,className:c("lucide",h),...k},[...j.map(([a,c])=>(0,b.createElement)(a,c)),...Array.isArray(i)?i:[i]])),f=(a,d)=>{let f=(0,b.forwardRef)(({className:f,...g},h)=>(0,b.createElement)(e,{ref:h,iconNode:d,className:c(`lucide-${a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,f),...g}));return f.displayName=`${a}`,f};a.s(["default",()=>f],61237)},3803,a=>{"use strict";let b=(0,a.i(61237).default)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);a.s(["User",()=>b],3803)},46886,a=>{"use strict";let b=(0,a.i(61237).default)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);a.s(["ChevronRight",()=>b],46886)},84980,a=>{"use strict";let b=(0,a.i(61237).default)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);a.s(["Plus",()=>b],84980)},11374,a=>{"use strict";let b=(0,a.i(61237).default)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);a.s(["ArrowLeft",()=>b],11374)},25532,a=>{"use strict";let b=(0,a.i(61237).default)("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);a.s(["Camera",()=>b],25532)},46712,43579,a=>{"use strict";var b=a.i(64781),c=a.i(30505),d=a.i(8490),e=a.i(71949),f=a.i(1556),g=a.i(10784);let h=(0,a.i(61237).default)("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);a.s(["Book",()=>h],43579);var i=a.i(3803);let j=[{icon:e.Home,label:"홈",href:"/family"},{icon:f.Calendar,label:"캘린더",href:"/family/calendar"},{icon:g.ImageIcon,label:"갤러리",href:"/family/gallery"},{icon:h,label:"추억",href:"/family/archive"},{icon:i.User,label:"프로필",href:"/family/profile"}];function k(){let a=(0,d.usePathname)();return(0,b.jsxs)("nav",{className:"fixed bottom-0 left-0 right-0 z-50 bg-white border-t border-[#E5E8EB]",children:[(0,b.jsx)("div",{className:"flex items-center justify-around h-14 px-2 max-w-md mx-auto",children:j.map(d=>{let e=d.icon,f=a===d.href;return(0,b.jsxs)(c.default,{href:d.href,className:"flex flex-col items-center justify-center gap-0.5 w-16 py-1.5 transition-colors",children:[(0,b.jsx)(e,{className:`w-6 h-6 transition-colors ${f?"text-green-600":"text-[#B0B8C1]"}`,strokeWidth:f?2:1.5}),(0,b.jsx)("span",{className:`text-[10px] ${f?"text-green-600 font-medium":"text-[#B0B8C1]"}`,children:d.label})]},d.href)})}),(0,b.jsx)("div",{className:"h-[env(safe-area-inset-bottom)] bg-white"})]})}a.s(["FamilyBottomNav",()=>k],46712)},80379,a=>{"use strict";var b=a.i(64781),c=a.i(89982),d=a.i(35573),e=a.i(43579),f=a.i(46886),g=a.i(10784),h=a.i(84980),i=a.i(25532),j=a.i(91578),k=a.i(30505);function l(){let[a,l]=(0,c.useState)([]),[m,n]=(0,c.useState)(!1),[o,p]=(0,c.useState)({thisYear:0,liked:0,total:0});(0,c.useEffect)(()=>{q()},[]);let q=async()=>{try{let a=await fetch("/api/photos?userId=default&mode=family"),b=(await a.json()).map(a=>({id:a.id,src:a.url,date:new Date(a.createdAt).toLocaleDateString("ko-KR",{year:"numeric",month:"2-digit",day:"2-digit"}).replace(/\./g,"."),liked:a.liked}));l(b);let c=b.filter(a=>a.liked).length;p({thisYear:b.length,liked:c,total:b.length})}catch(a){console.error("Failed to fetch photos:",a)}},r=async b=>{let c=a.find(a=>a.id===b);if(!c)return;let d=!c.liked;l(a.map(a=>a.id===b?{...a,liked:d}:a)),p(a=>({...a,liked:d?a.liked+1:a.liked-1}));try{await fetch("/api/photos",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:b,liked:d})})}catch(c){console.error("Failed to update photo:",c),l(a.map(a=>a.id===b?{...a,liked:!d}:a)),p(a=>({...a,liked:d?a.liked-1:a.liked+1}))}};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"px-5 py-5 max-w-md mx-auto",children:[(0,b.jsxs)(k.default,{href:"/family/archive",className:"flex items-center justify-between p-4 mb-5 bg-gradient-to-r from-amber-50 to-orange-50 rounded-[16px] hover:shadow-md transition-all",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"w-11 h-11 bg-amber-100 rounded-[12px] flex items-center justify-center",children:(0,b.jsx)(e.Book,{className:"w-5 h-5 text-amber-600"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-[14px] font-bold text-[#191F28]",children:"지난 추억 보러가기"}),(0,b.jsx)("p",{className:"text-[12px] text-[#8B95A1]",children:"연애/결혼 시절 사진 모아보기"})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-1",children:[(0,b.jsxs)("span",{className:"text-[14px] font-bold text-amber-600",children:[o.total,"장"]}),(0,b.jsx)(f.ChevronRight,{className:"w-4 h-4 text-amber-500"})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-3 gap-3 mb-5",children:[(0,b.jsxs)("div",{className:"bg-white rounded-[16px] p-4 text-center shadow-sm",children:[(0,b.jsx)("p",{className:"text-[22px] font-bold text-green-500",children:o.thisYear}),(0,b.jsx)("p",{className:"text-[12px] text-[#8B95A1]",children:"올해 사진"})]}),(0,b.jsxs)("div",{className:"bg-white rounded-[16px] p-4 text-center shadow-sm",children:[(0,b.jsx)("p",{className:"text-[22px] font-bold text-pink-500",children:o.liked}),(0,b.jsx)("p",{className:"text-[12px] text-[#8B95A1]",children:"좋아요"})]}),(0,b.jsxs)("div",{className:"bg-white rounded-[16px] p-4 text-center shadow-sm",children:[(0,b.jsx)("p",{className:"text-[22px] font-bold text-[#191F28]",children:o.total}),(0,b.jsx)("p",{className:"text-[12px] text-[#8B95A1]",children:"전체"})]})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-[11px] tracking-widest text-[#8B95A1] uppercase mb-0.5",children:"Recent"}),(0,b.jsx)("h2",{className:"text-[17px] font-bold text-[#191F28]",children:"최근 사진"})]}),(0,b.jsxs)("button",{className:"flex items-center gap-1 text-[13px] text-[#8B95A1] hover:text-[#4E5968] transition-colors",children:[(0,b.jsx)(g.ImageIcon,{className:"w-4 h-4"}),"전체보기"]})]}),0===a.length?(0,b.jsxs)("div",{className:"bg-white rounded-[16px] p-8 text-center",children:[(0,b.jsx)(i.Camera,{className:"w-12 h-12 mx-auto mb-3 text-[#B0B8C1]"}),(0,b.jsx)("p",{className:"text-[14px] text-[#8B95A1]",children:"아직 사진이 없어요"}),(0,b.jsx)("p",{className:"text-[12px] text-[#B0B8C1] mt-1",children:"+ 버튼을 눌러 첫 사진을 추가해보세요"})]}):(0,b.jsx)("div",{className:"grid grid-cols-3 gap-1 rounded-[16px] overflow-hidden",children:a.map(a=>(0,b.jsxs)("div",{className:"relative aspect-square group",children:[(0,b.jsx)(j.default,{src:a.src||"/placeholder.svg",alt:"",fill:!0,className:"object-cover"}),(0,b.jsx)("div",{className:"absolute inset-0 bg-black/30 opacity-0 group-hover:opacity-100 transition-opacity"}),(0,b.jsx)("button",{onClick:()=>r(a.id),className:`absolute top-2 right-2 w-8 h-8 flex items-center justify-center rounded-full transition-all ${a.liked?"bg-pink-500 text-white":"bg-white/80 text-[#8B95A1] opacity-0 group-hover:opacity-100"}`,children:(0,b.jsx)(d.Heart,{className:"w-4 h-4",fill:a.liked?"currentColor":"none"})}),(0,b.jsx)("div",{className:"absolute bottom-2 left-2 opacity-0 group-hover:opacity-100 transition-opacity",children:(0,b.jsx)("span",{className:"text-[11px] text-white bg-black/50 px-2 py-0.5 rounded-full",children:a.date})})]},a.id))}),(0,b.jsx)("div",{className:"mt-5 text-center",children:(0,b.jsx)("button",{className:"px-6 py-3 bg-white rounded-[14px] text-[14px] font-semibold text-[#4E5968] shadow-sm hover:shadow-md transition-all",children:"더 불러오기"})})]}),(0,b.jsx)("button",{onClick:()=>n(!0),className:"fixed bottom-24 right-5 w-14 h-14 bg-green-500 hover:bg-green-600 text-white rounded-full shadow-lg flex items-center justify-center transition-all hover:scale-105 active:scale-95 z-40",children:(0,b.jsx)(h.Plus,{className:"w-6 h-6"})}),m&&(0,b.jsx)("div",{className:"fixed inset-0 z-[60] bg-black/50",onClick:()=>n(!1),children:(0,b.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 bg-white rounded-t-[24px] animate-in slide-in-from-bottom duration-300",onClick:a=>a.stopPropagation(),children:[(0,b.jsx)("div",{className:"flex justify-center pt-3 pb-2",children:(0,b.jsx)("div",{className:"w-10 h-1 bg-[#E5E8EB] rounded-full"})}),(0,b.jsxs)("div",{className:"px-5 pb-8",children:[(0,b.jsx)("h3",{className:"text-[19px] font-bold text-[#191F28] mb-5",children:"사진 추가"}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,b.jsxs)("button",{className:"flex flex-col items-center gap-3 p-6 bg-[#F2F4F6] rounded-[16px] hover:bg-[#E5E8EB] transition-colors",children:[(0,b.jsx)("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:(0,b.jsx)(g.ImageIcon,{className:"w-6 h-6 text-green-500"})}),(0,b.jsx)("span",{className:"text-[14px] font-medium text-[#333D4B]",children:"갤러리에서 선택"})]}),(0,b.jsxs)("button",{className:"flex flex-col items-center gap-3 p-6 bg-[#F2F4F6] rounded-[16px] hover:bg-[#E5E8EB] transition-colors",children:[(0,b.jsx)("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:(0,b.jsx)(i.Camera,{className:"w-6 h-6 text-blue-500"})}),(0,b.jsx)("span",{className:"text-[14px] font-medium text-[#333D4B]",children:"카메라로 촬영"})]})]}),(0,b.jsx)("button",{onClick:()=>n(!1),className:"w-full mt-4 py-3.5 text-[#8B95A1] text-[15px] font-medium",children:"취소"})]})]})})]})}var m=a.i(46712),n=a.i(11374);function o(){return(0,b.jsxs)("main",{className:"min-h-dvh bg-[#F2F4F6] pb-20",children:[(0,b.jsx)("header",{className:"sticky top-0 z-30 bg-white border-b border-[#E5E8EB]",children:(0,b.jsx)("div",{className:"flex items-center justify-between px-4 h-14 max-w-md mx-auto",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(k.default,{href:"/family",className:"w-10 h-10 flex items-center justify-center rounded-full hover:bg-[#F2F4F6] transition-colors","data-testid":"link-back-family",children:(0,b.jsx)(n.ArrowLeft,{className:"w-5 h-5 text-[#191F28]"})}),(0,b.jsx)("h1",{className:"text-[17px] font-bold text-[#191F28]",children:"갤러리"})]})})}),(0,b.jsx)(l,{}),(0,b.jsx)(m.FamilyBottomNav,{})]})}a.s(["default",()=>o],80379)}];

//# sourceMappingURL=_12a564db._.js.map